(self.webpackChunk=self.webpackChunk||[]).push([[8369],{10331:(t,e,r)=>{var n,o,i,a;self,t.exports=(n=r(65597),o=r(17502),i=r(20374),a=r(59001),(()=>{var t,e,r,s,c={"../../../node_modules/object-assign/index.js":t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,i){for(var a,s,c=o(t),u=1;u<arguments.length;u++){for(var p in a=Object(arguments[u]))r.call(a,p)&&(c[p]=a[p]);if(e){s=e(a);for(var l=0;l<s.length;l++)n.call(a,s[l])&&(c[s[l]]=a[s[l]])}}return c}},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(t,e,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(t,e,r)=>{t.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../../node_modules/react/cjs/react.production.min.js":(t,e,r)=>{"use strict";var n=r("../../../node_modules/object-assign/index.js"),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,p=o?Symbol.for("react.provider"):60109,l=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,y=o?Symbol.for("react.memo"):60115,d=o?Symbol.for("react.lazy"):60116,_="function"==typeof Symbol&&Symbol.iterator;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||m}function w(){}function k(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(b(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=v.prototype;var O=k.prototype=new w;O.constructor=k,n(O,v.prototype),O.isPureReactComponent=!0;var P={current:null},C=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,r){var n,o={},a=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)C.call(e,n)&&!T.hasOwnProperty(n)&&(o[n]=e[n]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),p=0;p<c;p++)u[p]=arguments[p+2];o.children=u}if(t&&t.defaultProps)for(n in c=t.defaultProps)void 0===o[n]&&(o[n]=c[n]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:P.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var D=/\/+/g,j=[];function x(t,e,r,n){if(j.length){var o=j.pop();return o.result=t,o.keyPrefix=e,o.func=r,o.context=n,o.count=0,o}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>j.length&&j.push(t)}function R(t,e,r,n){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case i:case a:s=!0}}if(s)return r(n,t,""===e?"."+z(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=e+z(o=t[c],c);s+=R(o,u,r,n)}else if("function"==typeof(u=null===t||"object"!=typeof t?null:"function"==typeof(u=_&&t[_]||t["@@iterator"])?u:null))for(t=u.call(t),c=0;!(o=t.next()).done;)s+=R(o=o.value,u=e+z(o,c++),r,n);else if("object"===o)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}function E(t,e,r){return null==t?0:R(t,"",e,r)}function z(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function M(t,e,r){var n=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?W(t,n,r,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+r)),n.push(t))}function W(t,e,r,n,o){var i="";null!=r&&(i=(""+r).replace(D,"$&/")+"/"),E(t,M,e=x(e,i,n,o)),I(e)}var F={current:null};function V(){var t=F.current;if(null===t)throw Error(b(321));return t}var B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,r){if(null==t)return t;var n=[];return W(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;E(t,L,e=x(null,null,e,r)),I(e)},count:function(t){return E(t,(function(){return null}),null)},toArray:function(t){var e=[];return W(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(b(143));return t}},e.Component=v,e.Fragment=s,e.Profiler=u,e.PureComponent=k,e.StrictMode=c,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,e.cloneElement=function(t,e,r){if(null==t)throw Error(b(267,t));var o=n({},t.props),a=t.key,s=t.ref,c=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,c=P.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(p in e)C.call(e,p)&&!T.hasOwnProperty(p)&&(o[p]=void 0===e[p]&&void 0!==u?u[p]:e[p])}var p=arguments.length-2;if(1===p)o.children=r;else if(1<p){u=Array(p);for(var l=0;l<p;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:c}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:l,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:p,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:d,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:y,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return V().useCallback(t,e)},e.useContext=function(t,e){return V().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return V().useEffect(t,e)},e.useImperativeHandle=function(t,e,r){return V().useImperativeHandle(t,e,r)},e.useLayoutEffect=function(t,e){return V().useLayoutEffect(t,e)},e.useMemo=function(t,e){return V().useMemo(t,e)},e.useReducer=function(t,e,r){return V().useReducer(t,e,r)},e.useRef=function(t){return V().useRef(t)},e.useState=function(t){return V().useState(t)},e.version="16.14.0"},"../../../node_modules/react/index.js":(t,e,r)=>{"use strict";t.exports=r("../../../node_modules/react/cjs/react.production.min.js")},"@deriv/components":t=>{"use strict";t.exports=n},"@deriv/shared":t=>{"use strict";t.exports=o},"@deriv/translations":t=>{"use strict";t.exports=i},mobx:t=>{"use strict";t.exports=a}},u={};function p(t){var e=u[t];if(void 0!==e)return e.exports;var r=u[t]={exports:{}};return c[t].call(r.exports,r,r.exports,p),r.exports}p.m=c,p.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return p.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,p.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);p.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>i[t]=()=>r[t]));return i.default=()=>r,p.d(o,i),o},p.d=(t,e)=>{for(var r in e)p.o(e,r)&&!p.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},p.f={},p.e=t=>Promise.all(Object.keys(p.f).reduce(((e,r)=>(p.f[r](t,e),e)),[])),p.u=t=>"cashier/js/cashier."+t+".4b458ac4203eb84dc516.js",p.miniCssF=t=>{},p.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r={},s="@deriv/cashier:",p.l=(t,e,n,o)=>{if(r[t])r[t].push(e);else{var i,a;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==s+n){i=l;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,p.nc&&i.setAttribute("nonce",p.nc),i.setAttribute("data-webpack",s+n),i.src=t),r[t]=[e];var f=(e,n)=>{i.onerror=i.onload=null,clearTimeout(h);var o=r[t];if(delete r[t],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((t=>t(n))),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),a&&document.head.appendChild(i)}},p.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},p.p="/",(()=>{var t={"cashier-store":0};p.f.j=(e,r)=>{var n=p.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=t[e]=[r,o]));r.push(n[2]=o);var i=p.p+p.u(e),a=new Error;p.l(i,(r=>{if(p.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,o,[i,a,s]=r,c=0;for(n in a)p.o(a,n)&&(p.m[n]=a[n]);for(s&&s(p),e&&e(r);c<i.length;c++)o=i[c],p.o(t,o)&&t[o]&&t[o][0](),t[i[c]]=0},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var l={};return(()=>{"use strict";p.d(l,{default:()=>ja});var t=p("../../../node_modules/react/index.js"),e=p("mobx"),r=p("@deriv/shared"),n=p("@deriv/translations");const o=function(t){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,n.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(e,r){t.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(t){if(t.error)r(t.error.message);else{var n=t.service_token.banxa.url;n&&window.open(n),e()}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}},i=function(t){return{icon:{dark:"IcCashierChangellyDark",light:"IcCashierChangellyLight"},name:"Changelly",getDescription:function(){return(0,n.localize)("Your simple access to crypto. Fast and secure way to exchange and purchase cryptocurrencies. 24/7 live chat support.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return"usd"},getFromCurrencies:function(){return["usd","eur","gbp"]},getToCurrencies:function(){return["bch","btc","etc","eth","ltc","ust"]},getWidgetHtml:function(){var e=this;return new Promise((function(r){var n=new URL("https://widget.changelly.com/?v=3&theme=default");n.searchParams.append("fromDefault",e.getDefaultFromCurrency());var o=t.root_store.client.currency.toLowerCase();if(e.getToCurrencies().includes(o)){var i="ust"===o?"usdt":o;n.searchParams.append("to",i),n.searchParams.append("toDefault",i)}n.searchParams.append("amount",1),n.searchParams.append("merchant_id","iiq3jdt2p44yrfbx"),window.open(n),r()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!0}},a=function(t){return{icon:{dark:"IcCashierXanpoolDark",light:"IcCashierXanpoolLight"},name:"XanPool",getDescription:function(){return(0,n.localize)("Buy cryptocurrencies in an instant. Enjoy easy, quick, and secure exchanges using your local payment methods.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierFpsDark",light:"IcCashierFpsLight"},{dark:"IcCashierAliPayDark",light:"IcCashierAliPayLight"},{dark:"IcCashierGoPayDark",light:"IcCashierGoPayLight"},{dark:"IcCashierMandiriPay",light:"IcCashierMandiriPay"},{dark:"IcCashierInstaPayLight",light:"IcCashierInstaPayDark"},{dark:"IcCashierCebuanaLhuillierDark",light:"IcCashierCebuanaLhuillierLight"},{dark:"IcCashierPayNowDark",light:"IcCashierPayNowLight"},{dark:"IcCashierUpiDark",light:"IcCashierUpiLight"},{dark:"IcCashierPromptPayDark",light:"IcCashierPromptPayLight"},{dark:"IcCashierViettlePay",light:"IcCashierViettlePay"}]},getScriptDependencies:function(){return[]},getToCurrencies:function(){return["btc","eth","ust","zil","nem"]},getWidgetHtml:function(){return new Promise((function(e){var r=t.root_store.client.currency,n="https://checkout.xanpool.com/";n+="?apiKey=db4ec638dff9a68abda1ef6b7638c220",n+="&redirectUrl=".concat(window.location.href),n+="&wallet=".concat(t.deposit_address),n+="&cryptoCurrency=".concat("UST"===r?"USDT":r),n+="&transactionType=buy",window.open(n),e()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};var s=function(t,e){var r=e;return e&&!Array.isArray(e)&&(r=[e]),t.replace(/\[_(\d+)]/g,(function(t,e){return r[+e-1]}))};function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r,n;return e=t,(r=[{key:"add",value:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(t){return this.has(t)?this.errors[t][0]:null}},{key:"get",value:function(t){return this.has(t)?this.errors[t]:[]}},{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}}])&&c(e.prototype,r),n&&c(e,n),t}();function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const y=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,t),this.input=e,this.rules=r,this.store=n,this.errors=new u,this.error_count=0}var e,n,o;return e=t,o=[{key:"getRuleObject",value:function(t){var e="string"==typeof t,n={name:e?t:t[0],options:e?{}:t[1]||{}};return n.validator="custom"===n.name?t[1].func:(0,r.getPreBuildDVRs)()[n.name].func,n}}],(n=[{key:"addFailure",value:function(t,e,n){var o=n||e.options.message||(0,r.getPreBuildDVRs)()[e.name].message();"length"===e.name?o=s(o,[e.options.min===e.options.max?e.options.min:"".concat(e.options.min,"-").concat(e.options.max)]):"min"===e.name?o=s(o,[e.options.min]):"not_equal"===e.name&&(o=s(o,[e.options.name1,e.options.name2])),this.errors.add(t,o),this.error_count++}},{key:"check",value:function(){var e=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(e.rules,r)&&e.rules[r].forEach((function(n){var o=t.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(e.store))&&(""!==e.input[r]||"req"===o.name)){var i,a;if("number"===o.name){var s=o.validator(e.input[r],o.options,e.store,e.input);i=s.is_ok,a=s.message}else i=o.validator(e.input[r],o.options,e.store,e.input);i||e.addFailure(r,o,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&h(e.prototype,n),o&&h(e,o),t}();var d,_,b,m,g,v,w,k,O,P,C,T,S,A,D,j,x,I,R,E,z,L;function M(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function W(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){M(i,n,o,a,s,"next",t)}function s(t){M(i,n,o,a,s,"throw",t)}a(void 0)}))}}function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function q(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var $,G,X,K,J,Y,Q,Z,tt,et,rt,nt,ot,it,at,st,ct,ut,pt,lt,ft,ht,yt,dt,_t,bt,mt,gt,vt,wt,kt,Ot,Pt,Ct,Tt=(d=e.action.bound,_=e.action.bound,b=e.action.bound,m=e.action.bound,g=e.action.bound,v=e.action.bound,w=e.action.bound,k=e.action.bound,O=e.action.bound,P=e.action.bound,C=e.action.bound,T=e.action.bound,S=e.action.bound,A=e.action.bound,D=e.action.bound,j=e.action.bound,L=z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,t),N(this,"validation_errors",I,this),N(this,"validation_rules",R,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,N(this,"partial_fetch_time",E,this);var r=e.root_store,n=e.local_storage_properties,o=e.session_storage_properties,i=e.validation_rules,a=e.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),n&&n.length||o&&o.length){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var n,o,i;return n=t,(o=[{key:"getSnapshot",value:function(t){var n=(0,e.toJS)(this);return(0,r.isEmptyObject)(this.root_store)||(n.root_store=this.root_store),t&&t.length&&(n=t.reduce((function(t,e){return Object.assign(t,B({},e,n[e]))}),{})),n}},{key:"setupReactionForLocalStorage",value:function(){var r=this;this.local_storage_properties.length&&(0,e.reaction)((function(){return r.local_storage_properties.map((function(t){return r[t]}))}),(function(){return r.saveToStorage(r.local_storage_properties,t.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var r=this;this.session_storage_properties.length&&(0,e.reaction)((function(){return r.session_storage_properties.map((function(t){return r[t]}))}),(function(){return r.saveToStorage(r.session_storage_properties,t.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(e,r){var n=JSON.stringify(this.getSnapshot(e),(function(t,e){if(null!==e)return e}));r===t.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===t.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=V(V({},e),r);Object.keys(n).forEach((function(e){return t[e]=n[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(t,r){var n=this;this.validation_rules[t]=r,(0,e.intercept)(this,t,(function(e){return n.validateProperty(t,e.newValue),e}))}},{key:"validateProperty",value:function(t,e){var r=this,n=this.validation_rules[t].trigger,o=B({},t,void 0!==e?e:this[t]),i=B({},t,this.validation_rules[t].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new y(o,i,this);a.isPassed(),Object.keys(o).forEach((function(t){r.setValidationErrorMessages(t,a.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(t){var n=this;t&&(this.switch_account_listener=t,this.switchAccountDisposer=(0,e.when)((function(){return n.root_store.client.switch_broadcast}),(function(){try{var t=n.switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Switching account listeners are required to return a promise.");t.then((function(){n.root_store.client.switchEndSignal(),n.onSwitchAccount(n.switch_account_listener)}))}catch(t){(0,r.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(t){var n=this;t&&(this.pre_switch_account_listener=t,this.preSwitchAccountDisposer=(0,e.when)((function(){return n.root_store.client.pre_switch_broadcast}),(function(){try{var t=n.pre_switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((function(){n.root_store.client.setPreSwitchAccount(!1),n.onPreSwitchAccount(n.pre_switch_account_listener)}))}catch(t){(0,r.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(t){var n=this;this.logoutDisposer=(0,e.when)((function(){return n.root_store.client.has_logged_out}),W(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=n.logout_listener())||!e.then||"function"!=typeof e.then){t.next=6;break}e.then((function(){n.root_store.client.setLogout(!1),n.onLogout(n.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,r.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=t}},{key:"onClientInit",value:function(t){var n=this;this.clientInitDisposer=(0,e.when)((function(){return n.root_store.client.initialized_broadcast}),W(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=n.client_init_listener())||!e.then||"function"!=typeof e.then){t.next=6;break}e.then((function(){n.root_store.client.setInitialized(!1),n.onClientInit(n.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,r.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=t}},{key:"onNetworkStatusChange",value:function(t){var n=this;this.networkStatusChangeDisposer=(0,e.reaction)((function(){return n.root_store.common.is_network_online}),(function(t){try{n.network_status_change_listener(t)}catch(t){(0,r.isProduction)()||console.error(t)}})),this.network_status_change_listener=t}},{key:"onThemeChange",value:function(t){var n=this;this.themeChangeDisposer=(0,e.reaction)((function(){return n.root_store.ui.is_dark_mode_on}),(function(t){try{n.theme_change_listener(t)}catch(t){(0,r.isProduction)()||console.error(t)}})),this.theme_change_listener=t}},{key:"onRealAccountSignupEnd",value:function(t){var n=this;this.realAccountSignupEndedDisposer=(0,e.when)((function(){return n.root_store.ui.has_real_account_signup_ended}),(function(){try{var t=n.real_account_signup_ended_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Real account signup listeners are required to return a promise.");t.then((function(){n.root_store.ui.setRealAccountSignupEnd(!1),n.onRealAccountSignupEnd(n.real_account_signup_ended_listener)}))}catch(t){(0,r.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=t}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){if(this.root_store.client.loginid!==t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(t){return t()})),this.partial_fetch_time=!1}}}])&&U(n.prototype,o),i&&U(n,i),t}(),z.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),I=q((x=L).prototype,"validation_errors",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=q(x.prototype,"validation_rules",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=q(x.prototype,"partial_fetch_time",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q(x.prototype,"retrieveFromStorage",[e.action],Object.getOwnPropertyDescriptor(x.prototype,"retrieveFromStorage"),x.prototype),q(x.prototype,"setValidationErrorMessages",[e.action],Object.getOwnPropertyDescriptor(x.prototype,"setValidationErrorMessages"),x.prototype),q(x.prototype,"setValidationRules",[e.action],Object.getOwnPropertyDescriptor(x.prototype,"setValidationRules"),x.prototype),q(x.prototype,"addRule",[e.action],Object.getOwnPropertyDescriptor(x.prototype,"addRule"),x.prototype),q(x.prototype,"validateProperty",[e.action],Object.getOwnPropertyDescriptor(x.prototype,"validateProperty"),x.prototype),q(x.prototype,"validateAllProperties",[e.action],Object.getOwnPropertyDescriptor(x.prototype,"validateAllProperties"),x.prototype),q(x.prototype,"onSwitchAccount",[d],Object.getOwnPropertyDescriptor(x.prototype,"onSwitchAccount"),x.prototype),q(x.prototype,"onPreSwitchAccount",[_],Object.getOwnPropertyDescriptor(x.prototype,"onPreSwitchAccount"),x.prototype),q(x.prototype,"onLogout",[b],Object.getOwnPropertyDescriptor(x.prototype,"onLogout"),x.prototype),q(x.prototype,"onClientInit",[m],Object.getOwnPropertyDescriptor(x.prototype,"onClientInit"),x.prototype),q(x.prototype,"onNetworkStatusChange",[g],Object.getOwnPropertyDescriptor(x.prototype,"onNetworkStatusChange"),x.prototype),q(x.prototype,"onThemeChange",[v],Object.getOwnPropertyDescriptor(x.prototype,"onThemeChange"),x.prototype),q(x.prototype,"onRealAccountSignupEnd",[w],Object.getOwnPropertyDescriptor(x.prototype,"onRealAccountSignupEnd"),x.prototype),q(x.prototype,"disposePreSwitchAccount",[k],Object.getOwnPropertyDescriptor(x.prototype,"disposePreSwitchAccount"),x.prototype),q(x.prototype,"disposeSwitchAccount",[O],Object.getOwnPropertyDescriptor(x.prototype,"disposeSwitchAccount"),x.prototype),q(x.prototype,"disposeLogout",[P],Object.getOwnPropertyDescriptor(x.prototype,"disposeLogout"),x.prototype),q(x.prototype,"disposeClientInit",[C],Object.getOwnPropertyDescriptor(x.prototype,"disposeClientInit"),x.prototype),q(x.prototype,"disposeNetworkStatusChange",[T],Object.getOwnPropertyDescriptor(x.prototype,"disposeNetworkStatusChange"),x.prototype),q(x.prototype,"disposeThemeChange",[S],Object.getOwnPropertyDescriptor(x.prototype,"disposeThemeChange"),x.prototype),q(x.prototype,"disposeRealAccountSignupEnd",[A],Object.getOwnPropertyDescriptor(x.prototype,"disposeRealAccountSignupEnd"),x.prototype),q(x.prototype,"onUnmount",[D],Object.getOwnPropertyDescriptor(x.prototype,"onUnmount"),x.prototype),q(x.prototype,"assertHasValidCache",[j],Object.getOwnPropertyDescriptor(x.prototype,"assertHasValidCache"),x.prototype),x);function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Dt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){At(i,n,o,a,s,"next",t)}function s(t){At(i,n,o,a,s,"throw",t)}a(void 0)}))}}function jt(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lt(t);if(e){var o=Lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Et(this,r)}}function Et(t,e){return!e||"object"!==St(e)&&"function"!=typeof e?zt(t):e}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Wt,Ft,Vt,Bt,Nt,Ht,Ut,qt,$t,Gt,Xt,Kt,Jt,Yt,Qt,Zt,te,ee,re,ne,oe,ie,ae,se,ce,ue,pe,le=($=e.observable.shallow,G=e.observable.ref,X=e.action.bound,K=e.action.bound,J=e.action.bound,Y=e.action.bound,Q=e.action.bound,Z=e.action.bound,tt=e.action.bound,et=e.action.bound,rt=e.action.bound,nt=e.action.bound,ot=e.action.bound,it=e.action.bound,at=e.action.bound,st=e.action.bound,ct=e.action.bound,ut=e.action.bound,pt=e.action.bound,lt=e.action.bound,ft=e.action.bound,ht=e.action.bound,dt=Mt((yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(f,t);var s,c,u,l=Rt(f);function f(t){var e,r=t.WS,n=t.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),jt(e=l.call(this,{root_store:n}),"api_error",dt,zt(e)),jt(e,"deposit_address",_t,zt(e)),jt(e,"is_deposit_address_loading",bt,zt(e)),jt(e,"is_deposit_address_popover_open",mt,zt(e)),jt(e,"is_onramp_modal_open",gt,zt(e)),jt(e,"is_requesting_widget_html",vt,zt(e)),jt(e,"onramp_providers",wt,zt(e)),jt(e,"selected_provider",kt,zt(e)),jt(e,"should_show_widget",Ot,zt(e)),jt(e,"widget_error",Pt,zt(e)),jt(e,"widget_html",Ct,zt(e)),e.deposit_address_ref=null,e.WS=r,e.onClientInit(Dt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setOnrampProviders([i(zt(e)),a(zt(e)),o(zt(e))]);case 1:case"end":return t.stop()}}),t)})))),e}return s=f,(c=[{key:"is_onramp_tab_visible",get:function(){var t=this.root_store.client;return!1===t.is_virtual&&(0,r.isCryptocurrency)(t.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var t=this.root_store.client;return this.onramp_providers.filter((function(e){var r=e.getToCurrencies();return r.includes("*")||r.includes(t.currency.toLowerCase())})).filter((function(e){var r=e.getAllowedResidencies();return r.includes("*")||r.includes(t.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,n.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?(0,n.localize)("Our server cannot retrieve an address."):" ":void 0}},{key:"should_show_dialog",get:function(){return this.api_error}},{key:"onMountOnramp",value:function(){var t=this;this.disposeThirdPartyJsReaction=(0,e.reaction)((function(){return t.selected_provider}),function(){var e=Dt(regeneratorRuntime.mark((function e(n){var o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(0!==(o=n.getScriptDependencies()).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,p.e("loadjs").then(p.t.bind(p,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:i=e.sent,a=i.default,s="".concat((0,r.getKebabCase)(n.name),"-onramp"),a.isDefined(s)||a(o,s,{error:function(){console.warn("Dependencies for onramp provider ".concat(n.name," could not be loaded.")),t.setSelectedProvider(null)}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,e.reaction)((function(){return t.should_show_widget}),(function(e){if(e){if(t.is_requesting_widget_html)return;t.setIsRequestingWidgetHtml(!0),t.selected_provider.getWidgetHtml().then((function(e){e?t.setWidgetHtml(e):t.setShouldShowWidget(!1)})).catch((function(e){t.setWidgetError(e)})).finally((function(){return t.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickCopyDepositAddress",value:function(){var t=this,e=document.createRange();e.selectNodeContents(this.deposit_address_ref);var r=window.getSelection();r.removeAllRanges(),r.addRange(e),navigator.clipboard.writeText(this.deposit_address).then((function(){t.setIsDepositAddressPopoverOpen(!0),setTimeout((function(){return t.setIsDepositAddressPopoverOpen(!1)}),500)}))}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:function(){this.pollApiForDepositAddress(!1),window.open((0,r.websiteUrl)()+r.routes.cashier_deposit.substring(1))}},{key:"pollApiForDepositAddress",value:function(t){var e=this;this.setIsDepositAddressLoading(!0),this.setApiError(null);var r=setInterval((function(){return n}),3e3),n=function(){e.root_store.modules.cashier.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(n){var o=!1;if(n.error)e.setApiError(n.error),o=!0;else{var i=n.cashier.deposit.address;(i||t)&&(e.setDepositAddress(i),o=!0)}o&&(clearInterval(r),e.setIsDepositAddressLoading(!1))}))};n(),setTimeout((function(){clearInterval(r),e.setIsDepositAddressLoading(!1)}),3e4)}},{key:"resetPopup",value:function(){this.setApiError(null),this.setDepositAddress(null),this.setDepositAddressRef(null),this.setIsDepositAddressLoading(!0),this.setSelectedProvider(null),this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null)}},{key:"setApiError",value:function(t){this.api_error=t}},{key:"setCopyIconRef",value:function(t){this.copy_icon_ref=t}},{key:"setDepositAddress",value:function(t){this.deposit_address=t}},{key:"setDepositAddressRef",value:function(t){this.deposit_address_ref=t}},{key:"setIsDepositAddressLoading",value:function(t){this.is_deposit_address_loading=t}},{key:"setIsDepositAddressPopoverOpen",value:function(t){this.is_deposit_address_popover_open=t}},{key:"setIsOnRampModalOpen",value:function(t){this.is_onramp_modal_open=t}},{key:"setIsRequestingWidgetHtml",value:function(t){this.is_requesting_widget_html=t}},{key:"setSelectedProvider",value:function(t){t?(this.selected_provider=t,this.setIsOnRampModalOpen(!0),this.pollApiForDepositAddress(!0)):(this.setIsOnRampModalOpen(!1),this.selected_provider=null)}},{key:"setShouldShowWidget",value:function(t){this.should_show_widget=t}},{key:"setOnrampProviders",value:function(t){this.onramp_providers=t.slice()}},{key:"setWidgetError",value:function(t){this.widget_error=t}},{key:"setWidgetHtml",value:function(t){this.widget_html=t}}])&&xt(s.prototype,c),u&&xt(s,u),f}(Tt)).prototype,"api_error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=Mt(yt.prototype,"deposit_address",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=Mt(yt.prototype,"is_deposit_address_loading",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mt=Mt(yt.prototype,"is_deposit_address_popover_open",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gt=Mt(yt.prototype,"is_onramp_modal_open",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vt=Mt(yt.prototype,"is_requesting_widget_html",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wt=Mt(yt.prototype,"onramp_providers",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kt=Mt(yt.prototype,"selected_provider",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=Mt(yt.prototype,"should_show_widget",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=Mt(yt.prototype,"widget_error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=Mt(yt.prototype,"widget_html",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt(yt.prototype,"is_onramp_tab_visible",[e.computed],Object.getOwnPropertyDescriptor(yt.prototype,"is_onramp_tab_visible"),yt.prototype),Mt(yt.prototype,"filtered_onramp_providers",[e.computed],Object.getOwnPropertyDescriptor(yt.prototype,"filtered_onramp_providers"),yt.prototype),Mt(yt.prototype,"onramp_popup_modal_title",[e.computed],Object.getOwnPropertyDescriptor(yt.prototype,"onramp_popup_modal_title"),yt.prototype),Mt(yt.prototype,"should_show_dialog",[e.computed],Object.getOwnPropertyDescriptor(yt.prototype,"should_show_dialog"),yt.prototype),Mt(yt.prototype,"onMountOnramp",[X],Object.getOwnPropertyDescriptor(yt.prototype,"onMountOnramp"),yt.prototype),Mt(yt.prototype,"onUnmountOnramp",[K],Object.getOwnPropertyDescriptor(yt.prototype,"onUnmountOnramp"),yt.prototype),Mt(yt.prototype,"onClickCopyDepositAddress",[J],Object.getOwnPropertyDescriptor(yt.prototype,"onClickCopyDepositAddress"),yt.prototype),Mt(yt.prototype,"onClickDisclaimerContinue",[Y],Object.getOwnPropertyDescriptor(yt.prototype,"onClickDisclaimerContinue"),yt.prototype),Mt(yt.prototype,"onClickGoToDepositPage",[Q],Object.getOwnPropertyDescriptor(yt.prototype,"onClickGoToDepositPage"),yt.prototype),Mt(yt.prototype,"pollApiForDepositAddress",[Z],Object.getOwnPropertyDescriptor(yt.prototype,"pollApiForDepositAddress"),yt.prototype),Mt(yt.prototype,"resetPopup",[tt],Object.getOwnPropertyDescriptor(yt.prototype,"resetPopup"),yt.prototype),Mt(yt.prototype,"setApiError",[et],Object.getOwnPropertyDescriptor(yt.prototype,"setApiError"),yt.prototype),Mt(yt.prototype,"setCopyIconRef",[rt],Object.getOwnPropertyDescriptor(yt.prototype,"setCopyIconRef"),yt.prototype),Mt(yt.prototype,"setDepositAddress",[nt],Object.getOwnPropertyDescriptor(yt.prototype,"setDepositAddress"),yt.prototype),Mt(yt.prototype,"setDepositAddressRef",[ot],Object.getOwnPropertyDescriptor(yt.prototype,"setDepositAddressRef"),yt.prototype),Mt(yt.prototype,"setIsDepositAddressLoading",[it],Object.getOwnPropertyDescriptor(yt.prototype,"setIsDepositAddressLoading"),yt.prototype),Mt(yt.prototype,"setIsDepositAddressPopoverOpen",[at],Object.getOwnPropertyDescriptor(yt.prototype,"setIsDepositAddressPopoverOpen"),yt.prototype),Mt(yt.prototype,"setIsOnRampModalOpen",[st],Object.getOwnPropertyDescriptor(yt.prototype,"setIsOnRampModalOpen"),yt.prototype),Mt(yt.prototype,"setIsRequestingWidgetHtml",[ct],Object.getOwnPropertyDescriptor(yt.prototype,"setIsRequestingWidgetHtml"),yt.prototype),Mt(yt.prototype,"setSelectedProvider",[ut],Object.getOwnPropertyDescriptor(yt.prototype,"setSelectedProvider"),yt.prototype),Mt(yt.prototype,"setShouldShowWidget",[pt],Object.getOwnPropertyDescriptor(yt.prototype,"setShouldShowWidget"),yt.prototype),Mt(yt.prototype,"setOnrampProviders",[lt],Object.getOwnPropertyDescriptor(yt.prototype,"setOnrampProviders"),yt.prototype),Mt(yt.prototype,"setWidgetError",[ft],Object.getOwnPropertyDescriptor(yt.prototype,"setWidgetError"),yt.prototype),Mt(yt.prototype,"setWidgetHtml",[ht],Object.getOwnPropertyDescriptor(yt.prototype,"setWidgetHtml"),yt.prototype),yt);function fe(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function he(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){fe(i,n,o,a,s,"next",t)}function s(t){fe(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ye(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function de(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _e(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var be,me,ge,ve,we,ke,Oe,Pe,Ce,Te,Se,Ae=(Wt=e.action.bound,Ft=e.action.bound,Vt=e.action.bound,Bt=e.action.bound,Nt=e.action.bound,Ht=e.action.bound,Ut=e.action.bound,qt=e.action.bound,$t=e.action.bound,Gt=e.action.bound,Xt=e.action.bound,Kt=e.action.bound,Jt=e.action.bound,Yt=e.action.bound,Qt=e.action.bound,Zt=e.action.bound,te=e.action.bound,ee=e.action.bound,ne=_e((re=function(){function t(e){var r=e.WS,n=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,"crypto_transactions",ne,this),ye(this,"is_crypto_transactions_cancel_modal_visible",oe,this),ye(this,"is_crypto_transactions_status_modal_visible",ie,this),ye(this,"is_crypto_transactions_visible",ae,this),ye(this,"is_loading",se,this),ye(this,"selected_crypto_transaction_id",ce,this),ye(this,"selected_crypto_status",ue,this),ye(this,"selected_crypto_status_description",pe,this),this.root_store=n,this.WS=r}var e,n,o,i,a,s,c;return e=t,(n=[{key:"updateCryptoTransactions",value:function(t){var e=this;t.forEach((function(t){var r=e.crypto_transactions.findIndex((function(e){return e.id===t.id}));-1===r?e.crypto_transactions.push(t):Object.assign(e.crypto_transactions[r],t)})),this.sortCryptoTransactions()}},{key:"setCryptoTransactionsHistory",value:function(t){this.crypto_transactions=t,this.sortCryptoTransactions()}},{key:"sortCryptoTransactions",value:function(){this.crypto_transactions=this.crypto_transactions.sort((function(t,e){return e.submit_date-t.submit_date}))}},{key:"getCryptoTransactions",value:(c=he(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.subscribeCashierPayments((function(t){if(!t.error){var r=t.cashier_payments.crypto;e.updateCryptoTransactions(r)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"onMount",value:(s=he(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.root_store.client,n=e.currency,o=e.switched,!n||!(0,r.isCryptocurrency)(n)||o){t.next=9;break}return this.setLoading(!0),t.next=6,this.unsubscribeCryptoTransactions();case 6:return t.next=8,this.getCryptoTransactions();case 8:this.setLoading(!1);case 9:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"unsubscribeCryptoTransactions",value:(a=he(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.cashierPayments({provider:"crypto",transaction_type:"all"}).then((function(t){if(!t.error){var r=t.cashier_payments.crypto;e.setCryptoTransactionsHistory(r)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"cancelCryptoTransaction",value:(i=he(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.cancelCryptoTransaction(e).then((function(t){return t.error?Promise.reject(t.error):(r.setSelectedCryptoTransactionId(""),r.setIsCryptoTransactionsCancelModalVisible(!1),Promise.resolve(t))}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setSelectedCryptoTransactionId",value:function(t){this.selected_crypto_transaction_id=t}},{key:"setIsCryptoTransactionsCancelModalVisible",value:function(t){this.is_crypto_transactions_cancel_modal_visible=t}},{key:"showCryptoTransactionsCancelModal",value:function(t){this.setSelectedCryptoTransactionId(t),this.setIsCryptoTransactionsCancelModalVisible(!0)}},{key:"hideCryptoTransactionsCancelModal",value:function(){this.setSelectedCryptoTransactionId(""),this.setIsCryptoTransactionsCancelModalVisible(!1)}},{key:"setSelectedCryptoStatus",value:function(t){this.selected_crypto_status=t}},{key:"setSelectedCryptoStatusDescription",value:function(t){this.selected_crypto_status_description=t}},{key:"setIsCryptoTransactionsStatusModalVisible",value:function(t){this.is_crypto_transactions_status_modal_visible=t}},{key:"showCryptoTransactionsStatusModal",value:function(t,e){this.setSelectedCryptoStatusDescription(t),this.setSelectedCryptoStatus(e),this.setIsCryptoTransactionsStatusModalVisible(!0)}},{key:"hideCryptoTransactionsStatusModal",value:function(){this.setIsCryptoTransactionsStatusModalVisible(!1)}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setIsCryptoTransactionsVisible",value:function(t){this.is_crypto_transactions_visible=t}}])&&de(e.prototype,n),o&&de(e,o),t}()).prototype,"crypto_transactions",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=_e(re.prototype,"is_crypto_transactions_cancel_modal_visible",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie=_e(re.prototype,"is_crypto_transactions_status_modal_visible",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=_e(re.prototype,"is_crypto_transactions_visible",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=_e(re.prototype,"is_loading",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=_e(re.prototype,"selected_crypto_transaction_id",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ue=_e(re.prototype,"selected_crypto_status",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pe=_e(re.prototype,"selected_crypto_status_description",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_e(re.prototype,"updateCryptoTransactions",[Wt],Object.getOwnPropertyDescriptor(re.prototype,"updateCryptoTransactions"),re.prototype),_e(re.prototype,"setCryptoTransactionsHistory",[Ft],Object.getOwnPropertyDescriptor(re.prototype,"setCryptoTransactionsHistory"),re.prototype),_e(re.prototype,"sortCryptoTransactions",[Vt],Object.getOwnPropertyDescriptor(re.prototype,"sortCryptoTransactions"),re.prototype),_e(re.prototype,"getCryptoTransactions",[Bt],Object.getOwnPropertyDescriptor(re.prototype,"getCryptoTransactions"),re.prototype),_e(re.prototype,"onMount",[Nt],Object.getOwnPropertyDescriptor(re.prototype,"onMount"),re.prototype),_e(re.prototype,"unsubscribeCryptoTransactions",[Ht],Object.getOwnPropertyDescriptor(re.prototype,"unsubscribeCryptoTransactions"),re.prototype),_e(re.prototype,"cancelCryptoTransaction",[Ut],Object.getOwnPropertyDescriptor(re.prototype,"cancelCryptoTransaction"),re.prototype),_e(re.prototype,"setSelectedCryptoTransactionId",[qt],Object.getOwnPropertyDescriptor(re.prototype,"setSelectedCryptoTransactionId"),re.prototype),_e(re.prototype,"setIsCryptoTransactionsCancelModalVisible",[$t],Object.getOwnPropertyDescriptor(re.prototype,"setIsCryptoTransactionsCancelModalVisible"),re.prototype),_e(re.prototype,"showCryptoTransactionsCancelModal",[Gt],Object.getOwnPropertyDescriptor(re.prototype,"showCryptoTransactionsCancelModal"),re.prototype),_e(re.prototype,"hideCryptoTransactionsCancelModal",[Xt],Object.getOwnPropertyDescriptor(re.prototype,"hideCryptoTransactionsCancelModal"),re.prototype),_e(re.prototype,"setSelectedCryptoStatus",[Kt],Object.getOwnPropertyDescriptor(re.prototype,"setSelectedCryptoStatus"),re.prototype),_e(re.prototype,"setSelectedCryptoStatusDescription",[Jt],Object.getOwnPropertyDescriptor(re.prototype,"setSelectedCryptoStatusDescription"),re.prototype),_e(re.prototype,"setIsCryptoTransactionsStatusModalVisible",[Yt],Object.getOwnPropertyDescriptor(re.prototype,"setIsCryptoTransactionsStatusModalVisible"),re.prototype),_e(re.prototype,"showCryptoTransactionsStatusModal",[Qt],Object.getOwnPropertyDescriptor(re.prototype,"showCryptoTransactionsStatusModal"),re.prototype),_e(re.prototype,"hideCryptoTransactionsStatusModal",[Zt],Object.getOwnPropertyDescriptor(re.prototype,"hideCryptoTransactionsStatusModal"),re.prototype),_e(re.prototype,"setLoading",[te],Object.getOwnPropertyDescriptor(re.prototype,"setLoading"),re.prototype),_e(re.prototype,"setIsCryptoTransactionsVisible",[ee],Object.getOwnPropertyDescriptor(re.prototype,"setIsCryptoTransactionsVisible"),re.prototype),re);function De(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function je(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){De(i,n,o,a,s,"next",t)}function s(t){De(i,n,o,a,s,"throw",t)}a(void 0)}))}}function xe(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Re(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ee,ze,Le,Me,We,Fe=(be=e.action.bound,me=e.action.bound,ge=e.action.bound,ve=e.action.bound,we=e.action.bound,ke=e.action.bound,Pe=Re((Oe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,"should_show",Pe,this),xe(this,"is_confirmed",Ce,this),xe(this,"last_location",Te,this),xe(this,"current_location",Se,this),this.root_store=e}var e,n,o,i,a;return e=t,(n=[{key:"shouldNavigateAfterPrompt",value:function(t,e){this.is_confirmed||(this.last_location=t,this.should_show=!0,this.current_location=e)}},{key:"resetLastLocation",value:function(){this.last_location=null}},{key:"resetIsConfirmed",value:function(){this.is_confirmed=!1}},{key:"onConfirm",value:(a=je(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.should_show=!1,this.is_confirmed=!0,n=this.root_store.modules.cashier.config.account_transfer.accounts_list.some((function(t){return!t.is_crypto})),!(0,r.isCryptocurrency)(null===(e=this.root_store.client)||void 0===e?void 0:e.currency)||!n){t.next=6;break}return t.next=6,this.doSwitch();case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"doSwitch",value:(i=je(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store.modules.cashier.config.account_transfer.accounts_list.filter((function(t){return!t.is_crypto})),r=e.map((function(t){return t.value}))[0],t.next=4,this.root_store.client.switchAccount(r);case 4:"deposit"===this.current_location&&this.root_store.modules.cashier.setIsDeposit(!0);case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"onCancel",value:function(){this.should_show=!1}},{key:"continueRoute",value:function(){this.is_confirmed&&this.last_location&&this.root_store.common.routeTo(this.last_location)}}])&&Ie(e.prototype,n),o&&Ie(e,o),t}()).prototype,"should_show",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=Re(Oe.prototype,"is_confirmed",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Te=Re(Oe.prototype,"last_location",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Re(Oe.prototype,"current_location",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re(Oe.prototype,"shouldNavigateAfterPrompt",[be],Object.getOwnPropertyDescriptor(Oe.prototype,"shouldNavigateAfterPrompt"),Oe.prototype),Re(Oe.prototype,"resetLastLocation",[me],Object.getOwnPropertyDescriptor(Oe.prototype,"resetLastLocation"),Oe.prototype),Re(Oe.prototype,"resetIsConfirmed",[ge],Object.getOwnPropertyDescriptor(Oe.prototype,"resetIsConfirmed"),Oe.prototype),Re(Oe.prototype,"onConfirm",[ve],Object.getOwnPropertyDescriptor(Oe.prototype,"onConfirm"),Oe.prototype),Re(Oe.prototype,"onCancel",[we],Object.getOwnPropertyDescriptor(Oe.prototype,"onCancel"),Oe.prototype),Re(Oe.prototype,"continueRoute",[ke],Object.getOwnPropertyDescriptor(Oe.prototype,"continueRoute"),Oe.prototype),Oe);function Ve(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Be(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ne(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var He=(Ee=e.action.bound,ze=e.action.bound,Me=Ne((Le=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ve(this,"error_message",Me,this),Ve(this,"should_show",We,this)}var e,r,n;return e=t,(r=[{key:"setShouldShow",value:function(t){this.should_show=t}},{key:"setErrorMessage",value:function(t){this.error_message=t,this.setShouldShow(!0)}}])&&Be(e.prototype,r),n&&Be(e,n),t}()).prototype,"error_message",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),We=Ne(Le.prototype,"should_show",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne(Le.prototype,"setShouldShow",[Ee],Object.getOwnPropertyDescriptor(Le.prototype,"setShouldShow"),Le.prototype),Ne(Le.prototype,"setErrorMessage",[ze],Object.getOwnPropertyDescriptor(Le.prototype,"setErrorMessage"),Le.prototype),Le),Ue=p("../../../node_modules/prop-types/index.js"),qe=p.n(Ue),$e=p("@deriv/components"),Ge=function(e){var r=e.p2p_notification_count;return t.createElement(t.Fragment,null,t.createElement($e.Icon,{icon:"IcCashier",className:"header__icon"}),!!r&&t.createElement($e.Counter,{className:"cashier__counter",count:r}))};Ge.propTypes={p2p_notification_count:qe().number};const Xe=Ge;function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Je,Ye,Qe,Ze,tr,er,rr,nr,or,ir,ar,sr,cr,ur,pr,lr,fr,hr,yr,dr,_r,br,mr,gr,vr,wr,kr,Or,Pr,Cr,Tr,Sr,Ar,Dr,jr,xr,Ir,Rr,Er,zr,Lr,Mr,Wr,Fr,Vr,Br,Nr,Hr,Ur,qr,$r,Gr,Xr,Kr,Jr,Yr,Qr,Zr,tn,en,rn,nn,on,an,sn,cn,un,pn,ln,fn,hn,yn,dn,_n,bn,mn,gn,vn,wn,kn,On,Pn,Cn,Tn,Sn,An,Dn,jn,xn,In,Rn,En,zn,Ln,Mn,Wn,Fn,Vn,Bn,Nn,Hn,Un,qn,$n,Gn,Xn,Kn,Jn,Yn,Qn,Zn,to,eo,ro,no,oo,io,ao,so,co,uo,po,lo,fo,ho,yo,_o,bo,mo,go,vo,wo,ko,Oo,Po,Co,To,So,Ao,Do,jo,xo,Io,Ro,Eo,zo,Lo,Mo,Wo,Fo,Vo,Bo,No,Ho,Uo,qo,$o,Go,Xo,Ko,Jo,Yo,Qo,Zo,ti,ei,ri,ni,oi,ii,ai,si,ci,ui,pi,li,fi,hi,yi,di,_i,bi,mi,gi,vi,wi,ki,Oi,Pi,Ci,Ti,Si,Ai,Di,ji,xi,Ii,Ri,Ei,zi,Li,Mi,Wi,Fi,Vi,Bi,Ni,Hi,Ui,qi,$i,Gi,Xi,Ki,Ji,Yi,Qi,Zi,ta,ea,ra,na;function oa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oa(Object(r),!0).forEach((function(e){pa(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function aa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sa(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ca(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ua(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ca(i,n,o,a,s,"next",t)}function s(t){ca(i,n,o,a,s,"throw",t)}a(void 0)}))}}function pa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function la(t,e){return(la=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=da(t);if(e){var o=da(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ha(this,r)}}function ha(t,e){return!e||"object"!==Ke(e)&&"function"!=typeof e?ya(t):e}function ya(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function da(t){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ba(t,e,r){return e&&_a(t.prototype,e),r&&_a(t,r),t}function ma(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function va(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var wa=function(t){return t.startsWith("MX")},ka=function(e,r){return r?t.createElement(n.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:e}}):t.createElement(n.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:e}})},Oa=(Ye=va((Je=function t(e){var r=e.container;ga(this,t),this.container="",this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session="",ma(this,"iframe_height",Ye,this),ma(this,"iframe_url",Qe,this),this.container=r}).prototype,"iframe_height",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qe=va(Je.prototype,"iframe_url",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Je),Pa=(tr=va((Ze=function t(){ga(this,t),ma(this,"message",tr,this),ma(this,"code",er,this),ma(this,"fields",rr,this),ma(this,"is_show_full_page",nr,this),ma(this,"onClickButton",or,this),ma(this,"is_ask_uk_funds_protection",ir,this),ma(this,"is_self_exclusion_max_turnover_set",ar,this),ma(this,"is_ask_authentication",sr,this),ma(this,"is_ask_financial_risk_approval",cr,this)}).prototype,"message",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),er=va(Ze.prototype,"code",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rr=va(Ze.prototype,"fields",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nr=va(Ze.prototype,"is_show_full_page",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),or=va(Ze.prototype,"onClickButton",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ir=va(Ze.prototype,"is_ask_uk_funds_protection",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ar=va(Ze.prototype,"is_self_exclusion_max_turnover_set",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=va(Ze.prototype,"is_ask_authentication",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cr=va(Ze.prototype,"is_ask_financial_risk_approval",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze),Ca=(ur=e.action.bound,lr=va((pr=function(){function t(){ga(this,t),this.list=[],ma(this,"agents",lr,this),ma(this,"container",fr,this),ma(this,"error",hr,this),ma(this,"filtered_list",yr,this),ma(this,"is_name_selected",dr,this),ma(this,"is_withdraw",_r,this),ma(this,"is_try_withdraw_successful",br,this),ma(this,"is_withdraw_successful",mr,this),ma(this,"confirm",gr,this),ma(this,"receipt",vr,this),ma(this,"selected_bank",wr,this),ma(this,"supported_banks",kr,this),ma(this,"verification",Or,this),ma(this,"active_tab_index",Pr,this)}return ba(t,[{key:"setActiveTabIndex",value:function(t){this.active_tab_index=t}}]),t}()).prototype,"agents",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fr=va(pr.prototype,"container",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent"}}),hr=va(pr.prototype,"error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pa}}),yr=va(pr.prototype,"filtered_list",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dr=va(pr.prototype,"is_name_selected",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_r=va(pr.prototype,"is_withdraw",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),br=va(pr.prototype,"is_try_withdraw_successful",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=va(pr.prototype,"is_withdraw_successful",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gr=va(pr.prototype,"confirm",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vr=va(pr.prototype,"receipt",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wr=va(pr.prototype,"selected_bank",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kr=va(pr.prototype,"supported_banks",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Or=va(pr.prototype,"verification",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Da}}),Pr=va(pr.prototype,"active_tab_index",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),va(pr.prototype,"setActiveTabIndex",[ur],Object.getOwnPropertyDescriptor(pr.prototype,"setActiveTabIndex"),pr.prototype),pr),Ta=(Tr=va((Cr=function t(){ga(this,t),ma(this,"container",Tr,this),ma(this,"error",Sr,this),ma(this,"is_payment_agent",Ar,this),ma(this,"is_try_transfer_successful",Dr,this),ma(this,"is_transfer_successful",jr,this),ma(this,"confirm",xr,this),ma(this,"receipt",Ir,this),ma(this,"transfer_limit",Rr,this)}).prototype,"container",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent_transfer"}}),Sr=va(Cr.prototype,"error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pa}}),Ar=va(Cr.prototype,"is_payment_agent",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dr=va(Cr.prototype,"is_try_transfer_successful",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jr=va(Cr.prototype,"is_transfer_successful",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xr=va(Cr.prototype,"confirm",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ir=va(Cr.prototype,"receipt",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rr=va(Cr.prototype,"transfer_limit",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Cr),Sa=(Er=e.action.bound,zr=e.action.bound,Lr=e.action.bound,Wr=va((Mr=function(){function t(){ga(this,t),ma(this,"accounts_list",Wr,this),ma(this,"container",Fr,this),ma(this,"error",Vr,this),ma(this,"has_no_account",Br,this),ma(this,"has_no_accounts_balance",Nr,this),ma(this,"is_transfer_confirm",Hr,this),ma(this,"is_mt5_transfer_in_progress",Ur,this),ma(this,"minimum_fee",qr,this),ma(this,"receipt",$r,this),ma(this,"selected_from",Gr,this),ma(this,"selected_to",Xr,this),ma(this,"account_transfer_amount",Kr,this),ma(this,"transfer_fee",Jr,this),ma(this,"transfer_limit",Yr,this)}return ba(t,[{key:"setBalanceByLoginId",value:function(t,e){this.accounts_list.find((function(e){return t===e.value})).balance=e}},{key:"setBalanceSelectedFrom",value:function(t){this.selected_from.balance=t}},{key:"setBalanceSelectedTo",value:function(t){this.selected_to.balance=t}}]),t}()).prototype,"accounts_list",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fr=va(Mr.prototype,"container",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"account_transfer"}}),Vr=va(Mr.prototype,"error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pa}}),Br=va(Mr.prototype,"has_no_account",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=va(Mr.prototype,"has_no_accounts_balance",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hr=va(Mr.prototype,"is_transfer_confirm",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ur=va(Mr.prototype,"is_mt5_transfer_in_progress",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qr=va(Mr.prototype,"minimum_fee",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$r=va(Mr.prototype,"receipt",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Gr=va(Mr.prototype,"selected_from",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xr=va(Mr.prototype,"selected_to",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kr=va(Mr.prototype,"account_transfer_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jr=va(Mr.prototype,"transfer_fee",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yr=va(Mr.prototype,"transfer_limit",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),va(Mr.prototype,"setBalanceByLoginId",[Er],Object.getOwnPropertyDescriptor(Mr.prototype,"setBalanceByLoginId"),Mr.prototype),va(Mr.prototype,"setBalanceSelectedFrom",[zr],Object.getOwnPropertyDescriptor(Mr.prototype,"setBalanceSelectedFrom"),Mr.prototype),va(Mr.prototype,"setBalanceSelectedTo",[Lr],Object.getOwnPropertyDescriptor(Mr.prototype,"setBalanceSelectedTo"),Mr.prototype),Mr),Aa=(Zr=va((Qr=function t(){ga(this,t),ma(this,"container",Zr,this),ma(this,"iframe_height",tn,this),ma(this,"iframe_url",en,this),ma(this,"error",rn,this),ma(this,"verification",nn,this),this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session=""}).prototype,"container",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"withdraw"}}),tn=va(Qr.prototype,"iframe_height",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),en=va(Qr.prototype,"iframe_url",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rn=va(Qr.prototype,"error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pa}}),nn=va(Qr.prototype,"verification",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Da}}),Qr),Da=(an=va((on=function t(){ga(this,t),this.is_button_clicked=!1,this.timeout_button="",ma(this,"error",an,this),ma(this,"is_email_sent",sn,this),ma(this,"is_resend_clicked",cn,this),ma(this,"resend_timeout",un,this)}).prototype,"error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pa}}),sn=va(on.prototype,"is_email_sent",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cn=va(on.prototype,"is_resend_clicked",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),un=va(on.prototype,"resend_timeout",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),on),ja=(pn=e.action.bound,ln=e.action.bound,fn=e.action.bound,hn=e.action.bound,yn=e.action.bound,dn=e.action.bound,_n=e.action.bound,bn=e.action.bound,mn=e.action.bound,gn=e.action.bound,vn=e.action.bound,wn=e.action.bound,kn=e.action.bound,On=e.action.bound,Pn=e.action.bound,Cn=e.action.bound,Tn=e.action.bound,Sn=e.action.bound,An=e.action.bound,Dn=e.action.bound,jn=e.action.bound,xn=e.action.bound,In=e.action.bound,Rn=e.action.bound,En=e.action.bound,zn=e.action.bound,Ln=e.action.bound,Mn=e.action.bound,Wn=e.action.bound,Fn=e.action.bound,Vn=e.action.bound,Bn=e.action.bound,Nn=e.action.bound,Hn=e.action.bound,Un=e.action.bound,qn=e.action.bound,$n=e.action.bound,Gn=e.action.bound,Xn=e.action.bound,Kn=e.action.bound,Jn=e.action.bound,Yn=e.action.bound,Qn=e.action.bound,Zn=e.action.bound,to=e.action.bound,eo=e.action.bound,ro=e.action.bound,no=e.action.bound,oo=e.action.bound,io=e.action.bound,ao=e.action.bound,so=e.action.bound,co=e.action.bound,uo=e.action.bound,po=e.action.bound,lo=e.action.bound,fo=e.action.bound,ho=e.action.bound,yo=e.action.bound,_o=e.action.bound,bo=e.action.bound,mo=e.action.bound,go=e.action.bound,vo=e.action.bound,wo=e.action.bound,ko=e.action.bound,Oo=e.action.bound,Po=e.action.bound,Co=e.action.bound,To=e.action.bound,So=e.action.bound,Ao=e.action.bound,Do=e.action.bound,jo=e.action.bound,xo=e.action.bound,Io=e.action.bound,Ro=e.action.bound,Eo=e.action.bound,zo=e.action.bound,Lo=e.action.bound,Mo=e.action.bound,Wo=e.action.bound,Fo=e.action.bound,Vo=e.action.bound,Bo=e.action.bound,No=e.action.bound,Ho=e.action.bound,Uo=e.action.bound,qo=e.action.bound,$o=e.action.bound,Go=e.action.bound,Xo=e.action.bound,Ko=e.action.bound,Jo=e.action.bound,Yo=e.action.bound,Qo=e.action.bound,Zo=e.action.bound,ti=e.action.bound,ei=e.action.bound,ri=e.action.bound,ni=e.action.bound,oi=e.action.bound,ii=e.action.bound,ai=e.action.bound,si=e.action.bound,ci=e.action.bound,ui=e.action.bound,pi=e.action.bound,li=e.action.bound,fi=e.action.bound,hi=e.action.bound,yi=e.action.bound,di=e.action.bound,_i=e.action.bound,bi=e.action.bound,mi=e.action.bound,gi=e.action.bound,vi=e.action.bound,wi=e.action.bound,Oi=va((ki=function(o){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&la(t,e)}(R,o);var i,a,s,c,u,p,l,f,h,y,d,_,b,m,g,v,w,k,O,P,C,T,S,A,D,j,x,I=fa(R);function R(t){var n,o,i=t.root_store,a=t.WS;return ga(this,R),ma(o=I.call(this,{root_store:i}),"is_loading",Oi,ya(o)),ma(o,"is_p2p_visible",Pi,ya(o)),ma(o,"p2p_notification_count",Ci,ya(o)),ma(o,"cashier_route_tab_index",Ti,ya(o)),ma(o,"is_10k_withdrawal_limit_reached",Si,ya(o)),ma(o,"is_deposit",Ai,ya(o)),ma(o,"should_show_all_available_currencies",Di,ya(o)),ma(o,"is_cashier_default",ji,ya(o)),ma(o,"deposit_target",xi,ya(o)),ma(o,"crypto_amount",Ii,ya(o)),ma(o,"fiat_amount",Ri,ya(o)),ma(o,"insufficient_fund_error",Ei,ya(o)),ma(o,"all_payment_agent_list",zi,ya(o)),ma(o,"should_set_currency_modal_title_change",Li,ya(o)),ma(o,"p2p_advertiser_error",Mi,ya(o)),ma(o,"has_set_currency",Wi,ya(o)),ma(o,"withdraw_amount",Fi,ya(o)),ma(o,"converter_from_amount",Vi,ya(o)),ma(o,"converter_to_amount",Bi,ya(o)),ma(o,"converter_from_error",Ni,ya(o)),ma(o,"converter_to_error",Hi,ya(o)),ma(o,"is_timer_visible",Ui,ya(o)),ma(o,"is_crypto_transactions_visible",qi,ya(o)),ma(o,"blockchain_address",$i,ya(o)),ma(o,"should_percentage_reset",Gi,ya(o)),ma(o,"percentage",Xi,ya(o)),ma(o,"is_withdraw_confirmed",Ki,ya(o)),ma(o,"show_p2p_in_cashier_default",Ji,ya(o)),ma(o,"max_withdraw_amount",Yi,ya(o)),ma(o,"config",Qi,ya(o)),o.active_container=o.config.deposit.container,o.onRemount=function(){},o.is_populating_values=!1,o.containers=[o.config.deposit.container,o.config.withdraw.container],o.map_action=(pa(n={},o.config.withdraw.container,"payment_withdraw"),pa(n,o.config.payment_agent.container,"payment_agent_withdraw"),n),ma(o,"resetPaymentAgent",Zi,ya(o)),o.requestTransferBetweenAccounts=function(){var t=ua(regeneratorRuntime.mark((function t(e){var n,i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.amount,o.root_store.client.is_logged_in){t.next=3;break}return t.abrupt("return",null);case 3:return o.setLoading(!0),o.setErrorMessage(""),(i=o.config.account_transfer.selected_from.is_mt||o.config.account_transfer.selected_to.is_mt)&&o.setIsMT5TransferInProgress(!0),a=o.config.account_transfer.selected_from.currency,t.next=10,o.WS.authorized.transferBetweenAccounts(o.config.account_transfer.selected_from.value,o.config.account_transfer.selected_to.value,a,n);case 10:if(s=t.sent,i&&o.setIsMT5TransferInProgress(!1),!s.error){t.next=21;break}if("Fiat2CryptoTransferOverLimit"!==s.error.code){t.next=18;break}return t.next=16,o.WS.authorized.getAccountStatus();case 16:(c=t.sent).error||o.root_store.client.setAccountStatus(c.get_account_status);case 18:o.setErrorMessage(s.error),t.next=25;break;case 21:o.setReceiptTransfer({amount:(0,r.formatMoney)(a,n,!0)}),s.accounts.forEach((function(t){o.config.account_transfer.setBalanceByLoginId(t.loginid,t.balance),t.loginid===o.config.account_transfer.selected_from.value?o.config.account_transfer.setBalanceSelectedFrom(t.balance):t.loginid===o.config.account_transfer.selected_to.value&&o.config.account_transfer.setBalanceSelectedTo(t.balance),t.account_type===r.CFD_PLATFORMS.MT5&&Promise.all([o.WS.mt5LoginList(),o.WS.balanceAll()]).then((function(t){var e=aa(t,2),r=e[0],n=e[1];o.root_store.client.responseMt5LoginList(r),o.root_store.client.setBalanceOtherAccounts(n.balance)})),t.account_type===r.CFD_PLATFORMS.DXTRADE&&Promise.all([o.WS.tradingPlatformAccountsList(r.CFD_PLATFORMS.DXTRADE),o.WS.balanceAll()]).then((function(t){var e=aa(t,2),r=e[0],n=e[1];o.root_store.client.responseTradingPlatformAccountsList(r),o.root_store.client.setBalanceOtherAccounts(n.balance)}))})),o.setAccountTransferAmount(null),o.setIsTransferConfirm(!0);case 25:return o.setLoading(!1),t.abrupt("return",s);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ma(o,"resetAccountTransfer",ta,ya(o)),ma(o,"requestTryPaymentAgentTransfer",ea,ya(o)),ma(o,"requestPaymentAgentTransfer",ra,ya(o)),ma(o,"resetPaymentAgentTransfer",na,ya(o)),o.WS=a,(0,e.when)((function(){return o.root_store.client.is_logged_in}),(function(){o.attachCashierToMenu()})),o.has_set_currency||o.changeSetCurrencyModalTitle(),o.onramp=new le({root_store:o.root_store,WS:o.WS}),o.account_prompt_dialog=new Fe(o.root_store),o.error_dialog=new He,o.transaction_history=new Ae({root_store:o.root_store,WS:o.WS}),o.init(),o}return ba(R,[{key:"is_crypto",get:function(){var t=this.root_store.client.currency;return!!t&&(0,r.isCryptocurrency)(t)}},{key:"is_payment_agent_visible",get:function(){return!(!this.config.payment_agent.filtered_list.length&&!this.config.payment_agent.agents.length)}},{key:"is_payment_agent_visible_in_onboarding",get:function(){var t,e,r;return!(null===(t=this.all_payment_agent_list)||void 0===t||null===(e=t.paymentagent_list)||void 0===e||null===(r=e.list)||void 0===r||!r.length)}},{key:"is_payment_agent_transfer_visible",get:function(){return this.config.payment_agent_transfer.is_payment_agent}},{key:"is_account_transfer_visible",get:function(){return"im"!==this.root_store.client.residence}},{key:"is_p2p_enabled",get:function(){return this.is_p2p_visible&&!this.root_store.client.is_eu}},{key:"showP2pInCashierDefault",value:function(){var t="RestrictedCountry"===this.p2p_advertiser_error,e=this.root_store.client.account_list.some((function(t){return"USD"===t.title})),n=this.root_store.client.account_list.some((function(t){return!(0,r.isCryptocurrency)(t.title)&&"Real"!==t.title}));t||this.root_store.client.is_virtual||n&&!e?this.show_p2p_in_cashier_default=!1:this.show_p2p_in_cashier_default=!0}},{key:"attachCashierToMenu",value:function(){this.has_set_currency||this.setHasSetCurrency(),this.root_store.menu.attach({id:"dt_cashier_tab",icon:t.createElement(Xe,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,n.localize)("Cashier")},link_to:this.has_set_currency&&r.routes.cashier,onClick:!this.has_set_currency&&this.root_store.ui.toggleSetCurrencyModal,login_only:!0})}},{key:"replaceCashierMenuOnclick",value:function(){this.setHasSetCurrency(),this.root_store.menu.update({id:"dt_cashier_tab",icon:t.createElement(Xe,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,n.localize)("Cashier")},link_to:this.has_set_currency&&r.routes.cashier,onClick:!this.has_set_currency&&this.root_store.ui.toggleSetCurrencyModal,login_only:!0},1)}},{key:"setHasSetCurrency",value:function(){this.has_set_currency=this.root_store.client.account_list.filter((function(t){return!t.is_virtual})).some((function(t){return"Real"!==t.title}))||!this.root_store.client.has_active_real_account}},{key:"changeSetCurrencyModalTitle",value:function(){this.should_set_currency_modal_title_change=!0}},{key:"onMountCashierDefault",value:(x=ua(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.has_set_currency||this.setHasSetCurrency(),this.setIsCashierDefault(!0),this.account_prompt_dialog.resetIsConfirmed(),this.setLoading(!0),void 0!==(null===(e=this.all_payment_agent_list)||void 0===e||null===(r=e.paymentagent_list)||void 0===r?void 0:r.list)){t.next=9;break}return t.next=7,this.getAllPaymentAgentList();case 7:n=t.sent,this.setAllPaymentAgentList(n);case 9:this.setLoading(!1);case 10:case"end":return t.stop()}}),t,this)}))),function(){return x.apply(this,arguments)})},{key:"setIsWithdrawConfirmed",value:function(t){this.is_withdraw_confirmed=t,t&&this.setWithdrawAmount(this.converter_from_amount),!t&&this.config[this.active_container].verification&&this.clearVerification()}},{key:"setWithdrawAmount",value:function(t){this.withdraw_amount=t}},{key:"calculatePercentage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.converter_from_amount;this.active_container===this.config.account_transfer.container?this.percentage=+(t/+this.config.account_transfer.selected_from.balance*100).toFixed(0):this.percentage=+(t/+this.root_store.client.balance*100).toFixed(0)}},{key:"percentageSelectorSelectionStatus",value:function(t){this.should_percentage_reset=t,t&&(this.percentage=0)}},{key:"saveWithdraw",value:(j=ua(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setErrorMessage(""),t.next=3,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:e}).then((function(t){t.error?(r.setErrorMessage(t.error),e&&r.clearVerification(),r.resetWithrawForm()):r.setIsWithdrawConfirmed(!0)}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return j.apply(this,arguments)})},{key:"requestWithdraw",value:(D=ua(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.root_store.client.is_logged_in){t.next=2;break}return t.abrupt("return");case 2:if(this.converter_from_amount){t.next=5;break}return this.setConverterFromError((0,n.localize)("This field is required.")),t.abrupt("return");case 5:return t.next=7,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:e,dry_run:1}).then((function(t){t.error?r.error_dialog.setErrorMessage(t.error.message):r.saveWithdraw(e)}));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return D.apply(this,arguments)})},{key:"resetWithrawForm",value:function(){this.setBlockchainAddress(""),this.setConverterFromAmount(""),this.setConverterToAmount(""),this.clearVerification()}},{key:"setIsDeposit",value:function(t){this.is_deposit=t}},{key:"setShouldShowAllAvailableCurrencies",value:function(t){this.should_show_all_available_currencies=t}},{key:"setBlockchainAddress",value:function(t){this.blockchain_address=t}},{key:"setIsCashierDefault",value:function(t){this.is_cashier_default=t}},{key:"setDepositTarget",value:function(t){this.deposit_target=t}},{key:"continueRoute",value:function(){this.root_store.common.routeTo(this.deposit_target)}},{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"setActiveTabIndex",value:function(t){this.config.payment_agent.setActiveTabIndex(t),1===t&&this.sendVerificationEmail()}},{key:"init",value:function(){var t=this;(0,e.when)((function(){return t.root_store.client.is_logged_in}),ua(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAdvertizerError();case 2:return t.checkP2pStatus(),e.next=5,t.check10kLimit();case 5:case"end":return e.stop()}}),e)})))),(0,e.when)((function(){return t.is_payment_agent_visible}),(function(){return t.filterPaymentAgentList()})),(0,e.reaction)((function(){return[t.root_store.client.switched,t.root_store.client.is_logged_in,t.root_store.client.currency]}),ua(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.WS.wait("get_settings");case 2:if(!t.root_store.client.is_logged_in){e.next=9;break}return e.next=5,t.getAdvertizerError();case 5:return t.account_prompt_dialog.resetLastLocation(),t.root_store.client.switched||t.checkP2pStatus(),e.next=9,t.check10kLimit();case 9:case"end":return e.stop()}}),e)})))),(0,e.reaction)((function(){return[t.root_store.client.currency]}),(function(){t.setIsWithdrawConfirmed(!1)}))}},{key:"getAdvertizerError",value:(A=ua(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.p2pAdvertiserInfo();case 2:e=t.sent,this.setP2pAdvertiserError((0,r.getPropertyValue)(e,["error","code"]));case 4:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"setP2pAdvertiserError",value:function(t){this.p2p_advertiser_error=t}},{key:"checkP2pStatus",value:function(){var t=this.p2p_advertiser_error,e="RestrictedCountry"===t||"RestrictedCurrency"===t;this.setIsP2pVisible(!(e||this.root_store.client.is_virtual))}},{key:"onMountCommon",value:(S=ua(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.client.is_logged_in){t.next=10;break}if(!this.is_populating_values){t.next=3;break}return t.abrupt("return");case 3:this.is_populating_values=!0,e&&(this.onRemount=this.onMountCommon),this.config.payment_agent.list.length||this.setPaymentAgentList().then(this.filterPaymentAgentList),this.config.payment_agent_transfer.is_payment_agent||this.checkIsPaymentAgent(),this.config.account_transfer.accounts_list.length||this.sortAccountsTransfer(),!this.onramp.is_onramp_tab_visible&&window.location.pathname.endsWith(r.routes.cashier_onramp)&&this.root_store.common.routeTo(r.routes.cashier_deposit),!this.is_crypto_transactions_visible&&window.location.pathname.endsWith(r.routes.cashier_crypto_transactions)&&(this.root_store.common.routeTo(r.routes.cashier_deposit),this.transaction_history.setIsCryptoTransactionsVisible(!0),this.transaction_history.onMount());case 10:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{key:"setIsCryptoTransactionsVisible",value:function(t){this.is_crypto_transactions_visible=t}},{key:"setCashierTabIndex",value:function(t){this.cashier_route_tab_index=t}},{key:"willMountWithdraw",value:function(t){t&&this.clearVerification()}},{key:"onMountWithdraw",value:(T=ua(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setLoading(!0),!/^\w{8,128}$/.test(e)){t.next=8;break}return t.next=5,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:e,dry_run:1});case 5:r=t.sent,t.next=9;break;case 8:r={error:{code:"InvalidToken",message:"Your token has expired or is invalid."}};case 9:"InvalidToken"===r.error.code?(this.handleCashierError(r.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),e&&this.clearVerification()):this.setLoading(!1),this.config.withdraw.error&&this.setErrorMessage(this.config.withdraw.error,this.onMountWithdraw);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)})},{key:"onMountDeposit",value:(C=ua(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.active_container,this.setErrorMessage(""),this.setContainerHeight(0),this.setLoading(!0),this.config[this.active_container].is_session_timeout){t.next=7;break}return this.checkIframeLoaded(),t.abrupt("return");case 7:if(this.setIframeUrl(""),(this.active_container!==this.config.withdraw.container||e)&&!this.root_store.client.is_virtual){t.next=11;break}return this.setLoading(!1),t.abrupt("return");case 11:return t.next=13,this.WS.authorized.cashier(this.active_container,{verification_code:e});case 13:if(o=t.sent,n===this.active_container){t.next=17;break}return this.setLoading(!1),t.abrupt("return");case 17:if(!o.error){t.next=25;break}this.handleCashierError(o.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),e&&this.clearVerification(),t.next=36;break;case 25:if(!(0,r.isCryptocurrency)(this.root_store.client.currency)){t.next=31;break}this.setLoading(!1),this.setContainerHeight("380"),this.setIframeUrl(o.cashier),t.next=36;break;case 31:return t.next=33,this.checkIframeLoaded();case 33:this.setIframeUrl(o.cashier),this.setSessionTimeout(!1),this.setTimeoutCashierUrl();case 36:case"end":return t.stop()}}),t,this)}))),function(t){return C.apply(this,arguments)})},{key:"setNotificationCount",value:function(t){this.p2p_notification_count=t}},{key:"setIsP2pVisible",value:function(t){var e;this.is_p2p_visible=t,!t&&window.location.pathname.endsWith(r.routes.cashier_p2p)&&this.root_store.common.routeTo(null!==(e=this.account_prompt_dialog.last_location)&&void 0!==e?e:r.routes.cashier_deposit)}},{key:"onMount",value:(P=ua(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onRemount=this.onMount,t.next=3,this.onMountCommon();case 3:if(-1!==this.containers.indexOf(this.active_container)||this.root_store.client.is_switching||this.active_container===this.config.payment_agent.container){t.next=5;break}throw new Error("Cashier Store onMount requires a valid container name.");case 5:this.onMountDeposit(e);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return P.apply(this,arguments)})},{key:"is_cashier_locked",get:function(){var t;return!(null===(t=this.root_store.client.account_status)||void 0===t||!t.status)&&this.root_store.client.account_status.status.some((function(t){return"cashier_locked"===t}))}},{key:"is_system_maintenance",get:function(){var t;return!(null===(t=this.root_store.client.account_status)||void 0===t||!t.cashier_validation)&&this.root_store.client.account_status.cashier_validation.some((function(t){return"system_maintenance"===t}))}},{key:"is_deposit_locked",get:function(){var t=this.root_store.client,e=t.is_authentication_needed,r=t.is_tnc_needed,n=t.is_financial_account,o=t.is_financial_information_incomplete,i=t.is_trading_experience_incomplete,a=t.account_status,s=t.is_eu,c=t.mt5_login_list,u=t.is_deposit_lock;if(null==a||!a.status)return!1;var p=this.config.deposit.error.is_ask_authentication||e&&s,l=n&&(o||i),f=(s||c.some((function(t){return"real"===t.account_type&&"financial_stp"===t.sub_account_type})))&&r;return u||p||f||l||this.config.deposit.error.is_ask_financial_risk_approval}},{key:"is_withdrawal_locked",get:function(){var t;if(null===(t=this.root_store.client.account_status)||void 0===t||!t.status)return!1;var e=this.root_store.client.account_status.authentication.needs_verification.includes("identity"),r=this.config.withdraw.error.is_ask_authentication&&e;return this.root_store.client.is_withdrawal_lock||r||this.config.withdraw.error.is_ask_financial_risk_approval}},{key:"is_transfer_locked",get:function(){var t=this.root_store.client,e=t.is_financial_account,r=t.is_financial_information_incomplete,n=t.is_trading_experience_incomplete,o=t.account_status;return!(null==o||!o.status)&&e&&(r||n)&&this.config.account_transfer.error.is_ask_financial_risk_approval}},{key:"setMaxWithdrawAmount",value:function(t){this.max_withdraw_amount=t}},{key:"check10kLimit",value:(O=ua(regeneratorRuntime.mark((function t(){var e,n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.root_store.client.getLimits();case 2:if(t.t1=e=t.sent,t.t0=null===t.t1,t.t0){t.next=6;break}t.t0=void 0===e;case 6:if(!t.t0){t.next=10;break}t.t2=void 0,t.next=11;break;case 10:t.t2=null===(n=e.get_limits)||void 0===n?void 0:n.remainder;case 11:o=t.t2,this.setMaxWithdrawAmount(o),i=(0,r.getMinWithdrawal)(this.root_store.client.currency),a=!!(void 0!==o&&+o<i),this.set10kLimitation(a);case 16:case"end":return t.stop()}}),t,this)}))),function(){return O.apply(this,arguments)})},{key:"set10kLimitation",value:function(t){this.is_10k_withdrawal_limit_reached=t}},{key:"checkIframeLoaded",value:(k=ua(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.removeOnIframeLoaded(),this.config[this.active_container].onIframeLoaded=function(t){/cashier|doughflow/.test(t.origin)&&(this.setLoading(!1),this.root_store.ui.is_mobile?this.setContainerHeight(window.innerHeight-100):this.setContainerHeight(window.innerHeight-190))}.bind(this),window.addEventListener("message",this.config[this.active_container].onIframeLoaded,!1);case 3:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[t].onIframeLoaded&&(window.removeEventListener("message",this.config[t].onIframeLoaded,!1),this.config[t].onIframeLoaded="")}},{key:"setIframeUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;t?(this.config[e].iframe_url="".concat(t,"&theme=").concat(this.root_store.ui.is_dark_mode_on?"dark":"light"),this.root_store.client.setVerificationCode("",this.map_action[e])):this.config[e].iframe_url=t}},{key:"setContainerHeight",value:function(t){this.config[this.active_container].iframe_height=t}},{key:"setErrorMessage",value:function(t,e,n,o){var i=ia({onClickButton:e,code:t.code,message:t.message,is_show_full_page:n||/InvalidToken|WrongResponse/.test(t.code)},(0,r.getPropertyValue)(t,["details","fields"])&&{fields:t.details.fields});o&&this.config[this.active_container].verification?this.config[this.active_container].verification.error=i:this.config[this.active_container].error=i}},{key:"handleCashierError",value:function(t){switch(t.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(t,null,!0);break;case"ASK_UK_FUNDS_PROTECTION":this.config[this.active_container].error={is_ask_uk_funds_protection:!0};break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.config[this.active_container].error={is_self_exclusion_max_turnover_set:!0};break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.config[this.active_container].error={is_ask_authentication:!0};break;case"ASK_FINANCIAL_RISK_APPROVAL":this.config[this.active_container].error={is_ask_financial_risk_approval:!0};break;default:this.config[this.active_container].error={is_ask_uk_funds_protection:!1,is_self_exclusion_max_turnover_set:!1,is_ask_authentication:!1,is_ask_financial_risk_approval:!1},this.setErrorMessage(t)}}},{key:"setErrorConfig",value:function(t,e){this.config[this.active_container].error=pa({},t,e)}},{key:"submitFundsProtection",value:function(){var t=this;this.WS.send({ukgc_funds_protection:1,tnc_approval:1}).then((function(e){e.error?t.setErrorConfig("message",e.error.message):location.reload()}))}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setSessionTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].is_session_timeout=t,t&&this.removeOnIframeLoaded(e)}},{key:"setVerificationButtonClicked",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.is_button_clicked=t}},{key:"setVerificationEmailSent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.is_email_sent=t}},{key:"setVerificationResendClicked",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.is_resend_clicked=t}},{key:"setVerificationResendTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[e].verification.resend_timeout=t}},{key:"clearTimeoutCashierUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[t].timeout_session&&clearTimeout(this.config[t].timeout_session)}},{key:"setTimeoutCashierUrl",value:function(){var t=this;this.clearTimeoutCashierUrl(),this.config[this.active_container].timeout_session=setTimeout((function(){t.setSessionTimeout(!0)}),6e4)}},{key:"clearTimeoutVerification",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[t].verification.timeout_button&&clearTimeout(this.config[t].verification.timeout_button)}},{key:"setTimeoutVerification",value:function(){var t=this;this.clearTimeoutVerification(),this.config[this.active_container].verification.timeout_button=setTimeout((function(){t.clearVerification()}),36e5)}},{key:"sendVerificationEmail",value:(w=ua(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config[this.active_container].verification.is_button_clicked&&this.root_store.client.email){t.next=2;break}return t.abrupt("return");case 2:return this.setErrorMessage(""),this.setVerificationButtonClicked(!0),e="payment".concat(this.active_container===this.config.payment_agent.container?"agent":"","_withdraw"),t.next=7,this.WS.verifyEmail(this.root_store.client.email,e);case 7:(r=t.sent).error?(this.clearVerification(),"PaymentAgentWithdrawError"===r.error.code?this.setErrorMessage(r.error,this.resetPaymentAgent,null,!0):this.setErrorMessage(r.error,(function(){n.setErrorMessage("",null,null,!0)}),null,!0)):(this.setVerificationEmailSent(!0),this.setTimeoutVerification());case 9:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"resendVerificationEmail",value:function(){this.config[this.active_container].verification.resend_timeout<60||(this.setVerificationButtonClicked(!1),this.setCountDownResendVerification(),this.sendVerificationEmail())}},{key:"setCountDownResendVerification",value:function(){var t=this;this.setVerificationResendTimeout(this.config[this.active_container].verification.resend_timeout-1);var e=setInterval((function(){t.config[t.active_container]&&t.config[t.active_container].verification?1===t.config[t.active_container].verification.resend_timeout?(t.setVerificationResendTimeout(60),clearInterval(e)):t.setVerificationResendTimeout(t.config[t.active_container].verification.resend_timeout-1):clearInterval(e)}),1e3)}},{key:"clearVerification",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.clearTimeoutVerification(t),this.setVerificationButtonClicked(!1,t),this.setVerificationEmailSent(!1,t),this.setVerificationResendClicked(!1,t),this.setVerificationResendTimeout(60,t),this.setErrorMessage("",null,null,!0),this.root_store.client.setVerificationCode("",this.map_action[t])}},{key:"setIsTimerVisible",value:function(t){this.is_timer_visible=t}},{key:"resetTimer",value:function(){this.setIsTimerVisible(!1)}},{key:"getExchangeRate",value:(v=ua(regeneratorRuntime.mark((function t(e,r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.send({exchange_rates:1,base_currency:e});case 2:return n=t.sent,o=n.exchange_rates,t.abrupt("return",o.rates[r]);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return v.apply(this,arguments)})},{key:"setActiveTab",value:function(t){this.active_container=t}},{key:"onMountPaymentAgentList",value:(g=ua(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentList,t.next=4,this.onMountCommon();case 4:this.setLoading(!1);case 5:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"getPaymentAgentList",value:(m=ua(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.config.payment_agent.list.length){t.next=2;break}return t.abrupt("return",this.WS.wait("paymentagent_list"));case 2:return t.next=4,this.WS.wait("get_settings");case 4:return t.abrupt("return",this.WS.authorized.paymentAgentList(this.root_store.client.residence,this.root_store.client.currency));case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"getAllPaymentAgentList",value:(b=ua(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.wait("get_settings");case 2:return t.abrupt("return",this.WS.allPaymentAgentList(this.root_store.client.residence));case 3:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"setAllPaymentAgentList",value:function(t){this.all_payment_agent_list=t}},{key:"getPaymentAgentDetails",value:(_=ua(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.paymentAgentDetails();case 2:return e=t.sent,r=e.paymentagent_details,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)})},{key:"addSupportedBank",value:function(t){this.config.payment_agent.supported_banks.find((function(e){return e.value===t.toLowerCase()}))||this.config.payment_agent.supported_banks.push({text:t,value:t.toLowerCase()})}},{key:"sortSupportedBanks",value:function(){this.config.payment_agent.supported_banks.replace(this.config.payment_agent.supported_banks.slice().sort((function(t,e){return t.value<e.value?-1:t.value>e.value?1:0})))}},{key:"setPaymentAgentList",value:(d=ua(regeneratorRuntime.mark((function t(e){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,this.getPaymentAgentList();case 4:t.t0=t.sent;case 5:if((r=t.t0)&&r.paymentagent_list){t.next=8;break}return t.abrupt("return");case 8:r.paymentagent_list.list.forEach((function(t){n.config.payment_agent.list.push({email:t.email,phones:(null==t?void 0:t.phone_numbers)||(null==t?void 0:t.telephone),name:t.name,supported_banks:(null==t?void 0:t.supported_payment_methods)||(null==t?void 0:t.supported_banks),urls:(null==t?void 0:t.urls)||(null==t?void 0:t.url)}),t.supported_banks&&(null!=t&&t.supported_payment_methods?t.supported_payment_methods.map((function(t){return t.payment_method})):t.supported_banks.split(",")).forEach((function(t){n.addSupportedBank(t)}))})),this.sortSupportedBanks();case 10:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(t){var e=this;t?(this.config.payment_agent.filtered_list=[],this.config.payment_agent.list.forEach((function(r){r.supported_banks&&-1!==r.supported_banks.toLowerCase().split(",").indexOf(t)&&e.config.payment_agent.filtered_list.push(r)}))):this.config.payment_agent.filtered_list=this.config.payment_agent.list,!this.is_payment_agent_visible&&window.location.pathname.endsWith(r.routes.cashier_pa)&&this.root_store.common.routeTo(r.routes.cashier_deposit)}},{key:"onChangePaymentMethod",value:function(t){var e=t.target,r="0"===e.value?parseInt(e.value):e.value;this.config.payment_agent.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"onMountPaymentAgentWithdraw",value:(y=ua(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentWithdraw,t.next=4,this.onMountCommon();case 4:if(this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.config.payment_agent.agents.length){t.next=16;break}return t.next=10,this.getPaymentAgentList();case 10:(e=t.sent).paymentagent_list.list.forEach((function(t){n.addPaymentAgent(t)})),!e.paymentagent_list.list.length&&window.location.pathname.endsWith(r.routes.cashier_pa)&&this.root_store.common.routeTo(r.routes.cashier_deposit),this.setLoading(!1),t.next=17;break;case 16:this.setLoading(!1);case 17:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"setIsWithdraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.config.payment_agent.is_withdraw;this.config.payment_agent.is_withdraw=t}},{key:"setIsTryWithdrawSuccessful",value:function(t){this.setErrorMessage(""),this.config.payment_agent.is_try_withdraw_successful=t}},{key:"setIsWithdrawSuccessful",value:function(t){this.config.payment_agent.is_withdraw_successful=t}},{key:"setConfirmation",value:function(t){var e=t.amount,r=t.currency,n=t.loginid,o=t.payment_agent_name;this.config.payment_agent.confirm={amount:e,currency:r,loginid:n,payment_agent_name:o}}},{key:"setReceipt",value:function(t){var e=t.amount_transferred,r=t.payment_agent_email,n=t.payment_agent_id,o=t.payment_agent_name,i=t.payment_agent_phone,a=t.payment_agent_url;this.config.payment_agent.receipt={amount_transferred:e,payment_agent_email:r,payment_agent_id:n,payment_agent_name:o,payment_agent_phone:i,payment_agent_url:a}}},{key:"addPaymentAgent",value:function(t){this.config.payment_agent.agents.push({text:t.name,value:t.paymentagent_loginid,max_withdrawal:t.max_withdrawal,min_withdrawal:t.min_withdrawal,email:t.email,phone:t.telephone,url:t.url})}},{key:"requestTryPaymentAgentWithdraw",value:(h=ua(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.loginid,n=e.currency,o=e.amount,i=e.verification_code,this.setErrorMessage(""),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:o,verification_code:i,dry_run:1});case 4:2==+(a=t.sent).paymentagent_withdraw?(s=this.config.payment_agent.agents.find((function(t){return t.value===r})),this.setConfirmation(ia({amount:o,currency:n,loginid:r},s&&{payment_agent_name:s.text})),this.setIsTryWithdrawSuccessful(!0)):this.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"requestPaymentAgentWithdraw",value:(f=ua(regeneratorRuntime.mark((function t(e){var n,o,i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.loginid,o=e.currency,i=e.amount,a=e.verification_code,this.setErrorMessage(""),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:n,currency:o,amount:i,verification_code:a});case 4:1==+(s=t.sent).paymentagent_withdraw?(c=this.config.payment_agent.agents.find((function(t){return t.value===n})),this.setReceipt(ia(ia({amount_transferred:(0,r.formatMoney)(o,i,!0)},c&&{payment_agent_email:c.email,payment_agent_id:c.value,payment_agent_name:c.text,payment_agent_phone:c.phone,payment_agent_url:c.url}),!c&&{payment_agent_id:n})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.setErrorMessage(s.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"onMountAccountTransfer",value:(l=ua(regeneratorRuntime.mark((function t(){var e,r,n,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountAccountTransfer,t.next=4,this.onMountCommon();case 4:return t.next=6,this.WS.wait("website_status");case 6:if(this.config.account_transfer.has_no_accounts_balance&&Object.keys(this.root_store.client.active_accounts).find((function(t){return!i.root_store.client.active_accounts[t].is_virtual&&i.root_store.client.active_accounts[t].balance}))&&this.setHasNoAccountsBalance(!1),!this.root_store.client.is_logged_in){t.next=24;break}return t.next=11,this.WS.authorized.transferBetweenAccounts();case 11:if(!(r=t.sent).error){t.next=16;break}return this.setErrorMessage(r.error,this.onMountAccountTransfer),this.setLoading(!1),t.abrupt("return");case 16:if(this.canDoAccountTransfer(r.accounts)){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,this.sortAccountsTransfer(r);case 20:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(e=this.config.account_transfer.accounts_list)||void 0===e?void 0:e.length)>0&&(n=sessionStorage.getItem("cfd_transfer_to_login_id"),sessionStorage.removeItem("cfd_transfer_to_login_id"),(o=this.config.account_transfer.accounts_list.find((function(t){return t.value===n})))&&(wa(o.value)&&(o.error=ka(o.value)),this.setSelectedTo(o)));case 24:this.setLoading(!1);case 25:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(t){var e=!0;return t.find((function(t){return+t.balance>0}))?this.setHasNoAccountsBalance(!1):(e=!1,this.setHasNoAccountsBalance(!0)),t.length<=1?(e=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),e||this.setLoading(!1),e}},{key:"setHasNoAccountsBalance",value:function(t){this.config.account_transfer.has_no_accounts_balance=t}},{key:"setHasNoAccount",value:function(t){this.config.account_transfer.has_no_account=t}},{key:"setTransferFee",value:function(){var t=(0,r.getPropertyValue)((0,r.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts","fees",this.config.account_transfer.selected_to.currency]);this.config.account_transfer.transfer_fee=void 0===t?1:+t}},{key:"setMinimumFee",value:function(){var t=(0,r.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.minimum_fee=(1/Math.pow(10,t)).toFixed(t)}},{key:"setTransferLimit",value:function(){var t,e=this.config.account_transfer.selected_from.is_mt||this.config.account_transfer.selected_to.is_mt,n=this.config.account_transfer.selected_from.is_dxtrade||this.config.account_transfer.selected_to.is_dxtrade;t=e?"limits_mt5":n?"limits_dxtrade":"limits";var o=(0,r.getPropertyValue)((0,r.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts",t]),i=this.config.account_transfer.selected_from.balance,a=(0,r.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.transfer_limit={max:null==o||!o.max||+i>=((null==o?void 0:o.min)||0)&&+i<=(null==o?void 0:o.max)?i:null==o?void 0:o.max.toFixed(a),min:null!=o&&o.min?(+(null==o?void 0:o.min)).toFixed(a):null}}},{key:"sortAccountsTransfer",value:(p=ua(regeneratorRuntime.mark((function t(e){var n,o,i,a,s,c,u,p=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,this.WS.authorized.transferBetweenAccounts();case 4:t.t0=t.sent;case 5:if(i=t.t0,this.config.account_transfer.accounts_list.length){t.next=9;break}if(!i.error){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.WS.storage.mt5LoginList();case 11:if(t.t2=n=t.sent,t.t1=null===t.t2,t.t1){t.next=15;break}t.t1=void 0===n;case 15:if(!t.t1){t.next=19;break}t.t3=void 0,t.next=20;break;case 19:t.t3=n.mt5_login_list;case 20:return a=t.t3,t.next=23,this.WS.tradingPlatformAccountsList(r.CFD_PLATFORMS.DXTRADE);case 23:if(t.t5=o=t.sent,t.t4=null===t.t5,t.t4){t.next=27;break}t.t4=void 0===o;case 27:if(!t.t4){t.next=31;break}t.t6=void 0,t.next=32;break;case 31:t.t6=o.trading_platform_accounts;case 32:s=t.t6,c=i.accounts.map((function(t){if(t.account_type===r.CFD_PLATFORMS.MT5&&Array.isArray(a)&&a.length){var e=a.find((function(e){return e.login===t.loginid}));return void 0===e?t:ia(ia(ia({},t),e),{},{account_type:r.CFD_PLATFORMS.MT5})}if(t.account_type===r.CFD_PLATFORMS.DXTRADE&&Array.isArray(s)&&s.length){var n=s.find((function(e){return e.account_id===t.loginid}));return void 0===n?t:ia(ia(ia({},t),n),{},{account_type:r.CFD_PLATFORMS.DXTRADE})}return t})),i.accounts.length>1&&c.sort((function(t,e){var n=t.account_type===r.CFD_PLATFORMS.MT5,o=e.account_type===r.CFD_PLATFORMS.MT5,i=!n&&(0,r.isCryptocurrency)(t.currency),a=!o&&(0,r.isCryptocurrency)(e.currency),s=!n&&!i,c=!o&&!a;return n&&o?"gaming"===t.market_type||"synthetic"===t.market_type?-1:"financial"===t.sub_account_type?"gaming"===e.market_type||"synthetic"===e.market_type?1:-1:1:i&&a||s&&c?t.currency<e.currency?-1:1:i&&o||s&&a||s&&o||n?-1:1})),u=[],this.setSelectedTo({}),c.forEach((function(t){var e,n,o={mt5:{name:"DMT5",icon:"IcMt5"},dxtrade:{name:"Deriv X",icon:"IcDxtrade"}},i=Object.keys(o).includes(t.account_type),a=null===(e=o[t.account_type])||void 0===e?void 0:e.name,s="".concat(null===(n=o[t.account_type])||void 0===n?void 0:n.icon,"-").concat((0,r.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:p.root_store.client.is_eu})),c=ia({text:i?"".concat(a," ").concat((0,r.getCFDAccountDisplay)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:p.root_store.client.is_eu})):(0,r.getCurrencyDisplayCode)("eUSDT"!==t.currency?t.currency.toUpperCase():t.currency),value:t.loginid,balance:t.balance,currency:t.currency,is_crypto:(0,r.isCryptocurrency)(t.currency),is_mt:t.account_type===r.CFD_PLATFORMS.MT5,is_dxtrade:t.account_type===r.CFD_PLATFORMS.DXTRADE},i&&{platform_icon:s,market_type:(0,r.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:p.root_store.client.is_eu})});t.loginid===p.root_store.client.loginid?(wa(c.value)&&(c.error=ka(c.value,!0)),p.setSelectedFrom(c)):(0,r.isEmptyObject)(p.config.account_transfer.selected_to)&&(wa(c.value)&&(c.error=ka(c.value)),p.setSelectedTo(c)),u.push(c)})),this.setAccounts(u);case 39:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"setSelectedFrom",value:function(t){this.config.account_transfer.selected_from=t}},{key:"setSelectedTo",value:function(t){this.config.account_transfer.selected_to=t}},{key:"setAccounts",value:function(t){this.config.account_transfer.accounts_list=t}},{key:"setIsTryTransferSuccessful",value:function(t){this.setErrorMessage(""),this.config[this.active_container].is_try_transfer_successful=t}},{key:"setIsTransferConfirm",value:function(t){this.config[this.active_container].is_transfer_confirm=t}},{key:"setAccountTransferAmount",value:function(t){this.config[this.active_container].account_transfer_amount=t}},{key:"setIsTransferSuccessful",value:function(t){this.config[this.active_container].is_transfer_successful=t}},{key:"setIsMT5TransferInProgress",value:function(t){this.config[this.active_container].is_mt5_transfer_in_progress=t}},{key:"isMT5TransferInProgress",value:function(){var t;return null===(t=this.config[this.active_container])||void 0===t?void 0:t.is_mt5_transfer_in_progress}},{key:"setReceiptTransfer",value:function(t){var e=t.amount;this.config.account_transfer.receipt={amount_transferred:e}}},{key:"onChangeTransferFrom",value:function(t){var e=t.target;this.setErrorMessage(""),this.config.account_transfer.selected_from.error="";var r=this.config.account_transfer.accounts_list.find((function(t){return t.value===e.value}));if(r.value===this.config.account_transfer.selected_to.value)this.onChangeTransferTo({target:{value:this.config.account_transfer.selected_from.value}});else if(r.is_mt&&this.config.account_transfer.selected_to.is_mt||r.is_dxtrade&&this.config.account_transfer.selected_to.is_dxtrade||r.is_dxtrade&&this.config.account_transfer.selected_to.is_mt||r.is_mt&&this.config.account_transfer.selected_to.is_dxtrade){var n=this.config.account_transfer.accounts_list.find((function(t){return!t.is_mt&&!t.is_dxtrade}));this.onChangeTransferTo({target:{value:n.value}})}else if(r.is_crypto&&this.config.account_transfer.selected_to.is_crypto){var o=this.config.account_transfer.accounts_list.find((function(t){return!t.is_crypto}));this.onChangeTransferTo({target:{value:o.value}})}wa(r.value)&&(r.error=ka(r.value,!0)),this.config.account_transfer.selected_from=r,this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(t){var e=t.target;this.setErrorMessage(""),this.config.account_transfer.selected_to.error="";var r=this.config.account_transfer.accounts_list;this.config.account_transfer.selected_to=r.find((function(t){return t.value===e.value}))||{},wa(this.config.account_transfer.selected_to.value)&&(this.config.account_transfer.selected_to.error=ka(this.config.account_transfer.selected_to.value)),this.setTransferFee(),this.setTransferLimit()}},{key:"onMountPaymentAgentTransfer",value:(u=ua(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentTransfer,t.next=4,this.onMountCommon();case 4:if(this.config.payment_agent_transfer.transfer_limit.min_withdrawal){t.next=12;break}return t.next=7,this.getPaymentAgentList();case 7:return e=t.sent,t.next=10,this.getCurrentPaymentAgent(e);case 10:r=t.sent,this.setMinMaxPaymentAgentTransfer(r);case 12:this.setLoading(!1);case 13:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getCurrentPaymentAgent",value:(c=ua(regeneratorRuntime.mark((function t(e){var r,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.paymentagent_list.list.find((function(t){return t.paymentagent_loginid===o.root_store.client.loginid})),t.t0=r,t.t0){t.next=6;break}return t.next=5,this.getPaymentAgentDetails();case 5:t.t0=t.sent;case 6:return n=t.t0,t.abrupt("return",null!=n?n:{});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"checkIsPaymentAgent",value:(s=ua(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.storage.getSettings();case 2:r=t.sent.get_settings,this.setIsPaymentAgent(null!==(e=null==r?void 0:r.is_authenticated_payment_agent)&&void 0!==e&&e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setIsPaymentAgent",value:function(t){!t&&window.location.pathname.endsWith(r.routes.cashier_pa_transfer)&&this.root_store.common.routeTo(r.routes.cashier_deposit),this.config.payment_agent_transfer.is_payment_agent=!!t}},{key:"setMinMaxPaymentAgentTransfer",value:function(t){var e=t.min_withdrawal,r=t.max_withdrawal;this.config.payment_agent_transfer.transfer_limit={min:e,max:r}}},{key:"setConfirmationPaymentAgentTransfer",value:function(t){var e=t.amount,r=t.client_id,n=t.client_name,o=t.description;this.config.payment_agent_transfer.confirm={amount:e,client_id:r,client_name:n,description:o}}},{key:"setReceiptPaymentAgentTransfer",value:function(t){var e=t.amount_transferred,r=t.client_id,n=t.client_name;this.config.payment_agent_transfer.receipt={amount_transferred:e,client_id:r,client_name:n}}},{key:"accountSwitcherListener",value:function(){var t=this;return[this.config.withdraw.container,this.config.payment_agent.container].forEach((function(e){t.clearVerification(e)})),[this.config.deposit.container,this.config.withdraw.container].forEach((function(e){t.setIframeUrl("",e),t.clearTimeoutCashierUrl(e),t.setSessionTimeout(!0,e)})),this.config.payment_agent=new Ca,this.config.account_transfer=new Sa,this.config.payment_agent_transfer=new Ta,this.is_populating_values=!1,this.onRemount(),Promise.resolve()}},{key:"account_platform_icon",get:function(){var t=this;return this.root_store.client.account_list.find((function(e){return t.root_store.client.loginid===e.loginid})).icon}},{key:"setConverterFromAmount",value:function(t){this.converter_from_amount=t}},{key:"setConverterToAmount",value:function(t){this.converter_to_amount=t}},{key:"setConverterFromError",value:function(t){this.converter_from_error=t}},{key:"setConverterToError",value:function(t){this.converter_to_error=t}},{key:"onChangeConverterFromAmount",value:(a=ua(regeneratorRuntime.mark((function t(e,n,o){var i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.target,this.resetTimer(),!i.value){t.next=26;break}if(this.setConverterFromAmount(i.value),this.validateFromAmount(),this.percentageSelectorSelectionStatus(!0),this.calculatePercentage(),!this.converter_from_error){t.next=14;break}this.setConverterToAmount(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.setAccountTransferAmount(""),t.next=24;break;case 14:return t.next=16,this.getExchangeRate(n,o);case 16:a=t.sent,s=(0,r.getDecimalPlaces)(o),+(c=(a*i.value).toFixed(s))||this.converter_from_amount?this.setConverterToAmount(c):this.setConverterToAmount(""),this.validateToAmount(),this.setConverterToError(""),this.setIsTimerVisible(!0),this.setAccountTransferAmount(i.value);case 24:t.next=27;break;case 26:this.resetConverter();case 27:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return a.apply(this,arguments)})},{key:"onChangeConverterToAmount",value:(i=ua(regeneratorRuntime.mark((function t(e,n,o){var i,a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.target,this.resetTimer(),!i.value){t.next=24;break}if(this.setConverterToAmount(i.value),this.validateToAmount(),!this.converter_to_error){t.next=12;break}this.setConverterFromAmount(""),this.setConverterFromError(""),this.setIsTimerVisible(!1),this.setAccountTransferAmount(""),t.next=22;break;case 12:return t.next=14,this.getExchangeRate(n,o);case 14:a=t.sent,s=(0,r.getDecimalPlaces)(o),+(c=(a*i.value).toFixed(s))||this.converter_to_amount?this.setConverterFromAmount(c):this.setConverterFromAmount(""),this.percentageSelectorSelectionStatus(!0),this.calculatePercentage(),this.validateFromAmount(),this.converter_from_error?(this.setIsTimerVisible(!1),this.setAccountTransferAmount("")):(this.setConverterFromError(""),this.setIsTimerVisible(!0),this.setAccountTransferAmount(c));case 22:t.next=25;break;case 24:this.resetConverter();case 25:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"setTransferPercentageSelectorResult",value:function(t){var e=this.config.account_transfer.selected_from.currency,r=this.config.account_transfer.selected_to.currency;t>0||0==+this.config.account_transfer.selected_from.balance?(this.setConverterFromAmount(t),this.validateTransferFromAmount(),this.onChangeConverterFromAmount({target:{value:t}},e,r)):0==+this.config.account_transfer.selected_from.balance?(this.setConverterFromAmount(t),this.validateTransferFromAmount()):this.resetConverter(),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!1)}},{key:"setWithdrawPercentageSelectorResult",value:function(t){t>0?(this.setConverterFromAmount(t),this.validateWithdrawFromAmount(),this.onChangeConverterFromAmount({target:{value:t}},this.root_store.client.currency,this.root_store.client.current_fiat_currency||"USD")):this.resetConverter(),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!1)}},{key:"validateFromAmount",value:function(){this.active_container===this.config.account_transfer.container?this.validateTransferFromAmount():this.validateWithdrawFromAmount()}},{key:"validateToAmount",value:function(){this.active_container===this.config.account_transfer.container?this.validateTransferToAmount():this.validateWithdrawToAmount()}},{key:"validateTransferFromAmount",value:function(){if(this.converter_from_amount){var t=(0,r.validNumber)(this.converter_from_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(this.config.account_transfer.selected_from.currency),min:this.config.account_transfer.transfer_limit.min,max:this.config.account_transfer.transfer_limit.max}),e=t.is_ok,o=t.message;e?+this.config.account_transfer.selected_from.balance<+this.converter_from_amount?this.setConverterFromError((0,n.localize)("Insufficient funds")):this.setConverterFromError(""):this.setConverterFromError(o)}else this.setConverterFromError((0,n.localize)("This field is required."))}},{key:"validateTransferToAmount",value:function(){if(this.converter_to_amount){var t=this.config.account_transfer.selected_to.currency,e=(0,r.validNumber)(this.converter_to_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(t)}),n=e.is_ok,o=e.message;n?this.setConverterToError(""):this.setConverterToError(o)}}},{key:"validateWithdrawFromAmount",value:function(){var e="",o=this.root_store.client,i=o.balance,a=o.currency,s=o.website_status.crypto_config[a].minimum_withdrawal,c=+this.max_withdraw_amount>+i?+i:+this.max_withdraw_amount;if(this.converter_from_amount){var u=(0,r.validNumber)(this.converter_from_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(a)}),p=u.is_ok,l=u.message;p||(e=l),+i<+this.converter_from_amount&&(e=(0,n.localize)("Insufficient funds")),(+this.converter_from_amount<+s||+this.converter_from_amount>+c)&&(e=t.createElement(n.Localize,{i18n_default_text:"The allowed withdraw amount is {{min_withdraw_amount}} to {{max_withdraw_amount}} {{currency}}",values:{min_withdraw_amount:s,max_withdraw_amount:c,currency:a}}))}this.setConverterFromError(e)}},{key:"validateWithdrawToAmount",value:function(){var t="",e=this.root_store.client.current_fiat_currency;if(this.converter_to_amount){var n=(0,r.validNumber)(this.converter_to_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(e)}),o=n.is_ok,i=n.message;o||(t=i)}this.setConverterToError(t)}},{key:"resetConverter",value:function(){this.setConverterFromAmount(""),this.setConverterToAmount(""),this.setConverterFromError(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!0)}}]),R}(Tt)).prototype,"is_loading",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pi=va(ki.prototype,"is_p2p_visible",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ci=va(ki.prototype,"p2p_notification_count",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ti=va(ki.prototype,"cashier_route_tab_index",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Si=va(ki.prototype,"is_10k_withdrawal_limit_reached",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ai=va(ki.prototype,"is_deposit",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Di=va(ki.prototype,"should_show_all_available_currencies",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ji=va(ki.prototype,"is_cashier_default",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xi=va(ki.prototype,"deposit_target",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ii=va(ki.prototype,"crypto_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ri=va(ki.prototype,"fiat_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ei=va(ki.prototype,"insufficient_fund_error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zi=va(ki.prototype,"all_payment_agent_list",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Li=va(ki.prototype,"should_set_currency_modal_title_change",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mi=va(ki.prototype,"p2p_advertiser_error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Wi=va(ki.prototype,"has_set_currency",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fi=va(ki.prototype,"withdraw_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vi=va(ki.prototype,"converter_from_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bi=va(ki.prototype,"converter_to_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ni=va(ki.prototype,"converter_from_error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hi=va(ki.prototype,"converter_to_error",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ui=va(ki.prototype,"is_timer_visible",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qi=va(ki.prototype,"is_crypto_transactions_visible",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$i=va(ki.prototype,"blockchain_address",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gi=va(ki.prototype,"should_percentage_reset",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xi=va(ki.prototype,"percentage",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ki=va(ki.prototype,"is_withdraw_confirmed",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ji=va(ki.prototype,"show_p2p_in_cashier_default",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yi=va(ki.prototype,"max_withdraw_amount",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qi=va(ki.prototype,"config",[e.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{account_transfer:new Sa,deposit:ia(ia({},(0,e.toJS)(new Oa({container:"deposit"}))),{},{error:new Pa}),payment_agent:new Ca,payment_agent_transfer:new Ta,withdraw:new Aa}}}),va(ki.prototype,"is_crypto",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_crypto"),ki.prototype),va(ki.prototype,"is_payment_agent_visible",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_payment_agent_visible"),ki.prototype),va(ki.prototype,"is_payment_agent_visible_in_onboarding",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_payment_agent_visible_in_onboarding"),ki.prototype),va(ki.prototype,"is_payment_agent_transfer_visible",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_payment_agent_transfer_visible"),ki.prototype),va(ki.prototype,"is_account_transfer_visible",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_account_transfer_visible"),ki.prototype),va(ki.prototype,"is_p2p_enabled",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_p2p_enabled"),ki.prototype),va(ki.prototype,"showP2pInCashierDefault",[pn],Object.getOwnPropertyDescriptor(ki.prototype,"showP2pInCashierDefault"),ki.prototype),va(ki.prototype,"attachCashierToMenu",[ln],Object.getOwnPropertyDescriptor(ki.prototype,"attachCashierToMenu"),ki.prototype),va(ki.prototype,"replaceCashierMenuOnclick",[fn],Object.getOwnPropertyDescriptor(ki.prototype,"replaceCashierMenuOnclick"),ki.prototype),va(ki.prototype,"setHasSetCurrency",[hn],Object.getOwnPropertyDescriptor(ki.prototype,"setHasSetCurrency"),ki.prototype),va(ki.prototype,"changeSetCurrencyModalTitle",[yn],Object.getOwnPropertyDescriptor(ki.prototype,"changeSetCurrencyModalTitle"),ki.prototype),va(ki.prototype,"onMountCashierDefault",[dn],Object.getOwnPropertyDescriptor(ki.prototype,"onMountCashierDefault"),ki.prototype),va(ki.prototype,"setIsWithdrawConfirmed",[_n],Object.getOwnPropertyDescriptor(ki.prototype,"setIsWithdrawConfirmed"),ki.prototype),va(ki.prototype,"setWithdrawAmount",[bn],Object.getOwnPropertyDescriptor(ki.prototype,"setWithdrawAmount"),ki.prototype),va(ki.prototype,"calculatePercentage",[mn],Object.getOwnPropertyDescriptor(ki.prototype,"calculatePercentage"),ki.prototype),va(ki.prototype,"percentageSelectorSelectionStatus",[gn],Object.getOwnPropertyDescriptor(ki.prototype,"percentageSelectorSelectionStatus"),ki.prototype),va(ki.prototype,"requestWithdraw",[vn],Object.getOwnPropertyDescriptor(ki.prototype,"requestWithdraw"),ki.prototype),va(ki.prototype,"resetWithrawForm",[wn],Object.getOwnPropertyDescriptor(ki.prototype,"resetWithrawForm"),ki.prototype),va(ki.prototype,"setIsDeposit",[kn],Object.getOwnPropertyDescriptor(ki.prototype,"setIsDeposit"),ki.prototype),va(ki.prototype,"setShouldShowAllAvailableCurrencies",[On],Object.getOwnPropertyDescriptor(ki.prototype,"setShouldShowAllAvailableCurrencies"),ki.prototype),va(ki.prototype,"setBlockchainAddress",[Pn],Object.getOwnPropertyDescriptor(ki.prototype,"setBlockchainAddress"),ki.prototype),va(ki.prototype,"setIsCashierDefault",[Cn],Object.getOwnPropertyDescriptor(ki.prototype,"setIsCashierDefault"),ki.prototype),va(ki.prototype,"setDepositTarget",[Tn],Object.getOwnPropertyDescriptor(ki.prototype,"setDepositTarget"),ki.prototype),va(ki.prototype,"continueRoute",[Sn],Object.getOwnPropertyDescriptor(ki.prototype,"continueRoute"),ki.prototype),va(ki.prototype,"setAccountSwitchListener",[An],Object.getOwnPropertyDescriptor(ki.prototype,"setAccountSwitchListener"),ki.prototype),va(ki.prototype,"setActiveTabIndex",[Dn],Object.getOwnPropertyDescriptor(ki.prototype,"setActiveTabIndex"),ki.prototype),va(ki.prototype,"init",[jn],Object.getOwnPropertyDescriptor(ki.prototype,"init"),ki.prototype),va(ki.prototype,"getAdvertizerError",[xn],Object.getOwnPropertyDescriptor(ki.prototype,"getAdvertizerError"),ki.prototype),va(ki.prototype,"setP2pAdvertiserError",[In],Object.getOwnPropertyDescriptor(ki.prototype,"setP2pAdvertiserError"),ki.prototype),va(ki.prototype,"checkP2pStatus",[Rn],Object.getOwnPropertyDescriptor(ki.prototype,"checkP2pStatus"),ki.prototype),va(ki.prototype,"onMountCommon",[En],Object.getOwnPropertyDescriptor(ki.prototype,"onMountCommon"),ki.prototype),va(ki.prototype,"setIsCryptoTransactionsVisible",[zn],Object.getOwnPropertyDescriptor(ki.prototype,"setIsCryptoTransactionsVisible"),ki.prototype),va(ki.prototype,"setCashierTabIndex",[Ln],Object.getOwnPropertyDescriptor(ki.prototype,"setCashierTabIndex"),ki.prototype),va(ki.prototype,"willMountWithdraw",[Mn],Object.getOwnPropertyDescriptor(ki.prototype,"willMountWithdraw"),ki.prototype),va(ki.prototype,"onMountWithdraw",[Wn],Object.getOwnPropertyDescriptor(ki.prototype,"onMountWithdraw"),ki.prototype),va(ki.prototype,"onMountDeposit",[Fn],Object.getOwnPropertyDescriptor(ki.prototype,"onMountDeposit"),ki.prototype),va(ki.prototype,"setNotificationCount",[Vn],Object.getOwnPropertyDescriptor(ki.prototype,"setNotificationCount"),ki.prototype),va(ki.prototype,"setIsP2pVisible",[Bn],Object.getOwnPropertyDescriptor(ki.prototype,"setIsP2pVisible"),ki.prototype),va(ki.prototype,"onMount",[Nn],Object.getOwnPropertyDescriptor(ki.prototype,"onMount"),ki.prototype),va(ki.prototype,"is_cashier_locked",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_cashier_locked"),ki.prototype),va(ki.prototype,"is_system_maintenance",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_system_maintenance"),ki.prototype),va(ki.prototype,"is_deposit_locked",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_deposit_locked"),ki.prototype),va(ki.prototype,"is_withdrawal_locked",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_withdrawal_locked"),ki.prototype),va(ki.prototype,"is_transfer_locked",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"is_transfer_locked"),ki.prototype),va(ki.prototype,"setMaxWithdrawAmount",[Hn],Object.getOwnPropertyDescriptor(ki.prototype,"setMaxWithdrawAmount"),ki.prototype),va(ki.prototype,"check10kLimit",[Un],Object.getOwnPropertyDescriptor(ki.prototype,"check10kLimit"),ki.prototype),va(ki.prototype,"set10kLimitation",[qn],Object.getOwnPropertyDescriptor(ki.prototype,"set10kLimitation"),ki.prototype),va(ki.prototype,"checkIframeLoaded",[$n],Object.getOwnPropertyDescriptor(ki.prototype,"checkIframeLoaded"),ki.prototype),va(ki.prototype,"setIframeUrl",[Gn],Object.getOwnPropertyDescriptor(ki.prototype,"setIframeUrl"),ki.prototype),va(ki.prototype,"setContainerHeight",[Xn],Object.getOwnPropertyDescriptor(ki.prototype,"setContainerHeight"),ki.prototype),va(ki.prototype,"setErrorMessage",[Kn],Object.getOwnPropertyDescriptor(ki.prototype,"setErrorMessage"),ki.prototype),va(ki.prototype,"handleCashierError",[Jn],Object.getOwnPropertyDescriptor(ki.prototype,"handleCashierError"),ki.prototype),va(ki.prototype,"setErrorConfig",[Yn],Object.getOwnPropertyDescriptor(ki.prototype,"setErrorConfig"),ki.prototype),va(ki.prototype,"submitFundsProtection",[Qn],Object.getOwnPropertyDescriptor(ki.prototype,"submitFundsProtection"),ki.prototype),va(ki.prototype,"setLoading",[Zn],Object.getOwnPropertyDescriptor(ki.prototype,"setLoading"),ki.prototype),va(ki.prototype,"setSessionTimeout",[to],Object.getOwnPropertyDescriptor(ki.prototype,"setSessionTimeout"),ki.prototype),va(ki.prototype,"setVerificationButtonClicked",[eo],Object.getOwnPropertyDescriptor(ki.prototype,"setVerificationButtonClicked"),ki.prototype),va(ki.prototype,"setVerificationEmailSent",[ro],Object.getOwnPropertyDescriptor(ki.prototype,"setVerificationEmailSent"),ki.prototype),va(ki.prototype,"setVerificationResendClicked",[no],Object.getOwnPropertyDescriptor(ki.prototype,"setVerificationResendClicked"),ki.prototype),va(ki.prototype,"setVerificationResendTimeout",[oo],Object.getOwnPropertyDescriptor(ki.prototype,"setVerificationResendTimeout"),ki.prototype),va(ki.prototype,"setTimeoutCashierUrl",[io],Object.getOwnPropertyDescriptor(ki.prototype,"setTimeoutCashierUrl"),ki.prototype),va(ki.prototype,"setTimeoutVerification",[ao],Object.getOwnPropertyDescriptor(ki.prototype,"setTimeoutVerification"),ki.prototype),va(ki.prototype,"sendVerificationEmail",[so],Object.getOwnPropertyDescriptor(ki.prototype,"sendVerificationEmail"),ki.prototype),va(ki.prototype,"resendVerificationEmail",[co],Object.getOwnPropertyDescriptor(ki.prototype,"resendVerificationEmail"),ki.prototype),va(ki.prototype,"setIsTimerVisible",[uo],Object.getOwnPropertyDescriptor(ki.prototype,"setIsTimerVisible"),ki.prototype),va(ki.prototype,"resetTimer",[po],Object.getOwnPropertyDescriptor(ki.prototype,"resetTimer"),ki.prototype),va(ki.prototype,"getExchangeRate",[lo],Object.getOwnPropertyDescriptor(ki.prototype,"getExchangeRate"),ki.prototype),va(ki.prototype,"setActiveTab",[fo],Object.getOwnPropertyDescriptor(ki.prototype,"setActiveTab"),ki.prototype),va(ki.prototype,"onMountPaymentAgentList",[ho],Object.getOwnPropertyDescriptor(ki.prototype,"onMountPaymentAgentList"),ki.prototype),va(ki.prototype,"getPaymentAgentList",[yo],Object.getOwnPropertyDescriptor(ki.prototype,"getPaymentAgentList"),ki.prototype),va(ki.prototype,"setAllPaymentAgentList",[_o],Object.getOwnPropertyDescriptor(ki.prototype,"setAllPaymentAgentList"),ki.prototype),va(ki.prototype,"getPaymentAgentDetails",[bo],Object.getOwnPropertyDescriptor(ki.prototype,"getPaymentAgentDetails"),ki.prototype),va(ki.prototype,"addSupportedBank",[mo],Object.getOwnPropertyDescriptor(ki.prototype,"addSupportedBank"),ki.prototype),va(ki.prototype,"sortSupportedBanks",[go],Object.getOwnPropertyDescriptor(ki.prototype,"sortSupportedBanks"),ki.prototype),va(ki.prototype,"setPaymentAgentList",[vo],Object.getOwnPropertyDescriptor(ki.prototype,"setPaymentAgentList"),ki.prototype),va(ki.prototype,"filterPaymentAgentList",[wo],Object.getOwnPropertyDescriptor(ki.prototype,"filterPaymentAgentList"),ki.prototype),va(ki.prototype,"onChangePaymentMethod",[ko],Object.getOwnPropertyDescriptor(ki.prototype,"onChangePaymentMethod"),ki.prototype),va(ki.prototype,"onMountPaymentAgentWithdraw",[Oo],Object.getOwnPropertyDescriptor(ki.prototype,"onMountPaymentAgentWithdraw"),ki.prototype),va(ki.prototype,"setIsWithdraw",[Po],Object.getOwnPropertyDescriptor(ki.prototype,"setIsWithdraw"),ki.prototype),va(ki.prototype,"setIsTryWithdrawSuccessful",[Co],Object.getOwnPropertyDescriptor(ki.prototype,"setIsTryWithdrawSuccessful"),ki.prototype),va(ki.prototype,"setIsWithdrawSuccessful",[To],Object.getOwnPropertyDescriptor(ki.prototype,"setIsWithdrawSuccessful"),ki.prototype),va(ki.prototype,"setConfirmation",[So],Object.getOwnPropertyDescriptor(ki.prototype,"setConfirmation"),ki.prototype),va(ki.prototype,"setReceipt",[Ao],Object.getOwnPropertyDescriptor(ki.prototype,"setReceipt"),ki.prototype),va(ki.prototype,"addPaymentAgent",[Do],Object.getOwnPropertyDescriptor(ki.prototype,"addPaymentAgent"),ki.prototype),va(ki.prototype,"requestTryPaymentAgentWithdraw",[jo],Object.getOwnPropertyDescriptor(ki.prototype,"requestTryPaymentAgentWithdraw"),ki.prototype),va(ki.prototype,"requestPaymentAgentWithdraw",[xo],Object.getOwnPropertyDescriptor(ki.prototype,"requestPaymentAgentWithdraw"),ki.prototype),Zi=va(ki.prototype,"resetPaymentAgent",[Io],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.setErrorMessage(""),t.setIsWithdraw(!1),t.clearVerification(),t.setActiveTabIndex(0)}}}),va(ki.prototype,"onMountAccountTransfer",[Ro],Object.getOwnPropertyDescriptor(ki.prototype,"onMountAccountTransfer"),ki.prototype),va(ki.prototype,"setHasNoAccountsBalance",[Eo],Object.getOwnPropertyDescriptor(ki.prototype,"setHasNoAccountsBalance"),ki.prototype),va(ki.prototype,"setHasNoAccount",[zo],Object.getOwnPropertyDescriptor(ki.prototype,"setHasNoAccount"),ki.prototype),va(ki.prototype,"setTransferFee",[Lo],Object.getOwnPropertyDescriptor(ki.prototype,"setTransferFee"),ki.prototype),va(ki.prototype,"setMinimumFee",[Mo],Object.getOwnPropertyDescriptor(ki.prototype,"setMinimumFee"),ki.prototype),va(ki.prototype,"setTransferLimit",[Wo],Object.getOwnPropertyDescriptor(ki.prototype,"setTransferLimit"),ki.prototype),va(ki.prototype,"sortAccountsTransfer",[Fo],Object.getOwnPropertyDescriptor(ki.prototype,"sortAccountsTransfer"),ki.prototype),va(ki.prototype,"setSelectedFrom",[Vo],Object.getOwnPropertyDescriptor(ki.prototype,"setSelectedFrom"),ki.prototype),va(ki.prototype,"setSelectedTo",[Bo],Object.getOwnPropertyDescriptor(ki.prototype,"setSelectedTo"),ki.prototype),va(ki.prototype,"setAccounts",[No],Object.getOwnPropertyDescriptor(ki.prototype,"setAccounts"),ki.prototype),va(ki.prototype,"setIsTryTransferSuccessful",[Ho],Object.getOwnPropertyDescriptor(ki.prototype,"setIsTryTransferSuccessful"),ki.prototype),va(ki.prototype,"setIsTransferConfirm",[Uo],Object.getOwnPropertyDescriptor(ki.prototype,"setIsTransferConfirm"),ki.prototype),va(ki.prototype,"setAccountTransferAmount",[qo],Object.getOwnPropertyDescriptor(ki.prototype,"setAccountTransferAmount"),ki.prototype),va(ki.prototype,"setIsTransferSuccessful",[$o],Object.getOwnPropertyDescriptor(ki.prototype,"setIsTransferSuccessful"),ki.prototype),va(ki.prototype,"setIsMT5TransferInProgress",[Go],Object.getOwnPropertyDescriptor(ki.prototype,"setIsMT5TransferInProgress"),ki.prototype),va(ki.prototype,"isMT5TransferInProgress",[Xo],Object.getOwnPropertyDescriptor(ki.prototype,"isMT5TransferInProgress"),ki.prototype),va(ki.prototype,"setReceiptTransfer",[Ko],Object.getOwnPropertyDescriptor(ki.prototype,"setReceiptTransfer"),ki.prototype),va(ki.prototype,"onChangeTransferFrom",[Jo],Object.getOwnPropertyDescriptor(ki.prototype,"onChangeTransferFrom"),ki.prototype),va(ki.prototype,"onChangeTransferTo",[Yo],Object.getOwnPropertyDescriptor(ki.prototype,"onChangeTransferTo"),ki.prototype),ta=va(ki.prototype,"resetAccountTransfer",[Qo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return ua(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setIsTransferConfirm(!1);case 1:case"end":return e.stop()}}),e)})))}}),va(ki.prototype,"onMountPaymentAgentTransfer",[Zo],Object.getOwnPropertyDescriptor(ki.prototype,"onMountPaymentAgentTransfer"),ki.prototype),va(ki.prototype,"setIsPaymentAgent",[ti],Object.getOwnPropertyDescriptor(ki.prototype,"setIsPaymentAgent"),ki.prototype),va(ki.prototype,"setMinMaxPaymentAgentTransfer",[ei],Object.getOwnPropertyDescriptor(ki.prototype,"setMinMaxPaymentAgentTransfer"),ki.prototype),va(ki.prototype,"setConfirmationPaymentAgentTransfer",[ri],Object.getOwnPropertyDescriptor(ki.prototype,"setConfirmationPaymentAgentTransfer"),ki.prototype),ea=va(ki.prototype,"requestTryPaymentAgentTransfer",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=ua(regeneratorRuntime.mark((function e(r){var n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.amount,o=r.currency,i=r.description,a=r.transfer_to,t.setErrorMessage(""),e.next=4,t.WS.authorized.paymentAgentTransfer({amount:n,currency:o,description:i,transfer_to:a,dry_run:1});case 4:return 2==+(s=e.sent).paymentagent_transfer?(t.setConfirmationPaymentAgentTransfer({client_id:a,client_name:s.client_to_full_name,amount:n,description:i}),t.setIsTryTransferSuccessful(!0)):t.setErrorMessage(s.error,t.resetPaymentAgentTransfer),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),va(ki.prototype,"setReceiptPaymentAgentTransfer",[oi],Object.getOwnPropertyDescriptor(ki.prototype,"setReceiptPaymentAgentTransfer"),ki.prototype),ra=va(ki.prototype,"requestPaymentAgentTransfer",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){var e=ua(regeneratorRuntime.mark((function e(r){var n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.amount,o=r.currency,i=r.description,a=r.transfer_to,t.setErrorMessage(""),e.next=4,t.WS.authorized.paymentAgentTransfer({amount:n,currency:o,description:i,transfer_to:a});case 4:return 1==+(s=e.sent).paymentagent_transfer?(t.setReceiptPaymentAgentTransfer({amount_transferred:n,client_id:a,client_name:s.client_to_full_name}),t.setIsTransferSuccessful(!0),t.setIsTryTransferSuccessful(!1),t.setConfirmationPaymentAgentTransfer({})):t.setErrorMessage(s.error,t.resetPaymentAgentTransfer),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),na=va(ki.prototype,"resetPaymentAgentTransfer",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.setIsTransferSuccessful(!1),t.setErrorMessage("")}}}),va(ki.prototype,"account_platform_icon",[e.computed],Object.getOwnPropertyDescriptor(ki.prototype,"account_platform_icon"),ki.prototype),va(ki.prototype,"setConverterFromAmount",[si],Object.getOwnPropertyDescriptor(ki.prototype,"setConverterFromAmount"),ki.prototype),va(ki.prototype,"setConverterToAmount",[ci],Object.getOwnPropertyDescriptor(ki.prototype,"setConverterToAmount"),ki.prototype),va(ki.prototype,"setConverterFromError",[ui],Object.getOwnPropertyDescriptor(ki.prototype,"setConverterFromError"),ki.prototype),va(ki.prototype,"setConverterToError",[pi],Object.getOwnPropertyDescriptor(ki.prototype,"setConverterToError"),ki.prototype),va(ki.prototype,"onChangeConverterFromAmount",[li],Object.getOwnPropertyDescriptor(ki.prototype,"onChangeConverterFromAmount"),ki.prototype),va(ki.prototype,"onChangeConverterToAmount",[fi],Object.getOwnPropertyDescriptor(ki.prototype,"onChangeConverterToAmount"),ki.prototype),va(ki.prototype,"setTransferPercentageSelectorResult",[hi],Object.getOwnPropertyDescriptor(ki.prototype,"setTransferPercentageSelectorResult"),ki.prototype),va(ki.prototype,"setWithdrawPercentageSelectorResult",[yi],Object.getOwnPropertyDescriptor(ki.prototype,"setWithdrawPercentageSelectorResult"),ki.prototype),va(ki.prototype,"validateFromAmount",[di],Object.getOwnPropertyDescriptor(ki.prototype,"validateFromAmount"),ki.prototype),va(ki.prototype,"validateToAmount",[_i],Object.getOwnPropertyDescriptor(ki.prototype,"validateToAmount"),ki.prototype),va(ki.prototype,"validateTransferFromAmount",[bi],Object.getOwnPropertyDescriptor(ki.prototype,"validateTransferFromAmount"),ki.prototype),va(ki.prototype,"validateTransferToAmount",[mi],Object.getOwnPropertyDescriptor(ki.prototype,"validateTransferToAmount"),ki.prototype),va(ki.prototype,"validateWithdrawFromAmount",[gi],Object.getOwnPropertyDescriptor(ki.prototype,"validateWithdrawFromAmount"),ki.prototype),va(ki.prototype,"validateWithdrawToAmount",[vi],Object.getOwnPropertyDescriptor(ki.prototype,"validateWithdrawToAmount"),ki.prototype),va(ki.prototype,"resetConverter",[wi],Object.getOwnPropertyDescriptor(ki.prototype,"resetConverter"),ki.prototype),ki)})(),l.default})())}}]);