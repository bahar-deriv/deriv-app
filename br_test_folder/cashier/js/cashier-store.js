/*! For license information please see cashier-store.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","mobx"],t):"object"==typeof exports?exports["@deriv/cashier"]=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx")):e["@deriv/cashier"]=t(e["@deriv/components"],e["@deriv/shared"],e["@deriv/translations"],e.mobx)}(self,(function(e,t,r,n){return(()=>{var o,i,a,s,c={"../../../node_modules/object-assign/index.js":e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,c=o(e),u=1;u<arguments.length;u++){for(var p in a=Object(arguments[u]))r.call(a,p)&&(c[p]=a[p]);if(t){s=t(a);for(var l=0;l<s.length;l++)n.call(a,s[l])&&(c[s[l]]=a[s[l]])}}return c}},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(e,t,r)=>{e.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../../node_modules/react/cjs/react.production.min.js":(e,t,r)=>{"use strict";var n=r("../../../node_modules/object-assign/index.js"),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,p=o?Symbol.for("react.provider"):60109,l=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,y=o?Symbol.for("react.memo"):60115,d=o?Symbol.for("react.lazy"):60116,_="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||b}function w(){}function O(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||b}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var k=O.prototype=new w;k.constructor=O,n(k,v.prototype),k.isPureReactComponent=!0;var P={current:null},C=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,n)&&!T.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),p=0;p<c;p++)u[p]=arguments[p+2];o.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===o[n]&&(o[n]=c[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:P.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var D=/\/+/g,j=[];function x(e,t,r,n){if(j.length){var o=j.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function R(e,t,r,n){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return r(n,e,""===t?"."+z(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=t+z(o=e[c],c);s+=R(o,u,r,n)}else if("function"==typeof(u=null===e||"object"!=typeof e?null:"function"==typeof(u=_&&e[_]||e["@@iterator"])?u:null))for(e=u.call(e),c=0;!(o=e.next()).done;)s+=R(o=o.value,u=t+z(o,c++),r,n);else if("object"===o)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}function E(e,t,r){return null==e?0:R(e,"",t,r)}function z(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?W(e,n,r,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+r)),n.push(e))}function W(e,t,r,n,o){var i="";null!=r&&(i=(""+r).replace(D,"$&/")+"/"),E(e,M,t=x(t,i,n,o)),I(t)}var F={current:null};function V(){var e=F.current;if(null===e)throw Error(m(321));return e}var B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return W(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;E(e,L,t=x(null,null,t,r)),I(t)},count:function(e){return E(e,(function(){return null}),null)},toArray:function(e){var t=[];return W(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(m(143));return e}},t.Component=v,t.Fragment=s,t.Profiler=u,t.PureComponent=O,t.StrictMode=c,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,r){if(null==e)throw Error(m(267,e));var o=n({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=P.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(p in t)C.call(t,p)&&!T.hasOwnProperty(p)&&(o[p]=void 0===t[p]&&void 0!==u?u[p]:t[p])}var p=arguments.length-2;if(1===p)o.children=r;else if(1<p){u=Array(p);for(var l=0;l<p;l++)u[l]=arguments[l+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return V().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,r){return V().useReducer(e,t,r)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},"../../../node_modules/react/index.js":(e,t,r)=>{"use strict";e.exports=r("../../../node_modules/react/cjs/react.production.min.js")},"@deriv/components":t=>{"use strict";t.exports=e},"@deriv/shared":e=>{"use strict";e.exports=t},"@deriv/translations":e=>{"use strict";e.exports=r},mobx:e=>{"use strict";e.exports=n}},u={};function p(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={exports:{}};return c[e].call(r.exports,r,r.exports,p),r.exports}p.m=c,p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,p.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);p.r(r);var n={};o=o||[null,i({}),i([]),i(i)];for(var a=2&t&&e;"object"==typeof a&&!~o.indexOf(a);a=i(a))Object.getOwnPropertyNames(a).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,p.d(r,n),r},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.f={},p.e=e=>Promise.all(Object.keys(p.f).reduce(((t,r)=>(p.f[r](e,t),t)),[])),p.u=e=>"cashier/js/cashier."+e+".4b458ac4203eb84dc516.js",p.miniCssF=e=>{},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},s="@deriv/cashier:",p.l=(e,t,r,n)=>{if(a[e])a[e].push(t);else{var o,i;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==s+r){o=l;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,p.nc&&o.setAttribute("nonce",p.nc),o.setAttribute("data-webpack",s+r),o.src=e),a[e]=[t];var f=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var n=a[e];if(delete a[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),i&&document.head.appendChild(o)}},p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.p="/",(()=>{var e={"cashier-store":0};p.f.j=(t,r)=>{var n=p.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=p.p+p.u(t),a=new Error;p.l(i,(r=>{if(p.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,a,s]=r,c=0;for(n in a)p.o(a,n)&&(p.m[n]=a[n]);for(s&&s(p),t&&t(r);c<i.length;c++)o=i[c],p.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l={};return(()=>{"use strict";p.d(l,{default:()=>Aa});var e=p("../../../node_modules/react/index.js"),t=p("mobx"),r=p("@deriv/shared"),n=p("@deriv/translations");const o=function(e){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,n.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(t,r){e.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(e){if(e.error)r(e.error.message);else{var n=e.service_token.banxa.url;n&&window.open(n),t()}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}},i=function(e){return{icon:{dark:"IcCashierChangellyDark",light:"IcCashierChangellyLight"},name:"Changelly",getDescription:function(){return(0,n.localize)("Your simple access to crypto. Fast and secure way to exchange and purchase cryptocurrencies. 24/7 live chat support.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return"usd"},getFromCurrencies:function(){return["usd","eur","gbp"]},getToCurrencies:function(){return["bch","btc","etc","eth","ltc","ust"]},getWidgetHtml:function(){var t=this;return new Promise((function(r){var n=new URL("https://widget.changelly.com/?v=3&theme=default");n.searchParams.append("fromDefault",t.getDefaultFromCurrency());var o=e.root_store.client.currency.toLowerCase();if(t.getToCurrencies().includes(o)){var i="ust"===o?"usdt":o;n.searchParams.append("to",i),n.searchParams.append("toDefault",i)}n.searchParams.append("amount",1),n.searchParams.append("merchant_id","iiq3jdt2p44yrfbx"),window.open(n),r()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!0}},a=function(e){return{icon:{dark:"IcCashierXanpoolDark",light:"IcCashierXanpoolLight"},name:"XanPool",getDescription:function(){return(0,n.localize)("Buy cryptocurrencies in an instant. Enjoy easy, quick, and secure exchanges using your local payment methods.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierFpsDark",light:"IcCashierFpsLight"},{dark:"IcCashierAliPayDark",light:"IcCashierAliPayLight"},{dark:"IcCashierGoPayDark",light:"IcCashierGoPayLight"},{dark:"IcCashierMandiriPay",light:"IcCashierMandiriPay"},{dark:"IcCashierInstaPayLight",light:"IcCashierInstaPayDark"},{dark:"IcCashierCebuanaLhuillierDark",light:"IcCashierCebuanaLhuillierLight"},{dark:"IcCashierPayNowDark",light:"IcCashierPayNowLight"},{dark:"IcCashierUpiDark",light:"IcCashierUpiLight"},{dark:"IcCashierPromptPayDark",light:"IcCashierPromptPayLight"},{dark:"IcCashierViettlePay",light:"IcCashierViettlePay"}]},getScriptDependencies:function(){return[]},getToCurrencies:function(){return["btc","eth","ust","zil","nem"]},getWidgetHtml:function(){return new Promise((function(t){var r=e.root_store.client.currency,n="https://checkout.xanpool.com/";n+="?apiKey=db4ec638dff9a68abda1ef6b7638c220",n+="&redirectUrl=".concat(window.location.href),n+="&wallet=".concat(e.deposit_address),n+="&cryptoCurrency=".concat("UST"===r?"USDT":r),n+="&transactionType=buy",window.open(n),t()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};var s=function(e,t){var r=t;return t&&!Array.isArray(t)&&(r=[t]),e.replace(/\[_(\d+)]/g,(function(e,t){return r[+t-1]}))};function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r;return t=e,(r=[{key:"add",value:function(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(e){return this.has(e)?this.errors[e][0]:null}},{key:"get",value:function(e){return this.has(e)?this.errors[e]:[]}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}}])&&c(t.prototype,r),e}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const y=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,e),this.input=t,this.rules=r,this.store=n,this.errors=new u,this.error_count=0}var t,n,o;return t=e,o=[{key:"getRuleObject",value:function(e){var t="string"==typeof e,n={name:t?e:e[0],options:t?{}:e[1]||{}};return n.validator="custom"===n.name?e[1].func:(0,r.getPreBuildDVRs)()[n.name].func,n}}],(n=[{key:"addFailure",value:function(e,t,n){var o=n||t.options.message||(0,r.getPreBuildDVRs)()[t.name].message();"length"===t.name?o=s(o,[t.options.min===t.options.max?t.options.min:"".concat(t.options.min,"-").concat(t.options.max)]):"min"===t.name?o=s(o,[t.options.min]):"not_equal"===t.name&&(o=s(o,[t.options.name1,t.options.name2])),this.errors.add(e,o),this.error_count++}},{key:"check",value:function(){var t=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(t.rules,r)&&t.rules[r].forEach((function(n){var o=e.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(t.store))&&(""!==t.input[r]||"req"===o.name)){var i,a;if("number"===o.name){var s=o.validator(t.input[r],o.options,t.store,t.input);i=s.is_ok,a=s.message}else i=o.validator(t.input[r],o.options,t.store,t.input);i||t.addFailure(r,o,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&h(t.prototype,n),o&&h(t,o),e}();var d,_,m,b,g,v,w,O,k,P,C,T,S,A,D,j,x,I,R,E,z,L;function M(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){M(i,n,o,a,s,"next",e)}function s(e){M(i,n,o,a,s,"throw",e)}a(void 0)}))}}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var $,G,X,K,J,Y,Q,Z,ee,te,re,ne,oe,ie,ae,se,ce,ue,pe,le,fe,he,ye,de,_e,me,be,ge,ve,we,Oe,ke,Pe,Ce,Te=(d=t.action.bound,_=t.action.bound,m=t.action.bound,b=t.action.bound,g=t.action.bound,v=t.action.bound,w=t.action.bound,O=t.action.bound,k=t.action.bound,P=t.action.bound,C=t.action.bound,T=t.action.bound,S=t.action.bound,A=t.action.bound,D=t.action.bound,j=t.action.bound,L=z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,e),N(this,"validation_errors",I,this),N(this,"validation_rules",R,this),this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,N(this,"partial_fetch_time",E,this);var r=t.root_store,n=t.local_storage_properties,o=t.session_storage_properties,i=t.validation_rules,a=t.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var s=n&&n.length||o&&o.length;if(s){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=r,this.local_storage_properties=n||[],this.session_storage_properties=o||[],this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}var n,o;return n=e,(o=[{key:"getSnapshot",value:function(e){var n=(0,t.toJS)(this);return(0,r.isEmptyObject)(this.root_store)||(n.root_store=this.root_store),e&&e.length&&(n=e.reduce((function(e,t){return Object.assign(e,B({},t,n[t]))}),{})),n}},{key:"setupReactionForLocalStorage",value:function(){var r=this;this.local_storage_properties.length&&(0,t.reaction)((function(){return r.local_storage_properties.map((function(e){return r[e]}))}),(function(){return r.saveToStorage(r.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var r=this;this.session_storage_properties.length&&(0,t.reaction)((function(){return r.session_storage_properties.map((function(e){return r[e]}))}),(function(){return r.saveToStorage(r.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,r){var n=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));r===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):r===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=V(V({},t),r);Object.keys(n).forEach((function(t){return e[t]=n[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var r=this;this.validation_errors[e]&&!r.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!r.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(r){e.addRule(r,t[r])}))}},{key:"addRule",value:function(e,r){var n=this;this.validation_rules[e]=r,(0,t.intercept)(this,e,(function(t){return n.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var r=this,n=this.validation_rules[e].trigger,o=B({},e,void 0!==t?t:this[e]),i=B({},e,this.validation_rules[e].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new y(o,i,this);a.isPassed(),Object.keys(o).forEach((function(e){r.setValidationErrorMessages(e,a.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),r.forEach((function(r){t.includes(r)||delete e.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(e){var n=this;e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,t.when)((function(){return n.root_store.client.switch_broadcast}),(function(){try{var e=n.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((function(){n.root_store.client.switchEndSignal(),n.onSwitchAccount(n.switch_account_listener)}))}catch(e){(0,r.isProduction)()||console.error(e)}})))}},{key:"onPreSwitchAccount",value:function(e){var n=this;e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,t.when)((function(){return n.root_store.client.pre_switch_broadcast}),(function(){try{var e=n.pre_switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Pre-switch account listeners are required to return a promise.");e.then((function(){n.root_store.client.setPreSwitchAccount(!1),n.onPreSwitchAccount(n.pre_switch_account_listener)}))}catch(e){(0,r.isProduction)()||console.error(e)}})))}},{key:"onLogout",value:function(e){var n=this;this.logoutDisposer=(0,t.when)((function(){return n.root_store.client.has_logged_out}),W(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=n.logout_listener())||!t.then||"function"!=typeof t.then){e.next=6;break}t.then((function(){n.root_store.client.setLogout(!1),n.onLogout(n.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,r.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var n=this;this.clientInitDisposer=(0,t.when)((function(){return n.root_store.client.initialized_broadcast}),W(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=n.client_init_listener())||!t.then||"function"!=typeof t.then){e.next=6;break}t.then((function(){n.root_store.client.setInitialized(!1),n.onClientInit(n.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,r.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var n=this;this.networkStatusChangeDisposer=(0,t.reaction)((function(){return n.root_store.common.is_network_online}),(function(e){try{n.network_status_change_listener(e)}catch(e){(0,r.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var n=this;this.themeChangeDisposer=(0,t.reaction)((function(){return n.root_store.ui.is_dark_mode_on}),(function(e){try{n.theme_change_listener(e)}catch(e){(0,r.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var n=this;this.realAccountSignupEndedDisposer=(0,t.when)((function(){return n.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=n.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){n.root_store.ui.setRealAccountSignupEnd(!1),n.onRealAccountSignupEnd(n.real_account_signup_ended_listener)}))}catch(e){(0,r.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}])&&q(n.prototype,o),e}(),z.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")}),I=U((x=L).prototype,"validation_errors",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=U(x.prototype,"validation_rules",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=U(x.prototype,"partial_fetch_time",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U(x.prototype,"retrieveFromStorage",[t.action],Object.getOwnPropertyDescriptor(x.prototype,"retrieveFromStorage"),x.prototype),U(x.prototype,"setValidationErrorMessages",[t.action],Object.getOwnPropertyDescriptor(x.prototype,"setValidationErrorMessages"),x.prototype),U(x.prototype,"setValidationRules",[t.action],Object.getOwnPropertyDescriptor(x.prototype,"setValidationRules"),x.prototype),U(x.prototype,"addRule",[t.action],Object.getOwnPropertyDescriptor(x.prototype,"addRule"),x.prototype),U(x.prototype,"validateProperty",[t.action],Object.getOwnPropertyDescriptor(x.prototype,"validateProperty"),x.prototype),U(x.prototype,"validateAllProperties",[t.action],Object.getOwnPropertyDescriptor(x.prototype,"validateAllProperties"),x.prototype),U(x.prototype,"onSwitchAccount",[d],Object.getOwnPropertyDescriptor(x.prototype,"onSwitchAccount"),x.prototype),U(x.prototype,"onPreSwitchAccount",[_],Object.getOwnPropertyDescriptor(x.prototype,"onPreSwitchAccount"),x.prototype),U(x.prototype,"onLogout",[m],Object.getOwnPropertyDescriptor(x.prototype,"onLogout"),x.prototype),U(x.prototype,"onClientInit",[b],Object.getOwnPropertyDescriptor(x.prototype,"onClientInit"),x.prototype),U(x.prototype,"onNetworkStatusChange",[g],Object.getOwnPropertyDescriptor(x.prototype,"onNetworkStatusChange"),x.prototype),U(x.prototype,"onThemeChange",[v],Object.getOwnPropertyDescriptor(x.prototype,"onThemeChange"),x.prototype),U(x.prototype,"onRealAccountSignupEnd",[w],Object.getOwnPropertyDescriptor(x.prototype,"onRealAccountSignupEnd"),x.prototype),U(x.prototype,"disposePreSwitchAccount",[O],Object.getOwnPropertyDescriptor(x.prototype,"disposePreSwitchAccount"),x.prototype),U(x.prototype,"disposeSwitchAccount",[k],Object.getOwnPropertyDescriptor(x.prototype,"disposeSwitchAccount"),x.prototype),U(x.prototype,"disposeLogout",[P],Object.getOwnPropertyDescriptor(x.prototype,"disposeLogout"),x.prototype),U(x.prototype,"disposeClientInit",[C],Object.getOwnPropertyDescriptor(x.prototype,"disposeClientInit"),x.prototype),U(x.prototype,"disposeNetworkStatusChange",[T],Object.getOwnPropertyDescriptor(x.prototype,"disposeNetworkStatusChange"),x.prototype),U(x.prototype,"disposeThemeChange",[S],Object.getOwnPropertyDescriptor(x.prototype,"disposeThemeChange"),x.prototype),U(x.prototype,"disposeRealAccountSignupEnd",[A],Object.getOwnPropertyDescriptor(x.prototype,"disposeRealAccountSignupEnd"),x.prototype),U(x.prototype,"onUnmount",[D],Object.getOwnPropertyDescriptor(x.prototype,"onUnmount"),x.prototype),U(x.prototype,"assertHasValidCache",[j],Object.getOwnPropertyDescriptor(x.prototype,"assertHasValidCache"),x.prototype),x);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function De(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ae(i,n,o,a,s,"next",e)}function s(e){Ae(i,n,o,a,s,"throw",e)}a(void 0)}))}}function je(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Me,We,Fe,Ve,Be,Ne,He,qe,Ue,$e,Ge,Xe,Ke,Je,Ye,Qe,Ze,et,tt,rt,nt,ot,it,at,st,ct,ut,pt=($=t.observable.shallow,G=t.observable.ref,X=t.action.bound,K=t.action.bound,J=t.action.bound,Y=t.action.bound,Q=t.action.bound,Z=t.action.bound,ee=t.action.bound,te=t.action.bound,re=t.action.bound,ne=t.action.bound,oe=t.action.bound,ie=t.action.bound,ae=t.action.bound,se=t.action.bound,ce=t.action.bound,ue=t.action.bound,pe=t.action.bound,le=t.action.bound,fe=t.action.bound,he=t.action.bound,de=Le((ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(l,e);var s,c,u=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ze(e);if(t){var o=ze(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Re(this,r)}}(l);function l(e){var t,r=e.WS,n=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),je(t=u.call(this,{root_store:n}),"api_error",de,Ee(t)),je(t,"deposit_address",_e,Ee(t)),je(t,"is_deposit_address_loading",me,Ee(t)),je(t,"is_deposit_address_popover_open",be,Ee(t)),je(t,"is_onramp_modal_open",ge,Ee(t)),je(t,"is_requesting_widget_html",ve,Ee(t)),je(t,"onramp_providers",we,Ee(t)),je(t,"selected_provider",Oe,Ee(t)),je(t,"should_show_widget",ke,Ee(t)),je(t,"widget_error",Pe,Ee(t)),je(t,"widget_html",Ce,Ee(t)),t.deposit_address_ref=null,t.WS=r,t.onClientInit(De(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setOnrampProviders([i(Ee(t)),a(Ee(t)),o(Ee(t))]);case 1:case"end":return e.stop()}}),e)})))),t}return s=l,(c=[{key:"is_onramp_tab_visible",get:function(){var e=this.root_store.client;return!1===e.is_virtual&&(0,r.isCryptocurrency)(e.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var e=this.root_store.client;return this.onramp_providers.filter((function(t){var r=t.getToCurrencies();return r.includes("*")||r.includes(e.currency.toLowerCase())})).filter((function(t){var r=t.getAllowedResidencies();return r.includes("*")||r.includes(e.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,n.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?(0,n.localize)("Our server cannot retrieve an address."):" ":void 0}},{key:"should_show_dialog",get:function(){return this.api_error}},{key:"onMountOnramp",value:function(){var e=this;this.disposeThirdPartyJsReaction=(0,t.reaction)((function(){return e.selected_provider}),function(){var t=De(regeneratorRuntime.mark((function t(n){var o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(0!==(o=n.getScriptDependencies()).length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,p.e("loadjs").then(p.t.bind(p,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:i=t.sent,a=i.default,s="".concat((0,r.getKebabCase)(n.name),"-onramp"),a.isDefined(s)||a(o,s,{error:function(){console.warn("Dependencies for onramp provider ".concat(n.name," could not be loaded.")),e.setSelectedProvider(null)}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,t.reaction)((function(){return e.should_show_widget}),(function(t){if(t){if(e.is_requesting_widget_html)return;e.setIsRequestingWidgetHtml(!0),e.selected_provider.getWidgetHtml().then((function(t){t?e.setWidgetHtml(t):e.setShouldShowWidget(!1)})).catch((function(t){e.setWidgetError(t)})).finally((function(){return e.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickCopyDepositAddress",value:function(){var e=this,t=document.createRange();t.selectNodeContents(this.deposit_address_ref);var r=window.getSelection();r.removeAllRanges(),r.addRange(t),navigator.clipboard.writeText(this.deposit_address).then((function(){e.setIsDepositAddressPopoverOpen(!0),setTimeout((function(){return e.setIsDepositAddressPopoverOpen(!1)}),500)}))}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:function(){this.pollApiForDepositAddress(!1),window.open((0,r.websiteUrl)()+r.routes.cashier_deposit.substring(1))}},{key:"pollApiForDepositAddress",value:function(e){var t=this;this.setIsDepositAddressLoading(!0),this.setApiError(null);var r=setInterval((function(){return n}),3e3),n=function(){t.root_store.modules.cashier.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(n){var o=!1;if(n.error)t.setApiError(n.error),o=!0;else{var i=n.cashier.deposit.address;(i||e)&&(t.setDepositAddress(i),o=!0)}o&&(clearInterval(r),t.setIsDepositAddressLoading(!1))}))};n(),setTimeout((function(){clearInterval(r),t.setIsDepositAddressLoading(!1)}),3e4)}},{key:"resetPopup",value:function(){this.setApiError(null),this.setDepositAddress(null),this.setDepositAddressRef(null),this.setIsDepositAddressLoading(!0),this.setSelectedProvider(null),this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null)}},{key:"setApiError",value:function(e){this.api_error=e}},{key:"setCopyIconRef",value:function(e){this.copy_icon_ref=e}},{key:"setDepositAddress",value:function(e){this.deposit_address=e}},{key:"setDepositAddressRef",value:function(e){this.deposit_address_ref=e}},{key:"setIsDepositAddressLoading",value:function(e){this.is_deposit_address_loading=e}},{key:"setIsDepositAddressPopoverOpen",value:function(e){this.is_deposit_address_popover_open=e}},{key:"setIsOnRampModalOpen",value:function(e){this.is_onramp_modal_open=e}},{key:"setIsRequestingWidgetHtml",value:function(e){this.is_requesting_widget_html=e}},{key:"setSelectedProvider",value:function(e){e?(this.selected_provider=e,this.setIsOnRampModalOpen(!0),this.pollApiForDepositAddress(!0)):(this.setIsOnRampModalOpen(!1),this.selected_provider=null)}},{key:"setShouldShowWidget",value:function(e){this.should_show_widget=e}},{key:"setOnrampProviders",value:function(e){this.onramp_providers=e.slice()}},{key:"setWidgetError",value:function(e){this.widget_error=e}},{key:"setWidgetHtml",value:function(e){this.widget_html=e}}])&&xe(s.prototype,c),l}(Te)).prototype,"api_error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=Le(ye.prototype,"deposit_address",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=Le(ye.prototype,"is_deposit_address_loading",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),be=Le(ye.prototype,"is_deposit_address_popover_open",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge=Le(ye.prototype,"is_onramp_modal_open",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=Le(ye.prototype,"is_requesting_widget_html",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),we=Le(ye.prototype,"onramp_providers",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Oe=Le(ye.prototype,"selected_provider",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=Le(ye.prototype,"should_show_widget",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=Le(ye.prototype,"widget_error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=Le(ye.prototype,"widget_html",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le(ye.prototype,"is_onramp_tab_visible",[t.computed],Object.getOwnPropertyDescriptor(ye.prototype,"is_onramp_tab_visible"),ye.prototype),Le(ye.prototype,"filtered_onramp_providers",[t.computed],Object.getOwnPropertyDescriptor(ye.prototype,"filtered_onramp_providers"),ye.prototype),Le(ye.prototype,"onramp_popup_modal_title",[t.computed],Object.getOwnPropertyDescriptor(ye.prototype,"onramp_popup_modal_title"),ye.prototype),Le(ye.prototype,"should_show_dialog",[t.computed],Object.getOwnPropertyDescriptor(ye.prototype,"should_show_dialog"),ye.prototype),Le(ye.prototype,"onMountOnramp",[X],Object.getOwnPropertyDescriptor(ye.prototype,"onMountOnramp"),ye.prototype),Le(ye.prototype,"onUnmountOnramp",[K],Object.getOwnPropertyDescriptor(ye.prototype,"onUnmountOnramp"),ye.prototype),Le(ye.prototype,"onClickCopyDepositAddress",[J],Object.getOwnPropertyDescriptor(ye.prototype,"onClickCopyDepositAddress"),ye.prototype),Le(ye.prototype,"onClickDisclaimerContinue",[Y],Object.getOwnPropertyDescriptor(ye.prototype,"onClickDisclaimerContinue"),ye.prototype),Le(ye.prototype,"onClickGoToDepositPage",[Q],Object.getOwnPropertyDescriptor(ye.prototype,"onClickGoToDepositPage"),ye.prototype),Le(ye.prototype,"pollApiForDepositAddress",[Z],Object.getOwnPropertyDescriptor(ye.prototype,"pollApiForDepositAddress"),ye.prototype),Le(ye.prototype,"resetPopup",[ee],Object.getOwnPropertyDescriptor(ye.prototype,"resetPopup"),ye.prototype),Le(ye.prototype,"setApiError",[te],Object.getOwnPropertyDescriptor(ye.prototype,"setApiError"),ye.prototype),Le(ye.prototype,"setCopyIconRef",[re],Object.getOwnPropertyDescriptor(ye.prototype,"setCopyIconRef"),ye.prototype),Le(ye.prototype,"setDepositAddress",[ne],Object.getOwnPropertyDescriptor(ye.prototype,"setDepositAddress"),ye.prototype),Le(ye.prototype,"setDepositAddressRef",[oe],Object.getOwnPropertyDescriptor(ye.prototype,"setDepositAddressRef"),ye.prototype),Le(ye.prototype,"setIsDepositAddressLoading",[ie],Object.getOwnPropertyDescriptor(ye.prototype,"setIsDepositAddressLoading"),ye.prototype),Le(ye.prototype,"setIsDepositAddressPopoverOpen",[ae],Object.getOwnPropertyDescriptor(ye.prototype,"setIsDepositAddressPopoverOpen"),ye.prototype),Le(ye.prototype,"setIsOnRampModalOpen",[se],Object.getOwnPropertyDescriptor(ye.prototype,"setIsOnRampModalOpen"),ye.prototype),Le(ye.prototype,"setIsRequestingWidgetHtml",[ce],Object.getOwnPropertyDescriptor(ye.prototype,"setIsRequestingWidgetHtml"),ye.prototype),Le(ye.prototype,"setSelectedProvider",[ue],Object.getOwnPropertyDescriptor(ye.prototype,"setSelectedProvider"),ye.prototype),Le(ye.prototype,"setShouldShowWidget",[pe],Object.getOwnPropertyDescriptor(ye.prototype,"setShouldShowWidget"),ye.prototype),Le(ye.prototype,"setOnrampProviders",[le],Object.getOwnPropertyDescriptor(ye.prototype,"setOnrampProviders"),ye.prototype),Le(ye.prototype,"setWidgetError",[fe],Object.getOwnPropertyDescriptor(ye.prototype,"setWidgetError"),ye.prototype),Le(ye.prototype,"setWidgetHtml",[he],Object.getOwnPropertyDescriptor(ye.prototype,"setWidgetHtml"),ye.prototype),ye);function lt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ft(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){lt(i,n,o,a,s,"next",e)}function s(e){lt(i,n,o,a,s,"throw",e)}a(void 0)}))}}function ht(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var _t,mt,bt,gt,vt,wt,Ot,kt,Pt,Ct,Tt,St=(Me=t.action.bound,We=t.action.bound,Fe=t.action.bound,Ve=t.action.bound,Be=t.action.bound,Ne=t.action.bound,He=t.action.bound,qe=t.action.bound,Ue=t.action.bound,$e=t.action.bound,Ge=t.action.bound,Xe=t.action.bound,Ke=t.action.bound,Je=t.action.bound,Ye=t.action.bound,Qe=t.action.bound,Ze=t.action.bound,et=t.action.bound,rt=dt((tt=function(){function e(t){var r=t.WS,n=t.root_store;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ht(this,"crypto_transactions",rt,this),ht(this,"is_crypto_transactions_cancel_modal_visible",nt,this),ht(this,"is_crypto_transactions_status_modal_visible",ot,this),ht(this,"is_crypto_transactions_visible",it,this),ht(this,"is_loading",at,this),ht(this,"selected_crypto_transaction_id",st,this),ht(this,"selected_crypto_status",ct,this),ht(this,"selected_crypto_status_description",ut,this),this.root_store=n,this.WS=r}var t,n,o,i,a,s;return t=e,(n=[{key:"updateCryptoTransactions",value:function(e){var t=this;e.forEach((function(e){var r=t.crypto_transactions.findIndex((function(t){return t.id===e.id}));-1===r?t.crypto_transactions.push(e):Object.assign(t.crypto_transactions[r],e)})),this.sortCryptoTransactions()}},{key:"setCryptoTransactionsHistory",value:function(e){this.crypto_transactions=e,this.sortCryptoTransactions()}},{key:"sortCryptoTransactions",value:function(){this.crypto_transactions=this.crypto_transactions.sort((function(e,t){return t.submit_date-e.submit_date}))}},{key:"getCryptoTransactions",value:(s=ft(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.subscribeCashierPayments((function(e){if(!e.error){var r=e.cashier_payments.crypto;t.updateCryptoTransactions(r)}}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"onMount",value:(a=ft(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.root_store.client,n=t.currency,o=t.switched,!n||!(0,r.isCryptocurrency)(n)||o){e.next=9;break}return this.setLoading(!0),e.next=6,this.unsubscribeCryptoTransactions();case 6:return e.next=8,this.getCryptoTransactions();case 8:this.setLoading(!1);case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"unsubscribeCryptoTransactions",value:(i=ft(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.cashierPayments({provider:"crypto",transaction_type:"all"}).then((function(e){if(!e.error){var r=e.cashier_payments.crypto;t.setCryptoTransactionsHistory(r)}}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"cancelCryptoTransaction",value:(o=ft(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.cancelCryptoTransaction(t).then((function(e){return e.error?Promise.reject(e.error):(r.setSelectedCryptoTransactionId(""),r.setIsCryptoTransactionsCancelModalVisible(!1),Promise.resolve(e))}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"setSelectedCryptoTransactionId",value:function(e){this.selected_crypto_transaction_id=e}},{key:"setIsCryptoTransactionsCancelModalVisible",value:function(e){this.is_crypto_transactions_cancel_modal_visible=e}},{key:"showCryptoTransactionsCancelModal",value:function(e){this.setSelectedCryptoTransactionId(e),this.setIsCryptoTransactionsCancelModalVisible(!0)}},{key:"hideCryptoTransactionsCancelModal",value:function(){this.setSelectedCryptoTransactionId(""),this.setIsCryptoTransactionsCancelModalVisible(!1)}},{key:"setSelectedCryptoStatus",value:function(e){this.selected_crypto_status=e}},{key:"setSelectedCryptoStatusDescription",value:function(e){this.selected_crypto_status_description=e}},{key:"setIsCryptoTransactionsStatusModalVisible",value:function(e){this.is_crypto_transactions_status_modal_visible=e}},{key:"showCryptoTransactionsStatusModal",value:function(e,t){this.setSelectedCryptoStatusDescription(e),this.setSelectedCryptoStatus(t),this.setIsCryptoTransactionsStatusModalVisible(!0)}},{key:"hideCryptoTransactionsStatusModal",value:function(){this.setIsCryptoTransactionsStatusModalVisible(!1)}},{key:"setLoading",value:function(e){this.is_loading=e}},{key:"setIsCryptoTransactionsVisible",value:function(e){this.is_crypto_transactions_visible=e}}])&&yt(t.prototype,n),e}()).prototype,"crypto_transactions",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=dt(tt.prototype,"is_crypto_transactions_cancel_modal_visible",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=dt(tt.prototype,"is_crypto_transactions_status_modal_visible",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=dt(tt.prototype,"is_crypto_transactions_visible",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),at=dt(tt.prototype,"is_loading",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),st=dt(tt.prototype,"selected_crypto_transaction_id",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ct=dt(tt.prototype,"selected_crypto_status",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ut=dt(tt.prototype,"selected_crypto_status_description",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dt(tt.prototype,"updateCryptoTransactions",[Me],Object.getOwnPropertyDescriptor(tt.prototype,"updateCryptoTransactions"),tt.prototype),dt(tt.prototype,"setCryptoTransactionsHistory",[We],Object.getOwnPropertyDescriptor(tt.prototype,"setCryptoTransactionsHistory"),tt.prototype),dt(tt.prototype,"sortCryptoTransactions",[Fe],Object.getOwnPropertyDescriptor(tt.prototype,"sortCryptoTransactions"),tt.prototype),dt(tt.prototype,"getCryptoTransactions",[Ve],Object.getOwnPropertyDescriptor(tt.prototype,"getCryptoTransactions"),tt.prototype),dt(tt.prototype,"onMount",[Be],Object.getOwnPropertyDescriptor(tt.prototype,"onMount"),tt.prototype),dt(tt.prototype,"unsubscribeCryptoTransactions",[Ne],Object.getOwnPropertyDescriptor(tt.prototype,"unsubscribeCryptoTransactions"),tt.prototype),dt(tt.prototype,"cancelCryptoTransaction",[He],Object.getOwnPropertyDescriptor(tt.prototype,"cancelCryptoTransaction"),tt.prototype),dt(tt.prototype,"setSelectedCryptoTransactionId",[qe],Object.getOwnPropertyDescriptor(tt.prototype,"setSelectedCryptoTransactionId"),tt.prototype),dt(tt.prototype,"setIsCryptoTransactionsCancelModalVisible",[Ue],Object.getOwnPropertyDescriptor(tt.prototype,"setIsCryptoTransactionsCancelModalVisible"),tt.prototype),dt(tt.prototype,"showCryptoTransactionsCancelModal",[$e],Object.getOwnPropertyDescriptor(tt.prototype,"showCryptoTransactionsCancelModal"),tt.prototype),dt(tt.prototype,"hideCryptoTransactionsCancelModal",[Ge],Object.getOwnPropertyDescriptor(tt.prototype,"hideCryptoTransactionsCancelModal"),tt.prototype),dt(tt.prototype,"setSelectedCryptoStatus",[Xe],Object.getOwnPropertyDescriptor(tt.prototype,"setSelectedCryptoStatus"),tt.prototype),dt(tt.prototype,"setSelectedCryptoStatusDescription",[Ke],Object.getOwnPropertyDescriptor(tt.prototype,"setSelectedCryptoStatusDescription"),tt.prototype),dt(tt.prototype,"setIsCryptoTransactionsStatusModalVisible",[Je],Object.getOwnPropertyDescriptor(tt.prototype,"setIsCryptoTransactionsStatusModalVisible"),tt.prototype),dt(tt.prototype,"showCryptoTransactionsStatusModal",[Ye],Object.getOwnPropertyDescriptor(tt.prototype,"showCryptoTransactionsStatusModal"),tt.prototype),dt(tt.prototype,"hideCryptoTransactionsStatusModal",[Qe],Object.getOwnPropertyDescriptor(tt.prototype,"hideCryptoTransactionsStatusModal"),tt.prototype),dt(tt.prototype,"setLoading",[Ze],Object.getOwnPropertyDescriptor(tt.prototype,"setLoading"),tt.prototype),dt(tt.prototype,"setIsCryptoTransactionsVisible",[et],Object.getOwnPropertyDescriptor(tt.prototype,"setIsCryptoTransactionsVisible"),tt.prototype),tt);function At(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Dt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){At(i,n,o,a,s,"next",e)}function s(e){At(i,n,o,a,s,"throw",e)}a(void 0)}))}}function jt(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function It(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Rt,Et,zt,Lt,Mt,Wt=(_t=t.action.bound,mt=t.action.bound,bt=t.action.bound,gt=t.action.bound,vt=t.action.bound,wt=t.action.bound,kt=It((Ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jt(this,"should_show",kt,this),jt(this,"is_confirmed",Pt,this),jt(this,"last_location",Ct,this),jt(this,"current_location",Tt,this),this.root_store=t}var t,n,o,i;return t=e,(n=[{key:"shouldNavigateAfterPrompt",value:function(e,t){this.is_confirmed||(this.last_location=e,this.should_show=!0,this.current_location=t)}},{key:"resetLastLocation",value:function(){this.last_location=null}},{key:"resetIsConfirmed",value:function(){this.is_confirmed=!1}},{key:"onConfirm",value:(i=Dt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.should_show=!1,this.is_confirmed=!0,n=this.root_store.modules.cashier.config.account_transfer.accounts_list.some((function(e){return!e.is_crypto})),!(0,r.isCryptocurrency)(null===(t=this.root_store.client)||void 0===t?void 0:t.currency)||!n){e.next=6;break}return e.next=6,this.doSwitch();case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"doSwitch",value:(o=Dt(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.root_store.modules.cashier.config.account_transfer.accounts_list.filter((function(e){return!e.is_crypto})),r=t.map((function(e){return e.value}))[0],e.next=4,this.root_store.client.switchAccount(r);case 4:"deposit"===this.current_location&&this.root_store.modules.cashier.setIsDeposit(!0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onCancel",value:function(){this.should_show=!1}},{key:"continueRoute",value:function(){this.is_confirmed&&this.last_location&&this.root_store.common.routeTo(this.last_location)}}])&&xt(t.prototype,n),e}()).prototype,"should_show",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=It(Ot.prototype,"is_confirmed",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ct=It(Ot.prototype,"last_location",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=It(Ot.prototype,"current_location",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It(Ot.prototype,"shouldNavigateAfterPrompt",[_t],Object.getOwnPropertyDescriptor(Ot.prototype,"shouldNavigateAfterPrompt"),Ot.prototype),It(Ot.prototype,"resetLastLocation",[mt],Object.getOwnPropertyDescriptor(Ot.prototype,"resetLastLocation"),Ot.prototype),It(Ot.prototype,"resetIsConfirmed",[bt],Object.getOwnPropertyDescriptor(Ot.prototype,"resetIsConfirmed"),Ot.prototype),It(Ot.prototype,"onConfirm",[gt],Object.getOwnPropertyDescriptor(Ot.prototype,"onConfirm"),Ot.prototype),It(Ot.prototype,"onCancel",[vt],Object.getOwnPropertyDescriptor(Ot.prototype,"onCancel"),Ot.prototype),It(Ot.prototype,"continueRoute",[wt],Object.getOwnPropertyDescriptor(Ot.prototype,"continueRoute"),Ot.prototype),Ot);function Ft(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bt(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Nt=(Rt=t.action.bound,Et=t.action.bound,Lt=Bt((zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ft(this,"error_message",Lt,this),Ft(this,"should_show",Mt,this)}var t,r;return t=e,(r=[{key:"setShouldShow",value:function(e){this.should_show=e}},{key:"setErrorMessage",value:function(e){this.error_message=e,this.setShouldShow(!0)}}])&&Vt(t.prototype,r),e}()).prototype,"error_message",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mt=Bt(zt.prototype,"should_show",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bt(zt.prototype,"setShouldShow",[Rt],Object.getOwnPropertyDescriptor(zt.prototype,"setShouldShow"),zt.prototype),Bt(zt.prototype,"setErrorMessage",[Et],Object.getOwnPropertyDescriptor(zt.prototype,"setErrorMessage"),zt.prototype),zt),Ht=p("../../../node_modules/prop-types/index.js"),qt=p.n(Ht),Ut=p("@deriv/components"),$t=function(t){var r=t.p2p_notification_count;return e.createElement(e.Fragment,null,e.createElement(Ut.Icon,{icon:"IcCashier",className:"header__icon"}),!!r&&e.createElement(Ut.Counter,{className:"cashier__counter",count:r}))};$t.propTypes={p2p_notification_count:qt().number};const Gt=$t;function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kt,Jt,Yt,Qt,Zt,er,tr,rr,nr,or,ir,ar,sr,cr,ur,pr,lr,fr,hr,yr,dr,_r,mr,br,gr,vr,wr,Or,kr,Pr,Cr,Tr,Sr,Ar,Dr,jr,xr,Ir,Rr,Er,zr,Lr,Mr,Wr,Fr,Vr,Br,Nr,Hr,qr,Ur,$r,Gr,Xr,Kr,Jr,Yr,Qr,Zr,en,tn,rn,nn,on,an,sn,cn,un,pn,ln,fn,hn,yn,dn,_n,mn,bn,gn,vn,wn,On,kn,Pn,Cn,Tn,Sn,An,Dn,jn,xn,In,Rn,En,zn,Ln,Mn,Wn,Fn,Vn,Bn,Nn,Hn,qn,Un,$n,Gn,Xn,Kn,Jn,Yn,Qn,Zn,eo,to,ro,no,oo,io,ao,so,co,uo,po,lo,fo,ho,yo,_o,mo,bo,go,vo,wo,Oo,ko,Po,Co,To,So,Ao,Do,jo,xo,Io,Ro,Eo,zo,Lo,Mo,Wo,Fo,Vo,Bo,No,Ho,qo,Uo,$o,Go,Xo,Ko,Jo,Yo,Qo,Zo,ei,ti,ri,ni,oi,ii,ai,si,ci,ui,pi,li,fi,hi,yi,di,_i,mi,bi,gi,vi,wi,Oi,ki,Pi,Ci,Ti,Si,Ai,Di,ji,xi,Ii,Ri,Ei,zi,Li,Mi,Wi,Fi,Vi,Bi,Ni,Hi,qi,Ui,$i,Gi,Xi,Ki,Ji,Yi,Qi,Zi,ea,ta,ra;function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach((function(t){ua(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sa(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ca(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){sa(i,n,o,a,s,"next",e)}function s(e){sa(i,n,o,a,s,"throw",e)}a(void 0)}))}}function ua(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pa(e,t){return(pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function la(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?fa(e):t}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function da(e,t,r){return t&&ya(e.prototype,t),r&&ya(e,r),e}function _a(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ba(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ga=function(e){return e.startsWith("MX")},va=function(t,r){return r?e.createElement(n.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}}):e.createElement(n.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}})},wa=(Jt=ba((Kt=function e(t){var r=t.container;ma(this,e),this.container="",this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session="",_a(this,"iframe_height",Jt,this),_a(this,"iframe_url",Yt,this),this.container=r}).prototype,"iframe_height",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yt=ba(Kt.prototype,"iframe_url",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kt),Oa=(Zt=ba((Qt=function e(){ma(this,e),_a(this,"message",Zt,this),_a(this,"code",er,this),_a(this,"fields",tr,this),_a(this,"is_show_full_page",rr,this),_a(this,"onClickButton",nr,this),_a(this,"is_ask_uk_funds_protection",or,this),_a(this,"is_self_exclusion_max_turnover_set",ir,this),_a(this,"is_ask_authentication",ar,this),_a(this,"is_ask_financial_risk_approval",sr,this)}).prototype,"message",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),er=ba(Qt.prototype,"code",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tr=ba(Qt.prototype,"fields",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rr=ba(Qt.prototype,"is_show_full_page",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nr=ba(Qt.prototype,"onClickButton",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),or=ba(Qt.prototype,"is_ask_uk_funds_protection",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ir=ba(Qt.prototype,"is_self_exclusion_max_turnover_set",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ar=ba(Qt.prototype,"is_ask_authentication",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sr=ba(Qt.prototype,"is_ask_financial_risk_approval",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qt),ka=(cr=t.action.bound,pr=ba((ur=function(){function e(){ma(this,e),this.list=[],_a(this,"agents",pr,this),_a(this,"container",lr,this),_a(this,"error",fr,this),_a(this,"filtered_list",hr,this),_a(this,"is_name_selected",yr,this),_a(this,"is_withdraw",dr,this),_a(this,"is_try_withdraw_successful",_r,this),_a(this,"is_withdraw_successful",mr,this),_a(this,"confirm",br,this),_a(this,"receipt",gr,this),_a(this,"selected_bank",vr,this),_a(this,"supported_banks",wr,this),_a(this,"verification",Or,this),_a(this,"active_tab_index",kr,this)}return da(e,[{key:"setActiveTabIndex",value:function(e){this.active_tab_index=e}}]),e}()).prototype,"agents",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lr=ba(ur.prototype,"container",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent"}}),fr=ba(ur.prototype,"error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Oa}}),hr=ba(ur.prototype,"filtered_list",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yr=ba(ur.prototype,"is_name_selected",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dr=ba(ur.prototype,"is_withdraw",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_r=ba(ur.prototype,"is_try_withdraw_successful",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mr=ba(ur.prototype,"is_withdraw_successful",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),br=ba(ur.prototype,"confirm",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gr=ba(ur.prototype,"receipt",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vr=ba(ur.prototype,"selected_bank",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wr=ba(ur.prototype,"supported_banks",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Or=ba(ur.prototype,"verification",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Sa}}),kr=ba(ur.prototype,"active_tab_index",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ba(ur.prototype,"setActiveTabIndex",[cr],Object.getOwnPropertyDescriptor(ur.prototype,"setActiveTabIndex"),ur.prototype),ur),Pa=(Cr=ba((Pr=function e(){ma(this,e),_a(this,"container",Cr,this),_a(this,"error",Tr,this),_a(this,"is_payment_agent",Sr,this),_a(this,"is_try_transfer_successful",Ar,this),_a(this,"is_transfer_successful",Dr,this),_a(this,"confirm",jr,this),_a(this,"receipt",xr,this),_a(this,"transfer_limit",Ir,this)}).prototype,"container",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"payment_agent_transfer"}}),Tr=ba(Pr.prototype,"error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Oa}}),Sr=ba(Pr.prototype,"is_payment_agent",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ar=ba(Pr.prototype,"is_try_transfer_successful",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dr=ba(Pr.prototype,"is_transfer_successful",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jr=ba(Pr.prototype,"confirm",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xr=ba(Pr.prototype,"receipt",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ir=ba(Pr.prototype,"transfer_limit",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pr),Ca=(Rr=t.action.bound,Er=t.action.bound,zr=t.action.bound,Mr=ba((Lr=function(){function e(){ma(this,e),_a(this,"accounts_list",Mr,this),_a(this,"container",Wr,this),_a(this,"error",Fr,this),_a(this,"has_no_account",Vr,this),_a(this,"has_no_accounts_balance",Br,this),_a(this,"is_transfer_confirm",Nr,this),_a(this,"is_mt5_transfer_in_progress",Hr,this),_a(this,"minimum_fee",qr,this),_a(this,"receipt",Ur,this),_a(this,"selected_from",$r,this),_a(this,"selected_to",Gr,this),_a(this,"account_transfer_amount",Xr,this),_a(this,"transfer_fee",Kr,this),_a(this,"transfer_limit",Jr,this)}return da(e,[{key:"setBalanceByLoginId",value:function(e,t){this.accounts_list.find((function(t){return e===t.value})).balance=t}},{key:"setBalanceSelectedFrom",value:function(e){this.selected_from.balance=e}},{key:"setBalanceSelectedTo",value:function(e){this.selected_to.balance=e}}]),e}()).prototype,"accounts_list",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wr=ba(Lr.prototype,"container",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"account_transfer"}}),Fr=ba(Lr.prototype,"error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Oa}}),Vr=ba(Lr.prototype,"has_no_account",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Br=ba(Lr.prototype,"has_no_accounts_balance",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nr=ba(Lr.prototype,"is_transfer_confirm",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hr=ba(Lr.prototype,"is_mt5_transfer_in_progress",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qr=ba(Lr.prototype,"minimum_fee",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ur=ba(Lr.prototype,"receipt",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$r=ba(Lr.prototype,"selected_from",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Gr=ba(Lr.prototype,"selected_to",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xr=ba(Lr.prototype,"account_transfer_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kr=ba(Lr.prototype,"transfer_fee",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jr=ba(Lr.prototype,"transfer_limit",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ba(Lr.prototype,"setBalanceByLoginId",[Rr],Object.getOwnPropertyDescriptor(Lr.prototype,"setBalanceByLoginId"),Lr.prototype),ba(Lr.prototype,"setBalanceSelectedFrom",[Er],Object.getOwnPropertyDescriptor(Lr.prototype,"setBalanceSelectedFrom"),Lr.prototype),ba(Lr.prototype,"setBalanceSelectedTo",[zr],Object.getOwnPropertyDescriptor(Lr.prototype,"setBalanceSelectedTo"),Lr.prototype),Lr),Ta=(Qr=ba((Yr=function e(){ma(this,e),_a(this,"container",Qr,this),_a(this,"iframe_height",Zr,this),_a(this,"iframe_url",en,this),_a(this,"error",tn,this),_a(this,"verification",rn,this),this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session=""}).prototype,"container",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"withdraw"}}),Zr=ba(Yr.prototype,"iframe_height",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),en=ba(Yr.prototype,"iframe_url",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tn=ba(Yr.prototype,"error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Oa}}),rn=ba(Yr.prototype,"verification",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Sa}}),Yr),Sa=(on=ba((nn=function e(){ma(this,e),this.is_button_clicked=!1,this.timeout_button="",_a(this,"error",on,this),_a(this,"is_email_sent",an,this),_a(this,"is_resend_clicked",sn,this),_a(this,"resend_timeout",cn,this)}).prototype,"error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Oa}}),an=ba(nn.prototype,"is_email_sent",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sn=ba(nn.prototype,"is_resend_clicked",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cn=ba(nn.prototype,"resend_timeout",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),nn),Aa=(un=t.action.bound,pn=t.action.bound,ln=t.action.bound,fn=t.action.bound,hn=t.action.bound,yn=t.action.bound,dn=t.action.bound,_n=t.action.bound,mn=t.action.bound,bn=t.action.bound,gn=t.action.bound,vn=t.action.bound,wn=t.action.bound,On=t.action.bound,kn=t.action.bound,Pn=t.action.bound,Cn=t.action.bound,Tn=t.action.bound,Sn=t.action.bound,An=t.action.bound,Dn=t.action.bound,jn=t.action.bound,xn=t.action.bound,In=t.action.bound,Rn=t.action.bound,En=t.action.bound,zn=t.action.bound,Ln=t.action.bound,Mn=t.action.bound,Wn=t.action.bound,Fn=t.action.bound,Vn=t.action.bound,Bn=t.action.bound,Nn=t.action.bound,Hn=t.action.bound,qn=t.action.bound,Un=t.action.bound,$n=t.action.bound,Gn=t.action.bound,Xn=t.action.bound,Kn=t.action.bound,Jn=t.action.bound,Yn=t.action.bound,Qn=t.action.bound,Zn=t.action.bound,eo=t.action.bound,to=t.action.bound,ro=t.action.bound,no=t.action.bound,oo=t.action.bound,io=t.action.bound,ao=t.action.bound,so=t.action.bound,co=t.action.bound,uo=t.action.bound,po=t.action.bound,lo=t.action.bound,fo=t.action.bound,ho=t.action.bound,yo=t.action.bound,_o=t.action.bound,mo=t.action.bound,bo=t.action.bound,go=t.action.bound,vo=t.action.bound,wo=t.action.bound,Oo=t.action.bound,ko=t.action.bound,Po=t.action.bound,Co=t.action.bound,To=t.action.bound,So=t.action.bound,Ao=t.action.bound,Do=t.action.bound,jo=t.action.bound,xo=t.action.bound,Io=t.action.bound,Ro=t.action.bound,Eo=t.action.bound,zo=t.action.bound,Lo=t.action.bound,Mo=t.action.bound,Wo=t.action.bound,Fo=t.action.bound,Vo=t.action.bound,Bo=t.action.bound,No=t.action.bound,Ho=t.action.bound,qo=t.action.bound,Uo=t.action.bound,$o=t.action.bound,Go=t.action.bound,Xo=t.action.bound,Ko=t.action.bound,Jo=t.action.bound,Yo=t.action.bound,Qo=t.action.bound,Zo=t.action.bound,ei=t.action.bound,ti=t.action.bound,ri=t.action.bound,ni=t.action.bound,oi=t.action.bound,ii=t.action.bound,ai=t.action.bound,si=t.action.bound,ci=t.action.bound,ui=t.action.bound,pi=t.action.bound,li=t.action.bound,fi=t.action.bound,hi=t.action.bound,yi=t.action.bound,di=t.action.bound,_i=t.action.bound,mi=t.action.bound,bi=t.action.bound,gi=t.action.bound,vi=t.action.bound,Oi=ba((wi=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pa(e,t)}(R,o);var i,a,s,c,u,p,l,f,h,y,d,_,m,b,g,v,w,O,k,P,C,T,S,A,D,j,x,I=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ha(e);if(t){var o=ha(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return la(this,r)}}(R);function R(e){var n,o,i=e.root_store,a=e.WS;return ma(this,R),_a(o=I.call(this,{root_store:i}),"is_loading",Oi,fa(o)),_a(o,"is_p2p_visible",ki,fa(o)),_a(o,"p2p_notification_count",Pi,fa(o)),_a(o,"cashier_route_tab_index",Ci,fa(o)),_a(o,"is_10k_withdrawal_limit_reached",Ti,fa(o)),_a(o,"is_deposit",Si,fa(o)),_a(o,"should_show_all_available_currencies",Ai,fa(o)),_a(o,"is_cashier_default",Di,fa(o)),_a(o,"deposit_target",ji,fa(o)),_a(o,"crypto_amount",xi,fa(o)),_a(o,"fiat_amount",Ii,fa(o)),_a(o,"insufficient_fund_error",Ri,fa(o)),_a(o,"all_payment_agent_list",Ei,fa(o)),_a(o,"should_set_currency_modal_title_change",zi,fa(o)),_a(o,"p2p_advertiser_error",Li,fa(o)),_a(o,"has_set_currency",Mi,fa(o)),_a(o,"withdraw_amount",Wi,fa(o)),_a(o,"converter_from_amount",Fi,fa(o)),_a(o,"converter_to_amount",Vi,fa(o)),_a(o,"converter_from_error",Bi,fa(o)),_a(o,"converter_to_error",Ni,fa(o)),_a(o,"is_timer_visible",Hi,fa(o)),_a(o,"is_crypto_transactions_visible",qi,fa(o)),_a(o,"blockchain_address",Ui,fa(o)),_a(o,"should_percentage_reset",$i,fa(o)),_a(o,"percentage",Gi,fa(o)),_a(o,"is_withdraw_confirmed",Xi,fa(o)),_a(o,"show_p2p_in_cashier_default",Ki,fa(o)),_a(o,"max_withdraw_amount",Ji,fa(o)),_a(o,"config",Yi,fa(o)),o.active_container=o.config.deposit.container,o.onRemount=function(){},o.is_populating_values=!1,o.containers=[o.config.deposit.container,o.config.withdraw.container],o.map_action=(ua(n={},o.config.withdraw.container,"payment_withdraw"),ua(n,o.config.payment_agent.container,"payment_agent_withdraw"),n),_a(o,"resetPaymentAgent",Qi,fa(o)),o.requestTransferBetweenAccounts=function(){var e=ca(regeneratorRuntime.mark((function e(t){var n,i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.amount,o.root_store.client.is_logged_in){e.next=3;break}return e.abrupt("return",null);case 3:return o.setLoading(!0),o.setErrorMessage(""),(i=o.config.account_transfer.selected_from.is_mt||o.config.account_transfer.selected_to.is_mt)&&o.setIsMT5TransferInProgress(!0),a=o.config.account_transfer.selected_from.currency,e.next=10,o.WS.authorized.transferBetweenAccounts(o.config.account_transfer.selected_from.value,o.config.account_transfer.selected_to.value,a,n);case 10:if(s=e.sent,i&&o.setIsMT5TransferInProgress(!1),!s.error){e.next=21;break}if("Fiat2CryptoTransferOverLimit"!==s.error.code){e.next=18;break}return e.next=16,o.WS.authorized.getAccountStatus();case 16:(c=e.sent).error||o.root_store.client.setAccountStatus(c.get_account_status);case 18:o.setErrorMessage(s.error),e.next=25;break;case 21:o.setReceiptTransfer({amount:(0,r.formatMoney)(a,n,!0)}),s.accounts.forEach((function(e){o.config.account_transfer.setBalanceByLoginId(e.loginid,e.balance),e.loginid===o.config.account_transfer.selected_from.value?o.config.account_transfer.setBalanceSelectedFrom(e.balance):e.loginid===o.config.account_transfer.selected_to.value&&o.config.account_transfer.setBalanceSelectedTo(e.balance),e.account_type===r.CFD_PLATFORMS.MT5&&Promise.all([o.WS.mt5LoginList(),o.WS.balanceAll()]).then((function(e){var t=ia(e,2),r=t[0],n=t[1];o.root_store.client.responseMt5LoginList(r),o.root_store.client.setBalanceOtherAccounts(n.balance)})),e.account_type===r.CFD_PLATFORMS.DXTRADE&&Promise.all([o.WS.tradingPlatformAccountsList(r.CFD_PLATFORMS.DXTRADE),o.WS.balanceAll()]).then((function(e){var t=ia(e,2),r=t[0],n=t[1];o.root_store.client.responseTradingPlatformAccountsList(r),o.root_store.client.setBalanceOtherAccounts(n.balance)}))})),o.setAccountTransferAmount(null),o.setIsTransferConfirm(!0);case 25:return o.setLoading(!1),e.abrupt("return",s);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_a(o,"resetAccountTransfer",Zi,fa(o)),_a(o,"requestTryPaymentAgentTransfer",ea,fa(o)),_a(o,"requestPaymentAgentTransfer",ta,fa(o)),_a(o,"resetPaymentAgentTransfer",ra,fa(o)),o.WS=a,(0,t.when)((function(){return o.root_store.client.is_logged_in}),(function(){o.attachCashierToMenu()})),o.has_set_currency||o.changeSetCurrencyModalTitle(),o.onramp=new pt({root_store:o.root_store,WS:o.WS}),o.account_prompt_dialog=new Wt(o.root_store),o.error_dialog=new Nt,o.transaction_history=new St({root_store:o.root_store,WS:o.WS}),o.init(),o}return da(R,[{key:"is_crypto",get:function(){var e=this.root_store.client.currency;return!!e&&(0,r.isCryptocurrency)(e)}},{key:"is_payment_agent_visible",get:function(){return!(!this.config.payment_agent.filtered_list.length&&!this.config.payment_agent.agents.length)}},{key:"is_payment_agent_visible_in_onboarding",get:function(){var e,t,r;return!(null===(e=this.all_payment_agent_list)||void 0===e||null===(t=e.paymentagent_list)||void 0===t||null===(r=t.list)||void 0===r||!r.length)}},{key:"is_payment_agent_transfer_visible",get:function(){return this.config.payment_agent_transfer.is_payment_agent}},{key:"is_account_transfer_visible",get:function(){return"im"!==this.root_store.client.residence}},{key:"is_p2p_enabled",get:function(){return this.is_p2p_visible&&!this.root_store.client.is_eu}},{key:"showP2pInCashierDefault",value:function(){var e="RestrictedCountry"===this.p2p_advertiser_error,t=this.root_store.client.account_list.some((function(e){return"USD"===e.title})),n=this.root_store.client.account_list.some((function(e){return!(0,r.isCryptocurrency)(e.title)&&"Real"!==e.title}));e||this.root_store.client.is_virtual||n&&!t?this.show_p2p_in_cashier_default=!1:this.show_p2p_in_cashier_default=!0}},{key:"attachCashierToMenu",value:function(){this.has_set_currency||this.setHasSetCurrency(),this.root_store.menu.attach({id:"dt_cashier_tab",icon:e.createElement(Gt,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,n.localize)("Cashier")},link_to:this.has_set_currency&&r.routes.cashier,onClick:!this.has_set_currency&&this.root_store.ui.toggleSetCurrencyModal,login_only:!0})}},{key:"replaceCashierMenuOnclick",value:function(){this.setHasSetCurrency(),this.root_store.menu.update({id:"dt_cashier_tab",icon:e.createElement(Gt,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,n.localize)("Cashier")},link_to:this.has_set_currency&&r.routes.cashier,onClick:!this.has_set_currency&&this.root_store.ui.toggleSetCurrencyModal,login_only:!0},1)}},{key:"setHasSetCurrency",value:function(){this.has_set_currency=this.root_store.client.account_list.filter((function(e){return!e.is_virtual})).some((function(e){return"Real"!==e.title}))||!this.root_store.client.has_active_real_account}},{key:"changeSetCurrencyModalTitle",value:function(){this.should_set_currency_modal_title_change=!0}},{key:"onMountCashierDefault",value:(x=ca(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has_set_currency||this.setHasSetCurrency(),this.setIsCashierDefault(!0),this.account_prompt_dialog.resetIsConfirmed(),this.setLoading(!0),void 0!==(null===(t=this.all_payment_agent_list)||void 0===t||null===(r=t.paymentagent_list)||void 0===r?void 0:r.list)){e.next=9;break}return e.next=7,this.getAllPaymentAgentList();case 7:n=e.sent,this.setAllPaymentAgentList(n);case 9:this.setLoading(!1);case 10:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"setIsWithdrawConfirmed",value:function(e){this.is_withdraw_confirmed=e,e&&this.setWithdrawAmount(this.converter_from_amount),!e&&this.config[this.active_container].verification&&this.clearVerification()}},{key:"setWithdrawAmount",value:function(e){this.withdraw_amount=e}},{key:"calculatePercentage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.converter_from_amount;this.active_container===this.config.account_transfer.container?this.percentage=+(e/+this.config.account_transfer.selected_from.balance*100).toFixed(0):this.percentage=+(e/+this.root_store.client.balance*100).toFixed(0)}},{key:"percentageSelectorSelectionStatus",value:function(e){this.should_percentage_reset=e,e&&(this.percentage=0)}},{key:"saveWithdraw",value:(j=ca(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setErrorMessage(""),e.next=3,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:t}).then((function(e){e.error?(r.setErrorMessage(e.error),t&&r.clearVerification(),r.resetWithrawForm()):r.setIsWithdrawConfirmed(!0)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"requestWithdraw",value:(D=ca(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.root_store.client.is_logged_in){e.next=2;break}return e.abrupt("return");case 2:if(this.converter_from_amount){e.next=5;break}return this.setConverterFromError((0,n.localize)("This field is required.")),e.abrupt("return");case 5:return e.next=7,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:t,dry_run:1}).then((function(e){e.error?r.error_dialog.setErrorMessage(e.error.message):r.saveWithdraw(t)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"resetWithrawForm",value:function(){this.setBlockchainAddress(""),this.setConverterFromAmount(""),this.setConverterToAmount(""),this.clearVerification()}},{key:"setIsDeposit",value:function(e){this.is_deposit=e}},{key:"setShouldShowAllAvailableCurrencies",value:function(e){this.should_show_all_available_currencies=e}},{key:"setBlockchainAddress",value:function(e){this.blockchain_address=e}},{key:"setIsCashierDefault",value:function(e){this.is_cashier_default=e}},{key:"setDepositTarget",value:function(e){this.deposit_target=e}},{key:"continueRoute",value:function(){this.root_store.common.routeTo(this.deposit_target)}},{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"setActiveTabIndex",value:function(e){this.config.payment_agent.setActiveTabIndex(e),1===e&&this.sendVerificationEmail()}},{key:"init",value:function(){var e=this;(0,t.when)((function(){return e.root_store.client.is_logged_in}),ca(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAdvertizerError();case 2:return e.checkP2pStatus(),t.next=5,e.check10kLimit();case 5:case"end":return t.stop()}}),t)})))),(0,t.when)((function(){return e.is_payment_agent_visible}),(function(){return e.filterPaymentAgentList()})),(0,t.reaction)((function(){return[e.root_store.client.switched,e.root_store.client.is_logged_in,e.root_store.client.currency]}),ca(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.WS.wait("get_settings");case 2:if(!e.root_store.client.is_logged_in){t.next=9;break}return t.next=5,e.getAdvertizerError();case 5:return e.account_prompt_dialog.resetLastLocation(),e.root_store.client.switched||e.checkP2pStatus(),t.next=9,e.check10kLimit();case 9:case"end":return t.stop()}}),t)})))),(0,t.reaction)((function(){return[e.root_store.client.currency]}),(function(){e.setIsWithdrawConfirmed(!1)}))}},{key:"getAdvertizerError",value:(A=ca(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.p2pAdvertiserInfo();case 2:t=e.sent,this.setP2pAdvertiserError((0,r.getPropertyValue)(t,["error","code"]));case 4:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"setP2pAdvertiserError",value:function(e){this.p2p_advertiser_error=e}},{key:"checkP2pStatus",value:function(){var e=this.p2p_advertiser_error,t="RestrictedCountry"===e||"RestrictedCurrency"===e;this.setIsP2pVisible(!(t||this.root_store.client.is_virtual))}},{key:"onMountCommon",value:(S=ca(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.is_logged_in){e.next=10;break}if(!this.is_populating_values){e.next=3;break}return e.abrupt("return");case 3:this.is_populating_values=!0,t&&(this.onRemount=this.onMountCommon),this.config.payment_agent.list.length||this.setPaymentAgentList().then(this.filterPaymentAgentList),this.config.payment_agent_transfer.is_payment_agent||this.checkIsPaymentAgent(),this.config.account_transfer.accounts_list.length||this.sortAccountsTransfer(),!this.onramp.is_onramp_tab_visible&&window.location.pathname.endsWith(r.routes.cashier_onramp)&&this.root_store.common.routeTo(r.routes.cashier_deposit),!this.is_crypto_transactions_visible&&window.location.pathname.endsWith(r.routes.cashier_crypto_transactions)&&(this.root_store.common.routeTo(r.routes.cashier_deposit),this.transaction_history.setIsCryptoTransactionsVisible(!0),this.transaction_history.onMount());case 10:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"setIsCryptoTransactionsVisible",value:function(e){this.is_crypto_transactions_visible=e}},{key:"setCashierTabIndex",value:function(e){this.cashier_route_tab_index=e}},{key:"willMountWithdraw",value:function(e){e&&this.clearVerification()}},{key:"onMountWithdraw",value:(T=ca(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setLoading(!0),!/^\w{8,128}$/.test(t)){e.next=8;break}return e.next=5,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+this.converter_from_amount,verification_code:t,dry_run:1});case 5:r=e.sent,e.next=9;break;case 8:r={error:{code:"InvalidToken",message:"Your token has expired or is invalid."}};case 9:"InvalidToken"===r.error.code?(this.handleCashierError(r.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),t&&this.clearVerification()):this.setLoading(!1),this.config.withdraw.error&&this.setErrorMessage(this.config.withdraw.error,this.onMountWithdraw);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return T.apply(this,arguments)})},{key:"onMountDeposit",value:(C=ca(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.active_container,this.setErrorMessage(""),this.setContainerHeight(0),this.setLoading(!0),this.config[this.active_container].is_session_timeout){e.next=7;break}return this.checkIframeLoaded(),e.abrupt("return");case 7:if(this.setIframeUrl(""),(this.active_container!==this.config.withdraw.container||t)&&!this.root_store.client.is_virtual){e.next=11;break}return this.setLoading(!1),e.abrupt("return");case 11:return e.next=13,this.WS.authorized.cashier(this.active_container,{verification_code:t});case 13:if(o=e.sent,n===this.active_container){e.next=17;break}return this.setLoading(!1),e.abrupt("return");case 17:if(!o.error){e.next=25;break}this.handleCashierError(o.error),this.setLoading(!1),this.setSessionTimeout(!0),this.clearTimeoutCashierUrl(),t&&this.clearVerification(),e.next=36;break;case 25:if(!(0,r.isCryptocurrency)(this.root_store.client.currency)){e.next=31;break}this.setLoading(!1),this.setContainerHeight("380"),this.setIframeUrl(o.cashier),e.next=36;break;case 31:return e.next=33,this.checkIframeLoaded();case 33:this.setIframeUrl(o.cashier),this.setSessionTimeout(!1),this.setTimeoutCashierUrl();case 36:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"setNotificationCount",value:function(e){this.p2p_notification_count=e}},{key:"setIsP2pVisible",value:function(e){var t;this.is_p2p_visible=e,!e&&window.location.pathname.endsWith(r.routes.cashier_p2p)&&this.root_store.common.routeTo(null!==(t=this.account_prompt_dialog.last_location)&&void 0!==t?t:r.routes.cashier_deposit)}},{key:"onMount",value:(P=ca(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onRemount=this.onMount,e.next=3,this.onMountCommon();case 3:if(-1!==this.containers.indexOf(this.active_container)||this.root_store.client.is_switching||this.active_container===this.config.payment_agent.container){e.next=5;break}throw new Error("Cashier Store onMount requires a valid container name.");case 5:this.onMountDeposit(t);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})},{key:"is_cashier_locked",get:function(){var e;return!(null===(e=this.root_store.client.account_status)||void 0===e||!e.status)&&this.root_store.client.account_status.status.some((function(e){return"cashier_locked"===e}))}},{key:"is_system_maintenance",get:function(){var e;return!(null===(e=this.root_store.client.account_status)||void 0===e||!e.cashier_validation)&&this.root_store.client.account_status.cashier_validation.some((function(e){return"system_maintenance"===e}))}},{key:"is_deposit_locked",get:function(){var e=this.root_store.client,t=e.is_authentication_needed,r=e.is_tnc_needed,n=e.is_financial_account,o=e.is_financial_information_incomplete,i=e.is_trading_experience_incomplete,a=e.account_status,s=e.is_eu,c=e.mt5_login_list,u=e.is_deposit_lock;if(null==a||!a.status)return!1;var p=this.config.deposit.error.is_ask_authentication||t&&s,l=n&&(o||i),f=(s||c.some((function(e){return"real"===e.account_type&&"financial_stp"===e.sub_account_type})))&&r;return u||p||f||l||this.config.deposit.error.is_ask_financial_risk_approval}},{key:"is_withdrawal_locked",get:function(){var e;if(null===(e=this.root_store.client.account_status)||void 0===e||!e.status)return!1;var t=this.root_store.client.account_status.authentication.needs_verification.includes("identity"),r=this.config.withdraw.error.is_ask_authentication&&t;return this.root_store.client.is_withdrawal_lock||r||this.config.withdraw.error.is_ask_financial_risk_approval}},{key:"is_transfer_locked",get:function(){var e=this.root_store.client,t=e.is_financial_account,r=e.is_financial_information_incomplete,n=e.is_trading_experience_incomplete,o=e.account_status;return!(null==o||!o.status)&&t&&(r||n)&&this.config.account_transfer.error.is_ask_financial_risk_approval}},{key:"setMaxWithdrawAmount",value:function(e){this.max_withdraw_amount=e}},{key:"check10kLimit",value:(k=ca(regeneratorRuntime.mark((function e(){var t,n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.root_store.client.getLimits();case 2:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=null===(n=t.get_limits)||void 0===n?void 0:n.remainder;case 11:o=e.t2,this.setMaxWithdrawAmount(o),i=(0,r.getMinWithdrawal)(this.root_store.client.currency),a=!!(void 0!==o&&+o<i),this.set10kLimitation(a);case 16:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"set10kLimitation",value:function(e){this.is_10k_withdrawal_limit_reached=e}},{key:"checkIframeLoaded",value:(O=ca(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.removeOnIframeLoaded(),this.config[this.active_container].onIframeLoaded=function(e){/cashier|doughflow/.test(e.origin)&&(this.setLoading(!1),this.root_store.ui.is_mobile?this.setContainerHeight(window.innerHeight-100):this.setContainerHeight(window.innerHeight-190))}.bind(this),window.addEventListener("message",this.config[this.active_container].onIframeLoaded,!1);case 3:case"end":return e.stop()}}),e,this)}))),function(){return O.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[e].onIframeLoaded&&(window.removeEventListener("message",this.config[e].onIframeLoaded,!1),this.config[e].onIframeLoaded="")}},{key:"setIframeUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;e?(this.config[t].iframe_url="".concat(e,"&theme=").concat(this.root_store.ui.is_dark_mode_on?"dark":"light"),this.root_store.client.setVerificationCode("",this.map_action[t])):this.config[t].iframe_url=e}},{key:"setContainerHeight",value:function(e){this.config[this.active_container].iframe_height=e}},{key:"setErrorMessage",value:function(e,t,n,o){var i=oa({onClickButton:t,code:e.code,message:e.message,is_show_full_page:n||/InvalidToken|WrongResponse/.test(e.code)},(0,r.getPropertyValue)(e,["details","fields"])&&{fields:e.details.fields});o&&this.config[this.active_container].verification?this.config[this.active_container].verification.error=i:this.config[this.active_container].error=i}},{key:"handleCashierError",value:function(e){switch(e.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(e,null,!0);break;case"ASK_UK_FUNDS_PROTECTION":this.config[this.active_container].error={is_ask_uk_funds_protection:!0};break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.config[this.active_container].error={is_self_exclusion_max_turnover_set:!0};break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.config[this.active_container].error={is_ask_authentication:!0};break;case"ASK_FINANCIAL_RISK_APPROVAL":this.config[this.active_container].error={is_ask_financial_risk_approval:!0};break;default:this.config[this.active_container].error={is_ask_uk_funds_protection:!1,is_self_exclusion_max_turnover_set:!1,is_ask_authentication:!1,is_ask_financial_risk_approval:!1},this.setErrorMessage(e)}}},{key:"setErrorConfig",value:function(e,t){this.config[this.active_container].error=ua({},e,t)}},{key:"submitFundsProtection",value:function(){var e=this;this.WS.send({ukgc_funds_protection:1,tnc_approval:1}).then((function(t){t.error?e.setErrorConfig("message",t.error.message):location.reload()}))}},{key:"setLoading",value:function(e){this.is_loading=e}},{key:"setSessionTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].is_session_timeout=e,e&&this.removeOnIframeLoaded(t)}},{key:"setVerificationButtonClicked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.is_button_clicked=e}},{key:"setVerificationEmailSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.is_email_sent=e}},{key:"setVerificationResendClicked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.is_resend_clicked=e}},{key:"setVerificationResendTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.active_container;this.config[t].verification.resend_timeout=e}},{key:"clearTimeoutCashierUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[e].timeout_session&&clearTimeout(this.config[e].timeout_session)}},{key:"setTimeoutCashierUrl",value:function(){var e=this;this.clearTimeoutCashierUrl(),this.config[this.active_container].timeout_session=setTimeout((function(){e.setSessionTimeout(!0)}),6e4)}},{key:"clearTimeoutVerification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.config[e].verification.timeout_button&&clearTimeout(this.config[e].verification.timeout_button)}},{key:"setTimeoutVerification",value:function(){var e=this;this.clearTimeoutVerification(),this.config[this.active_container].verification.timeout_button=setTimeout((function(){e.clearVerification()}),36e5)}},{key:"sendVerificationEmail",value:(w=ca(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config[this.active_container].verification.is_button_clicked&&this.root_store.client.email){e.next=2;break}return e.abrupt("return");case 2:return this.setErrorMessage(""),this.setVerificationButtonClicked(!0),t="payment".concat(this.active_container===this.config.payment_agent.container?"agent":"","_withdraw"),e.next=7,this.WS.verifyEmail(this.root_store.client.email,t);case 7:(r=e.sent).error?(this.clearVerification(),"PaymentAgentWithdrawError"===r.error.code?this.setErrorMessage(r.error,this.resetPaymentAgent,null,!0):this.setErrorMessage(r.error,(function(){n.setErrorMessage("",null,null,!0)}),null,!0)):(this.setVerificationEmailSent(!0),this.setTimeoutVerification());case 9:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"resendVerificationEmail",value:function(){this.config[this.active_container].verification.resend_timeout<60||(this.setVerificationButtonClicked(!1),this.setCountDownResendVerification(),this.sendVerificationEmail())}},{key:"setCountDownResendVerification",value:function(){var e=this;this.setVerificationResendTimeout(this.config[this.active_container].verification.resend_timeout-1);var t=setInterval((function(){e.config[e.active_container]&&e.config[e.active_container].verification?1===e.config[e.active_container].verification.resend_timeout?(e.setVerificationResendTimeout(60),clearInterval(t)):e.setVerificationResendTimeout(e.config[e.active_container].verification.resend_timeout-1):clearInterval(t)}),1e3)}},{key:"clearVerification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active_container;this.clearTimeoutVerification(e),this.setVerificationButtonClicked(!1,e),this.setVerificationEmailSent(!1,e),this.setVerificationResendClicked(!1,e),this.setVerificationResendTimeout(60,e),this.setErrorMessage("",null,null,!0),this.root_store.client.setVerificationCode("",this.map_action[e])}},{key:"setIsTimerVisible",value:function(e){this.is_timer_visible=e}},{key:"resetTimer",value:function(){this.setIsTimerVisible(!1)}},{key:"getExchangeRate",value:(v=ca(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.send({exchange_rates:1,base_currency:t});case 2:return n=e.sent,o=n.exchange_rates,e.abrupt("return",o.rates[r]);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"setActiveTab",value:function(e){this.active_container=e}},{key:"onMountPaymentAgentList",value:(g=ca(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentList,e.next=4,this.onMountCommon();case 4:this.setLoading(!1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getPaymentAgentList",value:(b=ca(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.config.payment_agent.list.length){e.next=2;break}return e.abrupt("return",this.WS.wait("paymentagent_list"));case 2:return e.next=4,this.WS.wait("get_settings");case 4:return e.abrupt("return",this.WS.authorized.paymentAgentList(this.root_store.client.residence,this.root_store.client.currency));case 5:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getAllPaymentAgentList",value:(m=ca(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.wait("get_settings");case 2:return e.abrupt("return",this.WS.allPaymentAgentList(this.root_store.client.residence));case 3:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"setAllPaymentAgentList",value:function(e){this.all_payment_agent_list=e}},{key:"getPaymentAgentDetails",value:(_=ca(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.paymentAgentDetails();case 2:return t=e.sent,r=t.paymentagent_details,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"addSupportedBank",value:function(e){this.config.payment_agent.supported_banks.find((function(t){return t.value===e.toLowerCase()}))||this.config.payment_agent.supported_banks.push({text:e,value:e.toLowerCase()})}},{key:"sortSupportedBanks",value:function(){this.config.payment_agent.supported_banks.replace(this.config.payment_agent.supported_banks.slice().sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})))}},{key:"setPaymentAgentList",value:(d=ca(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,this.getPaymentAgentList();case 4:e.t0=e.sent;case 5:if((r=e.t0)&&r.paymentagent_list){e.next=8;break}return e.abrupt("return");case 8:r.paymentagent_list.list.forEach((function(e){n.config.payment_agent.list.push({email:e.email,phones:(null==e?void 0:e.phone_numbers)||(null==e?void 0:e.telephone),name:e.name,supported_banks:(null==e?void 0:e.supported_payment_methods)||(null==e?void 0:e.supported_banks),urls:(null==e?void 0:e.urls)||(null==e?void 0:e.url)}),e.supported_banks&&(null!=e&&e.supported_payment_methods?e.supported_payment_methods.map((function(e){return e.payment_method})):e.supported_banks.split(",")).forEach((function(e){n.addSupportedBank(e)}))})),this.sortSupportedBanks();case 10:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(e){var t=this;e?(this.config.payment_agent.filtered_list=[],this.config.payment_agent.list.forEach((function(r){r.supported_banks&&-1!==r.supported_banks.toLowerCase().split(",").indexOf(e)&&t.config.payment_agent.filtered_list.push(r)}))):this.config.payment_agent.filtered_list=this.config.payment_agent.list,!this.is_payment_agent_visible&&window.location.pathname.endsWith(r.routes.cashier_pa)&&this.root_store.common.routeTo(r.routes.cashier_deposit)}},{key:"onChangePaymentMethod",value:function(e){var t=e.target,r="0"===t.value?parseInt(t.value):t.value;this.config.payment_agent.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"onMountPaymentAgentWithdraw",value:(y=ca(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentWithdraw,e.next=4,this.onMountCommon();case 4:if(this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.config.payment_agent.agents.length){e.next=16;break}return e.next=10,this.getPaymentAgentList();case 10:(t=e.sent).paymentagent_list.list.forEach((function(e){n.addPaymentAgent(e)})),!t.paymentagent_list.list.length&&window.location.pathname.endsWith(r.routes.cashier_pa)&&this.root_store.common.routeTo(r.routes.cashier_deposit),this.setLoading(!1),e.next=17;break;case 16:this.setLoading(!1);case 17:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"setIsWithdraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.config.payment_agent.is_withdraw;this.config.payment_agent.is_withdraw=e}},{key:"setIsTryWithdrawSuccessful",value:function(e){this.setErrorMessage(""),this.config.payment_agent.is_try_withdraw_successful=e}},{key:"setIsWithdrawSuccessful",value:function(e){this.config.payment_agent.is_withdraw_successful=e}},{key:"setConfirmation",value:function(e){var t=e.amount,r=e.currency,n=e.loginid,o=e.payment_agent_name;this.config.payment_agent.confirm={amount:t,currency:r,loginid:n,payment_agent_name:o}}},{key:"setReceipt",value:function(e){var t=e.amount_transferred,r=e.payment_agent_email,n=e.payment_agent_id,o=e.payment_agent_name,i=e.payment_agent_phone,a=e.payment_agent_url;this.config.payment_agent.receipt={amount_transferred:t,payment_agent_email:r,payment_agent_id:n,payment_agent_name:o,payment_agent_phone:i,payment_agent_url:a}}},{key:"addPaymentAgent",value:function(e){this.config.payment_agent.agents.push({text:e.name,value:e.paymentagent_loginid,max_withdrawal:e.max_withdrawal,min_withdrawal:e.min_withdrawal,email:e.email,phone:e.telephone,url:e.url})}},{key:"requestTryPaymentAgentWithdraw",value:(h=ca(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.loginid,n=t.currency,o=t.amount,i=t.verification_code,this.setErrorMessage(""),e.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:o,verification_code:i,dry_run:1});case 4:2==+(a=e.sent).paymentagent_withdraw?(s=this.config.payment_agent.agents.find((function(e){return e.value===r})),this.setConfirmation(oa({amount:o,currency:n,loginid:r},s&&{payment_agent_name:s.text})),this.setIsTryWithdrawSuccessful(!0)):this.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"requestPaymentAgentWithdraw",value:(f=ca(regeneratorRuntime.mark((function e(t){var n,o,i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.loginid,o=t.currency,i=t.amount,a=t.verification_code,this.setErrorMessage(""),e.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:n,currency:o,amount:i,verification_code:a});case 4:1==+(s=e.sent).paymentagent_withdraw?(c=this.config.payment_agent.agents.find((function(e){return e.value===n})),this.setReceipt(oa(oa({amount_transferred:(0,r.formatMoney)(o,i,!0)},c&&{payment_agent_email:c.email,payment_agent_id:c.value,payment_agent_name:c.text,payment_agent_phone:c.phone,payment_agent_url:c.url}),!c&&{payment_agent_id:n})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.setErrorMessage(s.error,this.resetPaymentAgent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"onMountAccountTransfer",value:(l=ca(regeneratorRuntime.mark((function e(){var t,r,n,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountAccountTransfer,e.next=4,this.onMountCommon();case 4:return e.next=6,this.WS.wait("website_status");case 6:if(this.config.account_transfer.has_no_accounts_balance&&Object.keys(this.root_store.client.active_accounts).find((function(e){return!i.root_store.client.active_accounts[e].is_virtual&&i.root_store.client.active_accounts[e].balance}))&&this.setHasNoAccountsBalance(!1),!this.root_store.client.is_logged_in){e.next=24;break}return e.next=11,this.WS.authorized.transferBetweenAccounts();case 11:if(!(r=e.sent).error){e.next=16;break}return this.setErrorMessage(r.error,this.onMountAccountTransfer),this.setLoading(!1),e.abrupt("return");case 16:if(this.canDoAccountTransfer(r.accounts)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,this.sortAccountsTransfer(r);case 20:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(t=this.config.account_transfer.accounts_list)||void 0===t?void 0:t.length)>0&&(n=sessionStorage.getItem("cfd_transfer_to_login_id"),sessionStorage.removeItem("cfd_transfer_to_login_id"),(o=this.config.account_transfer.accounts_list.find((function(e){return e.value===n})))&&(ga(o.value)&&(o.error=va(o.value)),this.setSelectedTo(o)));case 24:this.setLoading(!1);case 25:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(e){var t=!0;return e.find((function(e){return+e.balance>0}))?this.setHasNoAccountsBalance(!1):(t=!1,this.setHasNoAccountsBalance(!0)),e.length<=1?(t=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),t||this.setLoading(!1),t}},{key:"setHasNoAccountsBalance",value:function(e){this.config.account_transfer.has_no_accounts_balance=e}},{key:"setHasNoAccount",value:function(e){this.config.account_transfer.has_no_account=e}},{key:"setTransferFee",value:function(){var e=(0,r.getPropertyValue)((0,r.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts","fees",this.config.account_transfer.selected_to.currency]);this.config.account_transfer.transfer_fee=void 0===e?1:+e}},{key:"setMinimumFee",value:function(){var e=(0,r.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.minimum_fee=(1/Math.pow(10,e)).toFixed(e)}},{key:"setTransferLimit",value:function(){var e,t=this.config.account_transfer.selected_from.is_mt||this.config.account_transfer.selected_to.is_mt,n=this.config.account_transfer.selected_from.is_dxtrade||this.config.account_transfer.selected_to.is_dxtrade;e=t?"limits_mt5":n?"limits_dxtrade":"limits";var o=(0,r.getPropertyValue)((0,r.getCurrencies)(),[this.config.account_transfer.selected_from.currency,"transfer_between_accounts",e]),i=this.config.account_transfer.selected_from.balance,a=(0,r.getDecimalPlaces)(this.config.account_transfer.selected_from.currency);this.config.account_transfer.transfer_limit={max:null==o||!o.max||+i>=((null==o?void 0:o.min)||0)&&+i<=(null==o?void 0:o.max)?i:null==o?void 0:o.max.toFixed(a),min:null!=o&&o.min?(+(null==o?void 0:o.min)).toFixed(a):null}}},{key:"sortAccountsTransfer",value:(p=ca(regeneratorRuntime.mark((function e(t){var n,o,i,a,s,c,u,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,this.WS.authorized.transferBetweenAccounts();case 4:e.t0=e.sent;case 5:if(i=e.t0,this.config.account_transfer.accounts_list.length){e.next=9;break}if(!i.error){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,this.WS.storage.mt5LoginList();case 11:if(e.t2=n=e.sent,e.t1=null===e.t2,e.t1){e.next=15;break}e.t1=void 0===n;case 15:if(!e.t1){e.next=19;break}e.t3=void 0,e.next=20;break;case 19:e.t3=n.mt5_login_list;case 20:return a=e.t3,e.next=23,this.WS.tradingPlatformAccountsList(r.CFD_PLATFORMS.DXTRADE);case 23:if(e.t5=o=e.sent,e.t4=null===e.t5,e.t4){e.next=27;break}e.t4=void 0===o;case 27:if(!e.t4){e.next=31;break}e.t6=void 0,e.next=32;break;case 31:e.t6=o.trading_platform_accounts;case 32:s=e.t6,c=i.accounts.map((function(e){if(e.account_type===r.CFD_PLATFORMS.MT5&&Array.isArray(a)&&a.length){var t=a.find((function(t){return t.login===e.loginid}));return void 0===t?e:oa(oa(oa({},e),t),{},{account_type:r.CFD_PLATFORMS.MT5})}if(e.account_type===r.CFD_PLATFORMS.DXTRADE&&Array.isArray(s)&&s.length){var n=s.find((function(t){return t.account_id===e.loginid}));return void 0===n?e:oa(oa(oa({},e),n),{},{account_type:r.CFD_PLATFORMS.DXTRADE})}return e})),i.accounts.length>1&&c.sort((function(e,t){var n=e.account_type===r.CFD_PLATFORMS.MT5,o=t.account_type===r.CFD_PLATFORMS.MT5,i=!n&&(0,r.isCryptocurrency)(e.currency),a=!o&&(0,r.isCryptocurrency)(t.currency),s=!n&&!i,c=!o&&!a;return n&&o?"gaming"===e.market_type||"synthetic"===e.market_type?-1:"financial"===e.sub_account_type?"gaming"===t.market_type||"synthetic"===t.market_type?1:-1:1:i&&a||s&&c?e.currency<t.currency?-1:1:i&&o||s&&a||s&&o||n?-1:1})),u=[],this.setSelectedTo({}),c.forEach((function(e){var t,n,o={mt5:{name:"DMT5",icon:"IcMt5"},dxtrade:{name:"Deriv X",icon:"IcDxtrade"}},i=Object.keys(o).includes(e.account_type),a=null===(t=o[e.account_type])||void 0===t?void 0:t.name,s="".concat(null===(n=o[e.account_type])||void 0===n?void 0:n.icon,"-").concat((0,r.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:p.root_store.client.is_eu})),c=oa({text:i?"".concat(a," ").concat((0,r.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:p.root_store.client.is_eu})):(0,r.getCurrencyDisplayCode)("eUSDT"!==e.currency?e.currency.toUpperCase():e.currency),value:e.loginid,balance:e.balance,currency:e.currency,is_crypto:(0,r.isCryptocurrency)(e.currency),is_mt:e.account_type===r.CFD_PLATFORMS.MT5,is_dxtrade:e.account_type===r.CFD_PLATFORMS.DXTRADE},i&&{platform_icon:s,market_type:(0,r.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:e.account_type,is_eu:p.root_store.client.is_eu})});e.loginid===p.root_store.client.loginid?(ga(c.value)&&(c.error=va(c.value,!0)),p.setSelectedFrom(c)):(0,r.isEmptyObject)(p.config.account_transfer.selected_to)&&(ga(c.value)&&(c.error=va(c.value)),p.setSelectedTo(c)),u.push(c)})),this.setAccounts(u);case 39:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setSelectedFrom",value:function(e){this.config.account_transfer.selected_from=e}},{key:"setSelectedTo",value:function(e){this.config.account_transfer.selected_to=e}},{key:"setAccounts",value:function(e){this.config.account_transfer.accounts_list=e}},{key:"setIsTryTransferSuccessful",value:function(e){this.setErrorMessage(""),this.config[this.active_container].is_try_transfer_successful=e}},{key:"setIsTransferConfirm",value:function(e){this.config[this.active_container].is_transfer_confirm=e}},{key:"setAccountTransferAmount",value:function(e){this.config[this.active_container].account_transfer_amount=e}},{key:"setIsTransferSuccessful",value:function(e){this.config[this.active_container].is_transfer_successful=e}},{key:"setIsMT5TransferInProgress",value:function(e){this.config[this.active_container].is_mt5_transfer_in_progress=e}},{key:"isMT5TransferInProgress",value:function(){var e;return null===(e=this.config[this.active_container])||void 0===e?void 0:e.is_mt5_transfer_in_progress}},{key:"setReceiptTransfer",value:function(e){var t=e.amount;this.config.account_transfer.receipt={amount_transferred:t}}},{key:"onChangeTransferFrom",value:function(e){var t=e.target;this.setErrorMessage(""),this.config.account_transfer.selected_from.error="";var r=this.config.account_transfer.accounts_list.find((function(e){return e.value===t.value}));if(r.value===this.config.account_transfer.selected_to.value)this.onChangeTransferTo({target:{value:this.config.account_transfer.selected_from.value}});else if(r.is_mt&&this.config.account_transfer.selected_to.is_mt||r.is_dxtrade&&this.config.account_transfer.selected_to.is_dxtrade||r.is_dxtrade&&this.config.account_transfer.selected_to.is_mt||r.is_mt&&this.config.account_transfer.selected_to.is_dxtrade){var n=this.config.account_transfer.accounts_list.find((function(e){return!e.is_mt&&!e.is_dxtrade}));this.onChangeTransferTo({target:{value:n.value}})}else if(r.is_crypto&&this.config.account_transfer.selected_to.is_crypto){var o=this.config.account_transfer.accounts_list.find((function(e){return!e.is_crypto}));this.onChangeTransferTo({target:{value:o.value}})}ga(r.value)&&(r.error=va(r.value,!0)),this.config.account_transfer.selected_from=r,this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(e){var t=e.target;this.setErrorMessage(""),this.config.account_transfer.selected_to.error="";var r=this.config.account_transfer.accounts_list;this.config.account_transfer.selected_to=r.find((function(e){return e.value===t.value}))||{},ga(this.config.account_transfer.selected_to.value)&&(this.config.account_transfer.selected_to.error=va(this.config.account_transfer.selected_to.value)),this.setTransferFee(),this.setTransferLimit()}},{key:"onMountPaymentAgentTransfer",value:(u=ca(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLoading(!0),this.onRemount=this.onMountPaymentAgentTransfer,e.next=4,this.onMountCommon();case 4:if(this.config.payment_agent_transfer.transfer_limit.min_withdrawal){e.next=12;break}return e.next=7,this.getPaymentAgentList();case 7:return t=e.sent,e.next=10,this.getCurrentPaymentAgent(t);case 10:r=e.sent,this.setMinMaxPaymentAgentTransfer(r);case 12:this.setLoading(!1);case 13:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getCurrentPaymentAgent",value:(c=ca(regeneratorRuntime.mark((function e(t){var r,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.paymentagent_list.list.find((function(e){return e.paymentagent_loginid===o.root_store.client.loginid})),e.t0=r,e.t0){e.next=6;break}return e.next=5,this.getPaymentAgentDetails();case 5:e.t0=e.sent;case 6:return n=e.t0,e.abrupt("return",null!=n?n:{});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"checkIsPaymentAgent",value:(s=ca(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.WS.authorized.storage.getSettings();case 2:r=e.sent.get_settings,this.setIsPaymentAgent(null!==(t=null==r?void 0:r.is_authenticated_payment_agent)&&void 0!==t&&t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"setIsPaymentAgent",value:function(e){!e&&window.location.pathname.endsWith(r.routes.cashier_pa_transfer)&&this.root_store.common.routeTo(r.routes.cashier_deposit),this.config.payment_agent_transfer.is_payment_agent=!!e}},{key:"setMinMaxPaymentAgentTransfer",value:function(e){var t=e.min_withdrawal,r=e.max_withdrawal;this.config.payment_agent_transfer.transfer_limit={min:t,max:r}}},{key:"setConfirmationPaymentAgentTransfer",value:function(e){var t=e.amount,r=e.client_id,n=e.client_name,o=e.description;this.config.payment_agent_transfer.confirm={amount:t,client_id:r,client_name:n,description:o}}},{key:"setReceiptPaymentAgentTransfer",value:function(e){var t=e.amount_transferred,r=e.client_id,n=e.client_name;this.config.payment_agent_transfer.receipt={amount_transferred:t,client_id:r,client_name:n}}},{key:"accountSwitcherListener",value:function(){var e=this;return[this.config.withdraw.container,this.config.payment_agent.container].forEach((function(t){e.clearVerification(t)})),[this.config.deposit.container,this.config.withdraw.container].forEach((function(t){e.setIframeUrl("",t),e.clearTimeoutCashierUrl(t),e.setSessionTimeout(!0,t)})),this.config.payment_agent=new ka,this.config.account_transfer=new Ca,this.config.payment_agent_transfer=new Pa,this.is_populating_values=!1,this.onRemount(),Promise.resolve()}},{key:"account_platform_icon",get:function(){var e=this;return this.root_store.client.account_list.find((function(t){return e.root_store.client.loginid===t.loginid})).icon}},{key:"setConverterFromAmount",value:function(e){this.converter_from_amount=e}},{key:"setConverterToAmount",value:function(e){this.converter_to_amount=e}},{key:"setConverterFromError",value:function(e){this.converter_from_error=e}},{key:"setConverterToError",value:function(e){this.converter_to_error=e}},{key:"onChangeConverterFromAmount",value:(a=ca(regeneratorRuntime.mark((function e(t,n,o){var i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.target,this.resetTimer(),!i.value){e.next=26;break}if(this.setConverterFromAmount(i.value),this.validateFromAmount(),this.percentageSelectorSelectionStatus(!0),this.calculatePercentage(),!this.converter_from_error){e.next=14;break}this.setConverterToAmount(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.setAccountTransferAmount(""),e.next=24;break;case 14:return e.next=16,this.getExchangeRate(n,o);case 16:a=e.sent,s=(0,r.getDecimalPlaces)(o),+(c=(a*i.value).toFixed(s))||this.converter_from_amount?this.setConverterToAmount(c):this.setConverterToAmount(""),this.validateToAmount(),this.setConverterToError(""),this.setIsTimerVisible(!0),this.setAccountTransferAmount(i.value);case 24:e.next=27;break;case 26:this.resetConverter();case 27:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"onChangeConverterToAmount",value:(i=ca(regeneratorRuntime.mark((function e(t,n,o){var i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.target,this.resetTimer(),!i.value){e.next=24;break}if(this.setConverterToAmount(i.value),this.validateToAmount(),!this.converter_to_error){e.next=12;break}this.setConverterFromAmount(""),this.setConverterFromError(""),this.setIsTimerVisible(!1),this.setAccountTransferAmount(""),e.next=22;break;case 12:return e.next=14,this.getExchangeRate(n,o);case 14:a=e.sent,s=(0,r.getDecimalPlaces)(o),+(c=(a*i.value).toFixed(s))||this.converter_to_amount?this.setConverterFromAmount(c):this.setConverterFromAmount(""),this.percentageSelectorSelectionStatus(!0),this.calculatePercentage(),this.validateFromAmount(),this.converter_from_error?(this.setIsTimerVisible(!1),this.setAccountTransferAmount("")):(this.setConverterFromError(""),this.setIsTimerVisible(!0),this.setAccountTransferAmount(c));case 22:e.next=25;break;case 24:this.resetConverter();case 25:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return i.apply(this,arguments)})},{key:"setTransferPercentageSelectorResult",value:function(e){var t=this.config.account_transfer.selected_from.currency,r=this.config.account_transfer.selected_to.currency;e>0||0==+this.config.account_transfer.selected_from.balance?(this.setConverterFromAmount(e),this.validateTransferFromAmount(),this.onChangeConverterFromAmount({target:{value:e}},t,r)):0==+this.config.account_transfer.selected_from.balance?(this.setConverterFromAmount(e),this.validateTransferFromAmount()):this.resetConverter(),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!1)}},{key:"setWithdrawPercentageSelectorResult",value:function(e){e>0?(this.setConverterFromAmount(e),this.validateWithdrawFromAmount(),this.onChangeConverterFromAmount({target:{value:e}},this.root_store.client.currency,this.root_store.client.current_fiat_currency||"USD")):this.resetConverter(),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!1)}},{key:"validateFromAmount",value:function(){this.active_container===this.config.account_transfer.container?this.validateTransferFromAmount():this.validateWithdrawFromAmount()}},{key:"validateToAmount",value:function(){this.active_container===this.config.account_transfer.container?this.validateTransferToAmount():this.validateWithdrawToAmount()}},{key:"validateTransferFromAmount",value:function(){if(this.converter_from_amount){var e=(0,r.validNumber)(this.converter_from_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(this.config.account_transfer.selected_from.currency),min:this.config.account_transfer.transfer_limit.min,max:this.config.account_transfer.transfer_limit.max}),t=e.is_ok,o=e.message;t?+this.config.account_transfer.selected_from.balance<+this.converter_from_amount?this.setConverterFromError((0,n.localize)("Insufficient funds")):this.setConverterFromError(""):this.setConverterFromError(o)}else this.setConverterFromError((0,n.localize)("This field is required."))}},{key:"validateTransferToAmount",value:function(){if(this.converter_to_amount){var e=this.config.account_transfer.selected_to.currency,t=(0,r.validNumber)(this.converter_to_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(e)}),n=t.is_ok,o=t.message;n?this.setConverterToError(""):this.setConverterToError(o)}}},{key:"validateWithdrawFromAmount",value:function(){var t="",o=this.root_store.client,i=o.balance,a=o.currency,s=o.website_status.crypto_config[a].minimum_withdrawal,c=+this.max_withdraw_amount>+i?+i:+this.max_withdraw_amount;if(this.converter_from_amount){var u=(0,r.validNumber)(this.converter_from_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(a)}),p=u.is_ok,l=u.message;p||(t=l),+i<+this.converter_from_amount&&(t=(0,n.localize)("Insufficient funds")),(+this.converter_from_amount<+s||+this.converter_from_amount>+c)&&(t=e.createElement(n.Localize,{i18n_default_text:"The allowed withdraw amount is {{min_withdraw_amount}} to {{max_withdraw_amount}} {{currency}}",values:{min_withdraw_amount:s,max_withdraw_amount:c,currency:a}}))}this.setConverterFromError(t)}},{key:"validateWithdrawToAmount",value:function(){var e="",t=this.root_store.client.current_fiat_currency;if(this.converter_to_amount){var n=(0,r.validNumber)(this.converter_to_amount,{type:"float",decimals:(0,r.getDecimalPlaces)(t)}),o=n.is_ok,i=n.message;o||(e=i)}this.setConverterToError(e)}},{key:"resetConverter",value:function(){this.setConverterFromAmount(""),this.setConverterToAmount(""),this.setConverterFromError(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.percentageSelectorSelectionStatus(!0)}}]),R}(Te)).prototype,"is_loading",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ki=ba(wi.prototype,"is_p2p_visible",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pi=ba(wi.prototype,"p2p_notification_count",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ci=ba(wi.prototype,"cashier_route_tab_index",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ti=ba(wi.prototype,"is_10k_withdrawal_limit_reached",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Si=ba(wi.prototype,"is_deposit",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ai=ba(wi.prototype,"should_show_all_available_currencies",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Di=ba(wi.prototype,"is_cashier_default",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ji=ba(wi.prototype,"deposit_target",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xi=ba(wi.prototype,"crypto_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ii=ba(wi.prototype,"fiat_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ri=ba(wi.prototype,"insufficient_fund_error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ei=ba(wi.prototype,"all_payment_agent_list",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zi=ba(wi.prototype,"should_set_currency_modal_title_change",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Li=ba(wi.prototype,"p2p_advertiser_error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Mi=ba(wi.prototype,"has_set_currency",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wi=ba(wi.prototype,"withdraw_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fi=ba(wi.prototype,"converter_from_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vi=ba(wi.prototype,"converter_to_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bi=ba(wi.prototype,"converter_from_error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ni=ba(wi.prototype,"converter_to_error",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hi=ba(wi.prototype,"is_timer_visible",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qi=ba(wi.prototype,"is_crypto_transactions_visible",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ui=ba(wi.prototype,"blockchain_address",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$i=ba(wi.prototype,"should_percentage_reset",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gi=ba(wi.prototype,"percentage",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xi=ba(wi.prototype,"is_withdraw_confirmed",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ki=ba(wi.prototype,"show_p2p_in_cashier_default",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ji=ba(wi.prototype,"max_withdraw_amount",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yi=ba(wi.prototype,"config",[t.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{account_transfer:new Ca,deposit:oa(oa({},(0,t.toJS)(new wa({container:"deposit"}))),{},{error:new Oa}),payment_agent:new ka,payment_agent_transfer:new Pa,withdraw:new Ta}}}),ba(wi.prototype,"is_crypto",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_crypto"),wi.prototype),ba(wi.prototype,"is_payment_agent_visible",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_payment_agent_visible"),wi.prototype),ba(wi.prototype,"is_payment_agent_visible_in_onboarding",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_payment_agent_visible_in_onboarding"),wi.prototype),ba(wi.prototype,"is_payment_agent_transfer_visible",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_payment_agent_transfer_visible"),wi.prototype),ba(wi.prototype,"is_account_transfer_visible",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_account_transfer_visible"),wi.prototype),ba(wi.prototype,"is_p2p_enabled",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_p2p_enabled"),wi.prototype),ba(wi.prototype,"showP2pInCashierDefault",[un],Object.getOwnPropertyDescriptor(wi.prototype,"showP2pInCashierDefault"),wi.prototype),ba(wi.prototype,"attachCashierToMenu",[pn],Object.getOwnPropertyDescriptor(wi.prototype,"attachCashierToMenu"),wi.prototype),ba(wi.prototype,"replaceCashierMenuOnclick",[ln],Object.getOwnPropertyDescriptor(wi.prototype,"replaceCashierMenuOnclick"),wi.prototype),ba(wi.prototype,"setHasSetCurrency",[fn],Object.getOwnPropertyDescriptor(wi.prototype,"setHasSetCurrency"),wi.prototype),ba(wi.prototype,"changeSetCurrencyModalTitle",[hn],Object.getOwnPropertyDescriptor(wi.prototype,"changeSetCurrencyModalTitle"),wi.prototype),ba(wi.prototype,"onMountCashierDefault",[yn],Object.getOwnPropertyDescriptor(wi.prototype,"onMountCashierDefault"),wi.prototype),ba(wi.prototype,"setIsWithdrawConfirmed",[dn],Object.getOwnPropertyDescriptor(wi.prototype,"setIsWithdrawConfirmed"),wi.prototype),ba(wi.prototype,"setWithdrawAmount",[_n],Object.getOwnPropertyDescriptor(wi.prototype,"setWithdrawAmount"),wi.prototype),ba(wi.prototype,"calculatePercentage",[mn],Object.getOwnPropertyDescriptor(wi.prototype,"calculatePercentage"),wi.prototype),ba(wi.prototype,"percentageSelectorSelectionStatus",[bn],Object.getOwnPropertyDescriptor(wi.prototype,"percentageSelectorSelectionStatus"),wi.prototype),ba(wi.prototype,"requestWithdraw",[gn],Object.getOwnPropertyDescriptor(wi.prototype,"requestWithdraw"),wi.prototype),ba(wi.prototype,"resetWithrawForm",[vn],Object.getOwnPropertyDescriptor(wi.prototype,"resetWithrawForm"),wi.prototype),ba(wi.prototype,"setIsDeposit",[wn],Object.getOwnPropertyDescriptor(wi.prototype,"setIsDeposit"),wi.prototype),ba(wi.prototype,"setShouldShowAllAvailableCurrencies",[On],Object.getOwnPropertyDescriptor(wi.prototype,"setShouldShowAllAvailableCurrencies"),wi.prototype),ba(wi.prototype,"setBlockchainAddress",[kn],Object.getOwnPropertyDescriptor(wi.prototype,"setBlockchainAddress"),wi.prototype),ba(wi.prototype,"setIsCashierDefault",[Pn],Object.getOwnPropertyDescriptor(wi.prototype,"setIsCashierDefault"),wi.prototype),ba(wi.prototype,"setDepositTarget",[Cn],Object.getOwnPropertyDescriptor(wi.prototype,"setDepositTarget"),wi.prototype),ba(wi.prototype,"continueRoute",[Tn],Object.getOwnPropertyDescriptor(wi.prototype,"continueRoute"),wi.prototype),ba(wi.prototype,"setAccountSwitchListener",[Sn],Object.getOwnPropertyDescriptor(wi.prototype,"setAccountSwitchListener"),wi.prototype),ba(wi.prototype,"setActiveTabIndex",[An],Object.getOwnPropertyDescriptor(wi.prototype,"setActiveTabIndex"),wi.prototype),ba(wi.prototype,"init",[Dn],Object.getOwnPropertyDescriptor(wi.prototype,"init"),wi.prototype),ba(wi.prototype,"getAdvertizerError",[jn],Object.getOwnPropertyDescriptor(wi.prototype,"getAdvertizerError"),wi.prototype),ba(wi.prototype,"setP2pAdvertiserError",[xn],Object.getOwnPropertyDescriptor(wi.prototype,"setP2pAdvertiserError"),wi.prototype),ba(wi.prototype,"checkP2pStatus",[In],Object.getOwnPropertyDescriptor(wi.prototype,"checkP2pStatus"),wi.prototype),ba(wi.prototype,"onMountCommon",[Rn],Object.getOwnPropertyDescriptor(wi.prototype,"onMountCommon"),wi.prototype),ba(wi.prototype,"setIsCryptoTransactionsVisible",[En],Object.getOwnPropertyDescriptor(wi.prototype,"setIsCryptoTransactionsVisible"),wi.prototype),ba(wi.prototype,"setCashierTabIndex",[zn],Object.getOwnPropertyDescriptor(wi.prototype,"setCashierTabIndex"),wi.prototype),ba(wi.prototype,"willMountWithdraw",[Ln],Object.getOwnPropertyDescriptor(wi.prototype,"willMountWithdraw"),wi.prototype),ba(wi.prototype,"onMountWithdraw",[Mn],Object.getOwnPropertyDescriptor(wi.prototype,"onMountWithdraw"),wi.prototype),ba(wi.prototype,"onMountDeposit",[Wn],Object.getOwnPropertyDescriptor(wi.prototype,"onMountDeposit"),wi.prototype),ba(wi.prototype,"setNotificationCount",[Fn],Object.getOwnPropertyDescriptor(wi.prototype,"setNotificationCount"),wi.prototype),ba(wi.prototype,"setIsP2pVisible",[Vn],Object.getOwnPropertyDescriptor(wi.prototype,"setIsP2pVisible"),wi.prototype),ba(wi.prototype,"onMount",[Bn],Object.getOwnPropertyDescriptor(wi.prototype,"onMount"),wi.prototype),ba(wi.prototype,"is_cashier_locked",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_cashier_locked"),wi.prototype),ba(wi.prototype,"is_system_maintenance",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_system_maintenance"),wi.prototype),ba(wi.prototype,"is_deposit_locked",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_deposit_locked"),wi.prototype),ba(wi.prototype,"is_withdrawal_locked",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_withdrawal_locked"),wi.prototype),ba(wi.prototype,"is_transfer_locked",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"is_transfer_locked"),wi.prototype),ba(wi.prototype,"setMaxWithdrawAmount",[Nn],Object.getOwnPropertyDescriptor(wi.prototype,"setMaxWithdrawAmount"),wi.prototype),ba(wi.prototype,"check10kLimit",[Hn],Object.getOwnPropertyDescriptor(wi.prototype,"check10kLimit"),wi.prototype),ba(wi.prototype,"set10kLimitation",[qn],Object.getOwnPropertyDescriptor(wi.prototype,"set10kLimitation"),wi.prototype),ba(wi.prototype,"checkIframeLoaded",[Un],Object.getOwnPropertyDescriptor(wi.prototype,"checkIframeLoaded"),wi.prototype),ba(wi.prototype,"setIframeUrl",[$n],Object.getOwnPropertyDescriptor(wi.prototype,"setIframeUrl"),wi.prototype),ba(wi.prototype,"setContainerHeight",[Gn],Object.getOwnPropertyDescriptor(wi.prototype,"setContainerHeight"),wi.prototype),ba(wi.prototype,"setErrorMessage",[Xn],Object.getOwnPropertyDescriptor(wi.prototype,"setErrorMessage"),wi.prototype),ba(wi.prototype,"handleCashierError",[Kn],Object.getOwnPropertyDescriptor(wi.prototype,"handleCashierError"),wi.prototype),ba(wi.prototype,"setErrorConfig",[Jn],Object.getOwnPropertyDescriptor(wi.prototype,"setErrorConfig"),wi.prototype),ba(wi.prototype,"submitFundsProtection",[Yn],Object.getOwnPropertyDescriptor(wi.prototype,"submitFundsProtection"),wi.prototype),ba(wi.prototype,"setLoading",[Qn],Object.getOwnPropertyDescriptor(wi.prototype,"setLoading"),wi.prototype),ba(wi.prototype,"setSessionTimeout",[Zn],Object.getOwnPropertyDescriptor(wi.prototype,"setSessionTimeout"),wi.prototype),ba(wi.prototype,"setVerificationButtonClicked",[eo],Object.getOwnPropertyDescriptor(wi.prototype,"setVerificationButtonClicked"),wi.prototype),ba(wi.prototype,"setVerificationEmailSent",[to],Object.getOwnPropertyDescriptor(wi.prototype,"setVerificationEmailSent"),wi.prototype),ba(wi.prototype,"setVerificationResendClicked",[ro],Object.getOwnPropertyDescriptor(wi.prototype,"setVerificationResendClicked"),wi.prototype),ba(wi.prototype,"setVerificationResendTimeout",[no],Object.getOwnPropertyDescriptor(wi.prototype,"setVerificationResendTimeout"),wi.prototype),ba(wi.prototype,"setTimeoutCashierUrl",[oo],Object.getOwnPropertyDescriptor(wi.prototype,"setTimeoutCashierUrl"),wi.prototype),ba(wi.prototype,"setTimeoutVerification",[io],Object.getOwnPropertyDescriptor(wi.prototype,"setTimeoutVerification"),wi.prototype),ba(wi.prototype,"sendVerificationEmail",[ao],Object.getOwnPropertyDescriptor(wi.prototype,"sendVerificationEmail"),wi.prototype),ba(wi.prototype,"resendVerificationEmail",[so],Object.getOwnPropertyDescriptor(wi.prototype,"resendVerificationEmail"),wi.prototype),ba(wi.prototype,"setIsTimerVisible",[co],Object.getOwnPropertyDescriptor(wi.prototype,"setIsTimerVisible"),wi.prototype),ba(wi.prototype,"resetTimer",[uo],Object.getOwnPropertyDescriptor(wi.prototype,"resetTimer"),wi.prototype),ba(wi.prototype,"getExchangeRate",[po],Object.getOwnPropertyDescriptor(wi.prototype,"getExchangeRate"),wi.prototype),ba(wi.prototype,"setActiveTab",[lo],Object.getOwnPropertyDescriptor(wi.prototype,"setActiveTab"),wi.prototype),ba(wi.prototype,"onMountPaymentAgentList",[fo],Object.getOwnPropertyDescriptor(wi.prototype,"onMountPaymentAgentList"),wi.prototype),ba(wi.prototype,"getPaymentAgentList",[ho],Object.getOwnPropertyDescriptor(wi.prototype,"getPaymentAgentList"),wi.prototype),ba(wi.prototype,"setAllPaymentAgentList",[yo],Object.getOwnPropertyDescriptor(wi.prototype,"setAllPaymentAgentList"),wi.prototype),ba(wi.prototype,"getPaymentAgentDetails",[_o],Object.getOwnPropertyDescriptor(wi.prototype,"getPaymentAgentDetails"),wi.prototype),ba(wi.prototype,"addSupportedBank",[mo],Object.getOwnPropertyDescriptor(wi.prototype,"addSupportedBank"),wi.prototype),ba(wi.prototype,"sortSupportedBanks",[bo],Object.getOwnPropertyDescriptor(wi.prototype,"sortSupportedBanks"),wi.prototype),ba(wi.prototype,"setPaymentAgentList",[go],Object.getOwnPropertyDescriptor(wi.prototype,"setPaymentAgentList"),wi.prototype),ba(wi.prototype,"filterPaymentAgentList",[vo],Object.getOwnPropertyDescriptor(wi.prototype,"filterPaymentAgentList"),wi.prototype),ba(wi.prototype,"onChangePaymentMethod",[wo],Object.getOwnPropertyDescriptor(wi.prototype,"onChangePaymentMethod"),wi.prototype),ba(wi.prototype,"onMountPaymentAgentWithdraw",[Oo],Object.getOwnPropertyDescriptor(wi.prototype,"onMountPaymentAgentWithdraw"),wi.prototype),ba(wi.prototype,"setIsWithdraw",[ko],Object.getOwnPropertyDescriptor(wi.prototype,"setIsWithdraw"),wi.prototype),ba(wi.prototype,"setIsTryWithdrawSuccessful",[Po],Object.getOwnPropertyDescriptor(wi.prototype,"setIsTryWithdrawSuccessful"),wi.prototype),ba(wi.prototype,"setIsWithdrawSuccessful",[Co],Object.getOwnPropertyDescriptor(wi.prototype,"setIsWithdrawSuccessful"),wi.prototype),ba(wi.prototype,"setConfirmation",[To],Object.getOwnPropertyDescriptor(wi.prototype,"setConfirmation"),wi.prototype),ba(wi.prototype,"setReceipt",[So],Object.getOwnPropertyDescriptor(wi.prototype,"setReceipt"),wi.prototype),ba(wi.prototype,"addPaymentAgent",[Ao],Object.getOwnPropertyDescriptor(wi.prototype,"addPaymentAgent"),wi.prototype),ba(wi.prototype,"requestTryPaymentAgentWithdraw",[Do],Object.getOwnPropertyDescriptor(wi.prototype,"requestTryPaymentAgentWithdraw"),wi.prototype),ba(wi.prototype,"requestPaymentAgentWithdraw",[jo],Object.getOwnPropertyDescriptor(wi.prototype,"requestPaymentAgentWithdraw"),wi.prototype),Qi=ba(wi.prototype,"resetPaymentAgent",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setErrorMessage(""),e.setIsWithdraw(!1),e.clearVerification(),e.setActiveTabIndex(0)}}}),ba(wi.prototype,"onMountAccountTransfer",[Io],Object.getOwnPropertyDescriptor(wi.prototype,"onMountAccountTransfer"),wi.prototype),ba(wi.prototype,"setHasNoAccountsBalance",[Ro],Object.getOwnPropertyDescriptor(wi.prototype,"setHasNoAccountsBalance"),wi.prototype),ba(wi.prototype,"setHasNoAccount",[Eo],Object.getOwnPropertyDescriptor(wi.prototype,"setHasNoAccount"),wi.prototype),ba(wi.prototype,"setTransferFee",[zo],Object.getOwnPropertyDescriptor(wi.prototype,"setTransferFee"),wi.prototype),ba(wi.prototype,"setMinimumFee",[Lo],Object.getOwnPropertyDescriptor(wi.prototype,"setMinimumFee"),wi.prototype),ba(wi.prototype,"setTransferLimit",[Mo],Object.getOwnPropertyDescriptor(wi.prototype,"setTransferLimit"),wi.prototype),ba(wi.prototype,"sortAccountsTransfer",[Wo],Object.getOwnPropertyDescriptor(wi.prototype,"sortAccountsTransfer"),wi.prototype),ba(wi.prototype,"setSelectedFrom",[Fo],Object.getOwnPropertyDescriptor(wi.prototype,"setSelectedFrom"),wi.prototype),ba(wi.prototype,"setSelectedTo",[Vo],Object.getOwnPropertyDescriptor(wi.prototype,"setSelectedTo"),wi.prototype),ba(wi.prototype,"setAccounts",[Bo],Object.getOwnPropertyDescriptor(wi.prototype,"setAccounts"),wi.prototype),ba(wi.prototype,"setIsTryTransferSuccessful",[No],Object.getOwnPropertyDescriptor(wi.prototype,"setIsTryTransferSuccessful"),wi.prototype),ba(wi.prototype,"setIsTransferConfirm",[Ho],Object.getOwnPropertyDescriptor(wi.prototype,"setIsTransferConfirm"),wi.prototype),ba(wi.prototype,"setAccountTransferAmount",[qo],Object.getOwnPropertyDescriptor(wi.prototype,"setAccountTransferAmount"),wi.prototype),ba(wi.prototype,"setIsTransferSuccessful",[Uo],Object.getOwnPropertyDescriptor(wi.prototype,"setIsTransferSuccessful"),wi.prototype),ba(wi.prototype,"setIsMT5TransferInProgress",[$o],Object.getOwnPropertyDescriptor(wi.prototype,"setIsMT5TransferInProgress"),wi.prototype),ba(wi.prototype,"isMT5TransferInProgress",[Go],Object.getOwnPropertyDescriptor(wi.prototype,"isMT5TransferInProgress"),wi.prototype),ba(wi.prototype,"setReceiptTransfer",[Xo],Object.getOwnPropertyDescriptor(wi.prototype,"setReceiptTransfer"),wi.prototype),ba(wi.prototype,"onChangeTransferFrom",[Ko],Object.getOwnPropertyDescriptor(wi.prototype,"onChangeTransferFrom"),wi.prototype),ba(wi.prototype,"onChangeTransferTo",[Jo],Object.getOwnPropertyDescriptor(wi.prototype,"onChangeTransferTo"),wi.prototype),Zi=ba(wi.prototype,"resetAccountTransfer",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return ca(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setIsTransferConfirm(!1);case 1:case"end":return t.stop()}}),t)})))}}),ba(wi.prototype,"onMountPaymentAgentTransfer",[Qo],Object.getOwnPropertyDescriptor(wi.prototype,"onMountPaymentAgentTransfer"),wi.prototype),ba(wi.prototype,"setIsPaymentAgent",[Zo],Object.getOwnPropertyDescriptor(wi.prototype,"setIsPaymentAgent"),wi.prototype),ba(wi.prototype,"setMinMaxPaymentAgentTransfer",[ei],Object.getOwnPropertyDescriptor(wi.prototype,"setMinMaxPaymentAgentTransfer"),wi.prototype),ba(wi.prototype,"setConfirmationPaymentAgentTransfer",[ti],Object.getOwnPropertyDescriptor(wi.prototype,"setConfirmationPaymentAgentTransfer"),wi.prototype),ea=ba(wi.prototype,"requestTryPaymentAgentTransfer",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ca(regeneratorRuntime.mark((function t(r){var n,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.amount,o=r.currency,i=r.description,a=r.transfer_to,e.setErrorMessage(""),t.next=4,e.WS.authorized.paymentAgentTransfer({amount:n,currency:o,description:i,transfer_to:a,dry_run:1});case 4:return 2==+(s=t.sent).paymentagent_transfer?(e.setConfirmationPaymentAgentTransfer({client_id:a,client_name:s.client_to_full_name,amount:n,description:i}),e.setIsTryTransferSuccessful(!0)):e.setErrorMessage(s.error,e.resetPaymentAgentTransfer),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ba(wi.prototype,"setReceiptPaymentAgentTransfer",[ni],Object.getOwnPropertyDescriptor(wi.prototype,"setReceiptPaymentAgentTransfer"),wi.prototype),ta=ba(wi.prototype,"requestPaymentAgentTransfer",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=ca(regeneratorRuntime.mark((function t(r){var n,o,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.amount,o=r.currency,i=r.description,a=r.transfer_to,e.setErrorMessage(""),t.next=4,e.WS.authorized.paymentAgentTransfer({amount:n,currency:o,description:i,transfer_to:a});case 4:return 1==+(s=t.sent).paymentagent_transfer?(e.setReceiptPaymentAgentTransfer({amount_transferred:n,client_id:a,client_name:s.client_to_full_name}),e.setIsTransferSuccessful(!0),e.setIsTryTransferSuccessful(!1),e.setConfirmationPaymentAgentTransfer({})):e.setErrorMessage(s.error,e.resetPaymentAgentTransfer),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ra=ba(wi.prototype,"resetPaymentAgentTransfer",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.setIsTransferSuccessful(!1),e.setErrorMessage("")}}}),ba(wi.prototype,"account_platform_icon",[t.computed],Object.getOwnPropertyDescriptor(wi.prototype,"account_platform_icon"),wi.prototype),ba(wi.prototype,"setConverterFromAmount",[ai],Object.getOwnPropertyDescriptor(wi.prototype,"setConverterFromAmount"),wi.prototype),ba(wi.prototype,"setConverterToAmount",[si],Object.getOwnPropertyDescriptor(wi.prototype,"setConverterToAmount"),wi.prototype),ba(wi.prototype,"setConverterFromError",[ci],Object.getOwnPropertyDescriptor(wi.prototype,"setConverterFromError"),wi.prototype),ba(wi.prototype,"setConverterToError",[ui],Object.getOwnPropertyDescriptor(wi.prototype,"setConverterToError"),wi.prototype),ba(wi.prototype,"onChangeConverterFromAmount",[pi],Object.getOwnPropertyDescriptor(wi.prototype,"onChangeConverterFromAmount"),wi.prototype),ba(wi.prototype,"onChangeConverterToAmount",[li],Object.getOwnPropertyDescriptor(wi.prototype,"onChangeConverterToAmount"),wi.prototype),ba(wi.prototype,"setTransferPercentageSelectorResult",[fi],Object.getOwnPropertyDescriptor(wi.prototype,"setTransferPercentageSelectorResult"),wi.prototype),ba(wi.prototype,"setWithdrawPercentageSelectorResult",[hi],Object.getOwnPropertyDescriptor(wi.prototype,"setWithdrawPercentageSelectorResult"),wi.prototype),ba(wi.prototype,"validateFromAmount",[yi],Object.getOwnPropertyDescriptor(wi.prototype,"validateFromAmount"),wi.prototype),ba(wi.prototype,"validateToAmount",[di],Object.getOwnPropertyDescriptor(wi.prototype,"validateToAmount"),wi.prototype),ba(wi.prototype,"validateTransferFromAmount",[_i],Object.getOwnPropertyDescriptor(wi.prototype,"validateTransferFromAmount"),wi.prototype),ba(wi.prototype,"validateTransferToAmount",[mi],Object.getOwnPropertyDescriptor(wi.prototype,"validateTransferToAmount"),wi.prototype),ba(wi.prototype,"validateWithdrawFromAmount",[bi],Object.getOwnPropertyDescriptor(wi.prototype,"validateWithdrawFromAmount"),wi.prototype),ba(wi.prototype,"validateWithdrawToAmount",[gi],Object.getOwnPropertyDescriptor(wi.prototype,"validateWithdrawToAmount"),wi.prototype),ba(wi.prototype,"resetConverter",[vi],Object.getOwnPropertyDescriptor(wi.prototype,"resetConverter"),wi.prototype),wi)})(),l.default})()}));